
&НаКлиенте
Процедура Разместить(Команда)
	
	ОчиститьСообщения();
	
	Если ПустаяСтрока(ПутьКАрхивуWindows) И ПустаяСтрока(ПутьКАрхивуLinux) Тогда
		Текст = НСтр("ru = 'Укажите полное имя архива с файлами начального образа (файл *.zip)'");
		ОбщегоНазначенияКлиентСервер.СообщитьПользователю(Текст, , "ПутьКАрхивуWindows");
		Возврат;
	КонецЕсли;	
	
	Если Не ПустаяСтрока(ПутьКАрхивуWindows) И (Лев(ПутьКАрхивуWindows, 2) <> "\\" ИЛИ Найти(ПутьКАрхивуWindows, ":") <> 0) Тогда
		ТекстОшибки = НСтр("ru = 'Путь к архиву с файлами начального образа должен быть в формате UNC (\\servername\resource) '");
		ОбщегоНазначенияКлиентСервер.СообщитьПользователю(ТекстОшибки, , "ПутьКАрхивуWindows");
		Возврат;
	КонецЕсли;	
	
	
	Состояние(НСтр("ru = 'Обмен данными'", "ru"), ,
						 НСтр("ru = 'Осуществляется размещение файлов из архива с файлами начального образа...'", "ru"),
						 БиблиотекаКартинок.СоздатьНачальныйОбраз);
	
	ОбменФайлами.ДобавитьФайлыВТома(ПутьКАрхивуWindows, ПутьКАрхивуLinux);
	
	Предупреждение(НСтр("ru = 'Размещение файлов из архива с файлами начального образа успешно завершено'"));
	
КонецПроцедуры
