////////////////////////////////////////////////////////////////////////////////
// ПРОЦЕДУРЫ И ФУНКЦИИ ОБЩЕГО НАЗНАЧЕНИЯ

&НаКлиенте
Процедура ОбработатьВыбор()
	
	Закрыть(Элементы.НайденныеЗаписиПоИндексу.ТекущиеДанные.Код);
	
КонецПроцедуры

////////////////////////////////////////////////////////////////////////////////
// ПРОЦЕДУРЫ - ОБРАБОТЧИКИ СОБЫТИЙ ФОРМЫ

&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	
	// Пропускаем инициализацию, чтобы гарантировать получение формы при передаче параметра "АвтоТест".
	Если Параметры.Свойство("АвтоТест") Тогда
		Возврат;
	КонецЕсли;
	
	ЗначениеВРеквизитФормы(ПолучитьИзВременногоХранилища(Параметры.АдресВХранилище), "НайденныеЗаписиПоИндексу");
	УдалитьИзВременногоХранилища(Параметры.АдресВХранилище);
	
	НадписьОРегионеИРайоне = "" + Параметры.НайденныйРегион + ?(ЗначениеЗаполнено(Параметры.НайденныйРегион) И ЗначениеЗаполнено(Параметры.НайденныйРайон), ", ", "") + Параметры.НайденныйРайон;
	
	ЕстьОписание = Ложь;
	Для Каждого Стр Из НайденныеЗаписиПоИндексу Цикл
		Если Не ПустаяСтрока(Стр.Описание) Тогда
			ЕстьОписание = Истина;
			Прервать;
		КонецЕсли;
	КонецЦикла;
	
	Элементы.НайденныеЗаписиПоИндексу.ПодчиненныеЭлементы.Описание.Видимость = ЕстьОписание;

КонецПроцедуры

////////////////////////////////////////////////////////////////////////////////
// ОБРАБОТЧИКИ СОБЫТИЙ ЭЛЕМЕНТОВ ФОРМЫ

&НаКлиенте
Процедура КомандаЗакрытьВыполнить()
	Закрыть();
КонецПроцедуры

&НаКлиенте
Процедура КомандаВыбратьВыполнить()
	ОбработатьВыбор();
КонецПроцедуры

&НаКлиенте
Процедура НайденныеЗаписиПоИндексуВыбор(Элемент, ВыбраннаяСтрока, Поле, СтандартнаяОбработка)
	ОбработатьВыбор();
КонецПроцедуры
