<?xml version="1.0" encoding="UTF-8"?>
<Rights xmlns="http://v8.1c.ru/8.2/roles" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="Rights">
	<setForNewObjects>false</setForNewObjects>
	<setForAttributesByDefault>false</setForAttributesByDefault>
	<independentRightsOfChildObjects>true</independentRightsOfChildObjects>
	<object>
		<name>InformationRegister.ДополнительныеСведения</name>
		<right>
			<name>Read</name>
			<value>true</value>
			<restrictionByCondition>
				<condition>#ПоЗначениям( "РегистрСведений.ДополнительныеСведения", "Чтение","",
"ДополнительныеСведения", "Свойство",
"","", "","", "","", "","", "","", "","", "","", "","", "","", "","", "","", "","", "","", "","", "","")</condition>
			</restrictionByCondition>
		</right>
	</object>
	<object>
		<name>Constant.ИспользоватьДополнительныеРеквизитыИСведения</name>
		<right>
			<name>Read</name>
			<value>true</value>
		</right>
		<right>
			<name>View</name>
			<value>true</value>
		</right>
	</object>
	<object>
		<name>CommonCommand.ДополнительныеСведения</name>
		<right>
			<name>View</name>
			<value>true</value>
		</right>
	</object>
	<object>
		<name>CommonForm.РедактированиеЗначенийСвойств</name>
		<right>
			<name>View</name>
			<value>true</value>
		</right>
	</object>
	<restrictionTemplate>
		<name>ПоЗначениям</name>
		<condition>// ПоЗначениям ( Таблица, Право, Модификатор, В1,П1, В2,Р2, ...,  В(n), П(n)).
// №  параметра:       1,     2,           3,  4, 5,  6, 7, ..., 2+n*2,3+n*2 .
// Читается так: "ограничение доступа по значениям".
// Параметры:
//     Таблица -   Имя текущей таблицы, например "Документ.ПоступлениеТоваровИУслуг".
//     Право     - Одна из строк "Чтение", "Добавление", "Изменение", "Удаление".
//     Модификатор - изменяет шаблон.
//                 1-й модификтор - строка "НеОграничиватьДоступКГруппам" указывает
//                  безусловно выбирать группы иерархического справочника. 
//                 Других модификаторов в этой версии шаблона не предусмотрено.
//     В(n)      - Вид доступа (имя предопределённого элемента ПланВидовХарактеристик.ВидыДоступа).
//                 Когда В(n) = "Условие" (или ""), тогда Р(n) содержит строку условия на языке запросов, например
//                  "Т.Автор = &amp;ТекущийПользователь",
//                  "ТипЗначения(Т.Владелец) = Тип(Справочник.Организации)", где Т - псевдоним текущей таблицы.
//                 Если по объекту с таблицей Таблица будет выполняться запись наборов значений доступа,
//                  то условие должно проверять значения только из объекта и/или параметров сеанса, например, &amp;ТекущийПользователь.
//                 Когда В(n) = "ПравоЧтения" ИЛИ "ПравоДобавления" ИЛИ "ПравоИзменения",
//                  выполняется проверка наличия права на таблицу значения Т.Р(n).
//     П(n)      - Поле значения, проверяемого по виду доступа, кроме случая В(n) = "Условие" (или "").
//  Примечение: максимальное количество одновременно проверяемых значений полей можно увеличить, изменив шаблон, но
// необходимо будет указывать все параметры шаблона, т.е. указывать пустые строки, когда количество полей меньше максимального.
//  Шаблон имеет структуру:
//     &lt;Общая часть условий&gt; &lt;Условие по группе параметров 1&gt; И &lt;Условие по группе параметров 2&gt; И ... &lt;Условие по группе параметров(n)&gt;
//  Пример:
//      ПоЗначениям("Документ.ПоступлениеТоваровИУслуг", "Чтение", "",
//      "Организации","Организация",
//      "Поставщики","Контрагент", "","", ...)

// Проверка правильности параметра Модификатор.
#Если НЕ ("#Параметр(3)" = "НеОграничиватьДоступКГруппам" ИЛИ "#Параметр(3)" = "") #Тогда
	// Когда параметр задан неверно, вставляется строка, чтобы вызвать ошибку сборки ограничения доступа.
	НеверныйМодификатор: #Параметр(3)
#КонецЕсли
// Проверка правильности параметра Право.
#Если НЕ ("#Параметр(2)" = "Чтение"    ИЛИ "#Параметр(2)" = "Добавление" ИЛИ
          "#Параметр(2)" = "Изменение" ИЛИ "#Параметр(2)" = "Удаление") #Тогда
	// Когда параметр задан неверно, вставляется строка, чтобы вызвать ошибку сборки ограничения доступа.
	НеверноеПраво: #Параметр(2)
#КонецЕсли

// Общая проверка использования ограничений доступа на уровне записей.
#Если НЕ &amp;ОграничиватьДоступПоВиду = "" #Тогда

Т ИЗ Т // Т - псевдоним текущей таблицы (выбран коротким, чтобы сократить количество символов в тексте параметра-условия на языке запросов).

//// Подготовка ТипаСсылки значения поля группы параметров 1.
#Если "#Параметр(4)" = "ПравоЧтения" ИЛИ "#Параметр(4)" = "ПравоДобавления" ИЛИ "#Параметр(4)" = "ПравоИзменения" #Тогда
	Левое Соединение Справочник.ПрофилиГруппДоступа.ТипыСсылок КАК ТипыСсылокПараметр5
	ПО
		  ТипЗначения(#Параметр(5)) = ТипЗначения(ТипыСсылокПараметр5.ТипТаблицы)
#КонецЕсли

//// Подготовка ТипаСсылки значения поля группы параметров 2.
#Если "#Параметр(6)" = "ПравоЧтения" ИЛИ "#Параметр(6)" = "ПравоДобавления" ИЛИ "#Параметр(6)" = "ПравоИзменения" #Тогда
	Левое Соединение Справочник.ПрофилиГруппДоступа.ТипыСсылок КАК ТипыСсылокПараметр7
	ПО
		  ТипЗначения(#Параметр(7)) = ТипЗначения(ТипыСсылокПараметр7.ТипТаблицы)
#КонецЕсли

//// Подготовка ТипаСсылки значения поля группы параметров 3.
#Если "#Параметр(8)" = "ПравоЧтения" ИЛИ "#Параметр(8)" = "ПравоДобавления" ИЛИ "#Параметр(8)" = "ПравоИзменения" #Тогда
	Левое Соединение Справочник.ПрофилиГруппДоступа.ТипыСсылок КАК ТипыСсылокПараметр9
	ПО
		  ТипЗначения(#Параметр(9)) = ТипЗначения(ТипыСсылокПараметр9.ТипТаблицы)
#КонецЕсли

//// Подготовка ТипаСсылки значения поля группы параметров 4.
#Если "#Параметр(10)" = "ПравоЧтения" ИЛИ "#Параметр(10)" = "ПравоДобавления" ИЛИ "#Параметр(10)" = "ПравоИзменения" #Тогда
	Левое Соединение Справочник.ПрофилиГруппДоступа.ТипыСсылок КАК ТипыСсылокПараметр11
	ПО
		  ТипЗначения(#Параметр(11)) = ТипЗначения(ТипыСсылокПараметр11.ТипТаблицы)
#КонецЕсли

//// Подготовка ТипаСсылки значения поля группы параметров 5.
#Если "#Параметр(12)" = "ПравоЧтения" ИЛИ "#Параметр(12)" = "ПравоДобавления" ИЛИ "#Параметр(12)" = "ПравоИзменения" #Тогда
	Левое Соединение Справочник.ПрофилиГруппДоступа.ТипыСсылок КАК ТипыСсылокПараметр13
	ПО
		  ТипЗначения(#Параметр(13)) = ТипЗначения(ТипыСсылокПараметр13.ТипТаблицы)
#КонецЕсли

//// Подготовка ТипаСсылки значения поля группы параметров 6.
#Если "#Параметр(14)" = "ПравоЧтения" ИЛИ "#Параметр(14)" = "ПравоДобавления" ИЛИ "#Параметр(14)" = "ПравоИзменения" #Тогда
	Левое Соединение Справочник.ПрофилиГруппДоступа.ТипыСсылок КАК ТипыСсылокПараметр15
	ПО
		  ТипЗначения(#Параметр(15)) = ТипЗначения(ТипыСсылокПараметр15.ТипТаблицы)
#КонецЕсли

//// Подготовка ТипаСсылки значения поля группы параметров 7.
#Если "#Параметр(16)" = "ПравоЧтения" ИЛИ "#Параметр(16)" = "ПравоДобавления" ИЛИ "#Параметр(16)" = "ПравоИзменения" #Тогда
	Левое Соединение Справочник.ПрофилиГруппДоступа.ТипыСсылок КАК ТипыСсылокПараметр17
	ПО
		  ТипЗначения(#Параметр(17)) = ТипЗначения(ТипыСсылокПараметр17.ТипТаблицы)
#КонецЕсли

//// Подготовка ТипаСсылки значения поля группы параметров 8.
#Если "#Параметр(18)" = "ПравоЧтения" ИЛИ "#Параметр(18)" = "ПравоДобавления" ИЛИ "#Параметр(18)" = "ПравоИзменения" #Тогда
	Левое Соединение Справочник.ПрофилиГруппДоступа.ТипыСсылок КАК ТипыСсылокПараметр19
	ПО
		  ТипЗначения(#Параметр(19)) = ТипЗначения(ТипыСсылокПараметр19.ТипТаблицы)
#КонецЕсли

//// Подготовка ТипаСсылки значения поля группы параметров 9.
#Если "#Параметр(20)" = "ПравоЧтения" ИЛИ "#Параметр(20)" = "ПравоДобавления" ИЛИ "#Параметр(20)" = "ПравоИзменения" #Тогда
	Левое Соединение Справочник.ПрофилиГруппДоступа.ТипыСсылок КАК ТипыСсылокПараметр21
	ПО
		  ТипЗначения(#Параметр(21)) = ТипЗначения(ТипыСсылокПараметр21.ТипТаблицы)
#КонецЕсли

//// Подготовка ТипаСсылки значения поля группы параметров 10.
#Если "#Параметр(22)" = "ПравоЧтения" ИЛИ "#Параметр(22)" = "ПравоДобавления" ИЛИ "#Параметр(22)" = "ПравоИзменения" #Тогда
	Левое Соединение Справочник.ПрофилиГруппДоступа.ТипыСсылок КАК ТипыСсылокПараметр23
	ПО
		  ТипЗначения(#Параметр(23)) = ТипЗначения(ТипыСсылокПараметр23.ТипТаблицы)
#КонецЕсли

//// Подготовка ТипаСсылки значения поля группы параметров 11.
#Если "#Параметр(24)" = "ПравоЧтения" ИЛИ "#Параметр(24)" = "ПравоДобавления" ИЛИ "#Параметр(24)" = "ПравоИзменения" #Тогда
	Левое Соединение Справочник.ПрофилиГруппДоступа.ТипыСсылок КАК ТипыСсылокПараметр25
	ПО
		  ТипЗначения(#Параметр(25)) = ТипЗначения(ТипыСсылокПараметр25.ТипТаблицы)
#КонецЕсли

//// Подготовка ТипаСсылки значения поля группы параметров 12.
#Если "#Параметр(26)" = "ПравоЧтения" ИЛИ "#Параметр(26)" = "ПравоДобавления" ИЛИ "#Параметр(26)" = "ПравоИзменения" #Тогда
	Левое Соединение Справочник.ПрофилиГруппДоступа.ТипыСсылок КАК ТипыСсылокПараметр27
	ПО
		  ТипЗначения(#Параметр(27)) = ТипЗначения(ТипыСсылокПараметр27.ТипТаблицы)
#КонецЕсли

//// Подготовка ТипаСсылки значения поля группы параметров 13.
#Если "#Параметр(28)" = "ПравоЧтения" ИЛИ "#Параметр(28)" = "ПравоДобавления" ИЛИ "#Параметр(28)" = "ПравоИзменения" #Тогда
	Левое Соединение Справочник.ПрофилиГруппДоступа.ТипыСсылок КАК ТипыСсылокПараметр29
	ПО
		  ТипЗначения(#Параметр(29)) = ТипЗначения(ТипыСсылокПараметр29.ТипТаблицы)
#КонецЕсли

//// Подготовка ТипаСсылки значения поля группы параметров 14.
#Если "#Параметр(30)" = "ПравоЧтения" ИЛИ "#Параметр(30)" = "ПравоДобавления" ИЛИ "#Параметр(30)" = "ПравоИзменения" #Тогда
	Левое Соединение Справочник.ПрофилиГруппДоступа.ТипыСсылок КАК ТипыСсылокПараметр31
	ПО
		  ТипЗначения(#Параметр(31)) = ТипЗначения(ТипыСсылокПараметр31.ТипТаблицы)
#КонецЕсли

//// Подготовка ТипаСсылки значения поля группы параметров 15.
#Если "#Параметр(32)" = "ПравоЧтения" ИЛИ "#Параметр(32)" = "ПравоДобавления" ИЛИ "#Параметр(32)" = "ПравоИзменения" #Тогда
	Левое Соединение Справочник.ПрофилиГруппДоступа.ТипыСсылок КАК ТипыСсылокПараметр33
	ПО
		  ТипЗначения(#Параметр(33)) = ТипЗначения(ТипыСсылокПараметр33.ТипТаблицы)
#КонецЕсли

//// Подготовка ТипаСсылки значения поля группы параметров 16.
#Если "#Параметр(34)" = "ПравоЧтения" ИЛИ "#Параметр(34)" = "ПравоДобавления" ИЛИ "#Параметр(34)" = "ПравоИзменения" #Тогда
	Левое Соединение Справочник.ПрофилиГруппДоступа.ТипыСсылок КАК ТипыСсылокПараметр35
	ПО
		  ТипЗначения(#Параметр(35)) = ТипЗначения(ТипыСсылокПараметр35.ТипТаблицы)
#КонецЕсли

ГДЕ

// Безусловная выборка групп в иерархическом объекте метаданных (если нужно).
#Если "#Параметр(3)" = "НеОграничиватьДоступКГруппам" #Тогда
	Т.ЭтоГруппа ИЛИ
#КонецЕсли

Истина В
(	// Проверка права пользователя на текущую таблицу в целом.
	// Права на таблицы формируются по составу ролей профиля группы доступа.
	Выбрать Первые 1 Истина
	ИЗ
	(
		Выбрать РАЗЛИЧНЫЕ
			ТаблицыГруппДоступа.ГруппаДоступа
		ИЗ РегистрСведений.ТаблицыГруппДоступа КАК ТаблицыГруппДоступа
			ВНУТРЕННЕЕ СОЕДИНЕНИЕ РегистрСведений.ГруппыЗначенийДоступа КАК ПользователиИГруппыПользователей
			ПО
				  ТаблицыГруппДоступа.Таблица = "#Параметр(1)"
			#Если НЕ "#Параметр(2)" = "Чтение" #Тогда
				И ТаблицыГруппДоступа.#Параметр(2)
			#КонецЕсли
			#Если &amp;ТекущийВнешнийПользователь = Значение(Справочник.ВнешниеПользователи.ПустаяСсылка) #Тогда
				И ПользователиИГруппыПользователей.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.Пользователи)
				И ПользователиИГруппыПользователей.ЗначениеДоступа = &amp;ТекущийПользователь
			#Иначе
				И ПользователиИГруппыПользователей.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.ВнешниеПользователи)
				И ПользователиИГруппыПользователей.ЗначениеДоступа = &amp;ТекущийВнешнийПользователь
			#КонецЕсли
				И ПользователиИГруппыПользователей.ГруппаДоступа   = ТаблицыГруппДоступа.Пользователь
	) КАК ТаблицыГруппДоступа
	ГДЕ
		  ( // Поиск значений заданных полей в группах доступа (пользователей) по заданным видам доступа.

//// Проверка значения поля группы параметров 1.
#Если "#Параметр(4)" = "Условие" ИЛИ "#Параметр(4)" = "" #Тогда
	// Когда имя вида доступа "Условие" (или ""), тогда вместо имени поля задано условие.
	( #Параметр(5) )
#ИначеЕсли "#Параметр(4)" = "ПравоЧтения" ИЛИ "#Параметр(4)" = "ПравоДобавления" ИЛИ "#Параметр(4)" = "ПравоИзменения" #Тогда
	  #Параметр(5) &lt;&gt; Неопределено
	И Истина В
	 (	// Проверка права пользователя на таблицу Значения, установленного в поле.
		Выбрать Первые 1 Истина
		ИЗ РегистрСведений.ТаблицыГруппДоступа КАК ТаблицыГруппДоступаПроверкаПрава
		ГДЕ
			  ТаблицыГруппДоступаПроверкаПрава.ГруппаДоступа = ТаблицыГруппДоступа.ГруппаДоступа
			И ТаблицыГруппДоступаПроверкаПрава.ТипТаблицы    = ТипыСсылокПараметр5.ТипТаблицы
		#Если "#Параметр(4)" = "ПравоДобавления" #Тогда
			И ТаблицыГруппДоступаПроверкаПрава.Добавление
		#ИначеЕсли "#Параметр(4)" = "ПравоИзменения" #Тогда
			И ТаблицыГруппДоступаПроверкаПрава.Изменение
		#КонецЕсли
	 )
#ИначеЕсли НЕ &amp;ОграничиватьДоступПоВиду#Параметр(4) = "" #Тогда
	
	#Если &amp;ОграничиватьДоступПоВиду#Параметр(4) = "ЧерезПраваПоЗначениямДоступа" #Тогда
	 (
	НЕ Истина В // Проверка, что по виду доступа пользователь ограничивается.
		(
		Выбрать Истина
		ИЗ РегистрСведений.ЗначенияГруппДоступа КАК Виды
		ГДЕ
			  Виды.ГруппаДоступа    = ТаблицыГруппДоступа.ГруппаДоступа
			И Виды.ВидДоступа       = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(4))
			И Виды.ТолькоВидДоступа = Истина
		)
	ИЛИ
		Истина В // Проверка, что пользователю или какой-нибудь группе пользователя право разрешено
			(
			Выбрать Первые 1 Истина
			ИЗ РегистрСведений.ПраваПоЗначениямДоступа КАК ПраваПоЗначениям
				Внутреннее Соединение РегистрСведений.ГруппыЗначенийДоступа КАК ИерархияЗначений
				ПО
					  ИерархияЗначений.ИспользоватьПраваСсылки
					И ИерархияЗначений.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(4))
					И ИерархияЗначений.ЗначениеДоступа = Т.#Параметр(5)
					И ПраваПоЗначениям.Таблица         = "#Параметр(1)"
					И ПраваПоЗначениям.ЗначениеДоступа = ИерархияЗначений.ГруппаДоступа
					И ПраваПоЗначениям.#Параметр(2)
					И ПраваПоЗначениям.РаспространяетсяВИерархии &gt;= ИерархияЗначений.СвязьСРодителем
				Внутреннее Соединение РегистрСведений.ГруппыЗначенийДоступа КАК ПользователиИГруппыПользователей
				ПО
				#Если &amp;ТекущийВнешнийПользователь = Значение(Справочник.ВнешниеПользователи.ПустаяСсылка) #Тогда
					  ПользователиИГруппыПользователей.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.Пользователи)
					И ПользователиИГруппыПользователей.ЗначениеДоступа = &amp;ТекущийПользователь
				#Иначе
					  ПользователиИГруппыПользователей.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.ВнешниеПользователи)
					И ПользователиИГруппыПользователей.ЗначениеДоступа = &amp;ТекущийВнешнийПользователь
				#КонецЕсли
					И ПользователиИГруппыПользователей.ГруппаДоступа   = ПраваПоЗначениям.Пользователь
			)
		 И НЕ Ложь В // Проверка, что пользователю или какой-нибудь группе пользователя право запрещено
			(
			Выбрать Первые 1 Ложь
			ИЗ РегистрСведений.ПраваПоЗначениямДоступа КАК ПраваПоЗначениям
				Внутреннее Соединение РегистрСведений.ГруппыЗначенийДоступа КАК ИерархияЗначений
				ПО
					  ИерархияЗначений.ИспользоватьПраваСсылки
					И ИерархияЗначений.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(4))
					И ИерархияЗначений.ЗначениеДоступа = Т.#Параметр(5)
					И ПраваПоЗначениям.Таблица         = "#Параметр(1)"
					И ПраваПоЗначениям.ЗначениеДоступа = ИерархияЗначений.ГруппаДоступа
					И ПраваПоЗначениям.#Параметр(2)Запрещено
					И ПраваПоЗначениям.РаспространяетсяВИерархии &gt;= ИерархияЗначений.СвязьСРодителем
				Внутреннее Соединение РегистрСведений.ГруппыЗначенийДоступа КАК ПользователиИГруппыПользователей
				ПО
				#Если &amp;ТекущийВнешнийПользователь = Значение(Справочник.ВнешниеПользователи.ПустаяСсылка) #Тогда
					  ПользователиИГруппыПользователей.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.Пользователи)
					И ПользователиИГруппыПользователей.ЗначениеДоступа = &amp;ТекущийПользователь
				#Иначе
					  ПользователиИГруппыПользователей.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.ВнешниеПользователи)
					И ПользователиИГруппыПользователей.ЗначениеДоступа = &amp;ТекущийВнешнийПользователь
				#КонецЕсли
					И ПользователиИГруппыПользователей.ГруппаДоступа   = ПраваПоЗначениям.Пользователь
			)
	 )
	#Иначе
	 (
		#Если "#Параметр(4)" = "Пользователи" #Тогда
		  #Если &amp;ТекущийВнешнийПользователь = Значение(Справочник.ВнешниеПользователи.ПустаяСсылка) #Тогда
			Истина В
				(
				Выбрать Первые 1 Истина
				ИЗ РегистрСведений.ГруппыЗначенийДоступа КАК ПользователиИГруппыПользователей
				ГДЕ
					  ПользователиИГруппыПользователей.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.Пользователи)
					И ПользователиИГруппыПользователей.ЗначениеДоступа = &amp;ТекущийПользователь
					И ПользователиИГруппыПользователей.ГруппаДоступа   = Т.#Параметр(5)
				)
			ИЛИ
		  #КонецЕсли
		#ИначеЕсли "#Параметр(4)" = "ВнешниеПользователи" #Тогда
		  #Если НЕ (&amp;ТекущийВнешнийПользователь = Значение(Справочник.ВнешниеПользователи.ПустаяСсылка)) #Тогда
			Истина В
				(
				Выбрать Первые 1 Истина
				ИЗ РегистрСведений.ГруппыЗначенийДоступа КАК ПользователиИГруппыПользователей
				ГДЕ
					  ПользователиИГруппыПользователей.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.ВнешниеПользователи)
					И ПользователиИГруппыПользователей.ЗначениеДоступа = &amp;ТекущийВнешнийПользователь
					И ПользователиИГруппыПользователей.ГруппаДоступа   = Т.#Параметр(5)
				)
			ИЛИ
		  #КонецЕсли
		// Если ВидПоТипуЗначенияОдинИзМногих, тогда проверка возможности доступа к значению через вид доступа.
		#ИначеЕсли &amp;ОграничиватьДоступПоВиду#Параметр(4) = "ОдинИзМногихВидов,БезГрупп"   ИЛИ
		           &amp;ОграничиватьДоступПоВиду#Параметр(4) = "ОдинИзМногихВидов,ОднаГруппа" ИЛИ
		           &amp;ОграничиватьДоступПоВиду#Параметр(4) = "ОдинИзМногихВидов,МножествоГрупп" #Тогда
			(
			#Если "Т.#Параметр(5)" = "Т.Ссылка" #Тогда
				Т.ВидДоступа#Параметр(4)
			#Иначе
			НЕ Истина В
				(
				Выбрать Истина
				ИЗ РегистрСведений.ГруппыЗначенийДоступа КАК ВидыЗначения
				ГДЕ
					  ВидыЗначения.ВидДоступа       = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(4))
					И ВидыЗначения.ЗначениеДоступа  = Т.#Параметр(5)
					И ВидыЗначения.ТолькоВидДоступа = Истина
				)
			#КонецЕсли
			) И
		#КонецЕсли
			Выбор
			Когда Истина В // Поиск значения в группе доступа (пользователей) непосредственно или через группы доступа значений.
			(
		#Если      &amp;ОграничиватьДоступПоВиду#Параметр(4) = "ЕдинственныйВид,  БезГрупп" ИЛИ
		           &amp;ОграничиватьДоступПоВиду#Параметр(4) = "ОдинИзМногихВидов,БезГрупп" #Тогда
			Выбрать Истина
			ИЗ РегистрСведений.ЗначенияГруппДоступа КАК Значения
			ГДЕ
				  Значения.ГруппаДоступа    = ТаблицыГруппДоступа.ГруппаДоступа
				И Значения.ВидДоступа       = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(4))
				И Значения.ТолькоВидДоступа = Ложь
				И Значения.ЗначениеДоступа  = Т.#Параметр(5)
		#ИначеЕсли "Т.#Параметр(5)" = "Т.Ссылка" #Тогда
			#Если      &amp;ОграничиватьДоступПоВиду#Параметр(4) = "ЕдинственныйВид,  ОднаГруппа" #Тогда
			Выбрать Истина
			ИЗ РегистрСведений.ЗначенияГруппДоступа КАК Значения
			ГДЕ
				  Значения.ГруппаДоступа    = ТаблицыГруппДоступа.ГруппаДоступа
				И Значения.ВидДоступа       = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(4))
				И Значения.ТолькоВидДоступа = Ложь
				И Значения.ЗначениеДоступа  = Т.ГруппаДоступа
			#ИначеЕсли &amp;ОграничиватьДоступПоВиду#Параметр(4) = "ОдинИзМногихВидов,ОднаГруппа" #Тогда
			Выбрать Истина
			ИЗ РегистрСведений.ЗначенияГруппДоступа КАК Значения
			ГДЕ
				  Значения.ГруппаДоступа    = ТаблицыГруппДоступа.ГруппаДоступа
				И Значения.ВидДоступа       = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(4))
				И Значения.ТолькоВидДоступа = Ложь
				И Значения.ЗначениеДоступа  = Т.ГруппаДоступа#Параметр(4)
			#ИначеЕсли &amp;ОграничиватьДоступПоВиду#Параметр(4) = "ЕдинственныйВид  ,МножествоГрупп" #Тогда
			Выбрать Первые 1 Истина
			ИЗ #Параметр(1).ГруппыДоступа КАК ГруппыЗначений
				Внутреннее Соединение РегистрСведений.ЗначенияГруппДоступа КАК Значения
				ПО
					  ГруппыЗначений.Ссылка     = Т.#Параметр(5)
					И Значения.ГруппаДоступа    = ТаблицыГруппДоступа.ГруппаДоступа
					И Значения.ВидДоступа       = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(4))
					И Значения.ТолькоВидДоступа = Ложь
					И Значения.ЗначениеДоступа  = ГруппыЗначений.ГруппаДоступа
			#Иначе //  &amp;ОграничиватьДоступПоВиду##Параметр(4) = "ОдинИзМногихВидов,МножествоГрупп"
			Выбрать Первые 1 Истина
			ИЗ #Параметр(1).ГруппыДоступа#Параметр(4) КАК ГруппыЗначений
				Внутреннее Соединение РегистрСведений.ЗначенияГруппДоступа КАК Значения
				ПО
					  ГруппыЗначений.Ссылка     = Т.#Параметр(5)
					И Значения.ГруппаДоступа    = ТаблицыГруппДоступа.ГруппаДоступа
					И Значения.ВидДоступа       = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(4))
					И Значения.ТолькоВидДоступа = Ложь
					И Значения.ЗначениеДоступа  = ГруппыЗначений.ГруппаДоступа#Параметр(4)
			#КонецЕсли
		#Иначе  // "Т.##Параметр(5)" &lt;&gt; "Т.Ссылка"
			Выбрать Первые 1 Истина
			ИЗ РегистрСведений.ГруппыЗначенийДоступа КАК ГруппыЗначений
				Внутреннее Соединение РегистрСведений.ЗначенияГруппДоступа КАК Значения
				ПО
					  ГруппыЗначений.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(4))
					И ГруппыЗначений.ЗначениеДоступа = Т.#Параметр(5)
					И Значения.ГруппаДоступа         = ТаблицыГруппДоступа.ГруппаДоступа
					И Значения.ВидДоступа            = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(4))
					И Значения.ТолькоВидДоступа      = ГруппыЗначений.ТолькоВидДоступа
					И Значения.ЗначениеДоступа       = ГруппыЗначений.ГруппаДоступа
		#КонецЕсли
			)
			Тогда Истина
			Иначе Ложь
			Конец
			=
			Выбор
			Когда Истина В  // Проверка наличия ограничения по виду доступа для значений.
			(
			Выбрать Истина
			ИЗ РегистрСведений.ЗначенияГруппДоступа КАК Виды
			ГДЕ
				  Виды.ГруппаДоступа    = ТаблицыГруппДоступа.ГруппаДоступа
				И Виды.ВидДоступа       = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(4))
				И Виды.ТолькоВидДоступа = Истина
			)
			Тогда Истина
			Иначе Ложь
			Конец
	 )
	#КонецЕсли
#Иначе
	Истина
#КонецЕсли

//// Проверка значения поля группы параметров 2.
#Если "#Параметр(6)" = "" И "#Параметр(7)" = "" #Тогда
	// Группа параметров не используется.
#ИначеЕсли "#Параметр(6)" = "Условие" ИЛИ "#Параметр(6)" = "" #Тогда
	// Когда имя вида доступа "Условие" (или ""), тогда вместо имени поля задано условие.
	И ( #Параметр(7) )
#ИначеЕсли "#Параметр(6)" = "ПравоЧтения" ИЛИ "#Параметр(6)" = "ПравоДобавления" ИЛИ "#Параметр(6)" = "ПравоИзменения" #Тогда
	И #Параметр(7) &lt;&gt; Неопределено
	И Истина В
	 (	// Проверка права пользователя на таблицу Значения, установленного в поле.
		Выбрать Первые 1 Истина
		ИЗ РегистрСведений.ТаблицыГруппДоступа КАК ТаблицыГруппДоступаПроверкаПрава
		ГДЕ
			  ТаблицыГруппДоступаПроверкаПрава.ГруппаДоступа = ТаблицыГруппДоступа.ГруппаДоступа
			И ТаблицыГруппДоступаПроверкаПрава.ТипТаблицы    = ТипыСсылокПараметр7.ТипТаблицы
		#Если "#Параметр(6)" = "ПравоДобавления" #Тогда
			И ТаблицыГруппДоступаПроверкаПрава.Добавление
		#ИначеЕсли "#Параметр(6)" = "ПравоИзменения" #Тогда
			И ТаблицыГруппДоступаПроверкаПрава.Изменение
		#КонецЕсли
	 )
#ИначеЕсли НЕ &amp;ОграничиватьДоступПоВиду#Параметр(6) = "" #Тогда
	И
	#Если &amp;ОграничиватьДоступПоВиду#Параметр(6) = "ЧерезПраваПоЗначениямДоступа" #Тогда
	 (
	НЕ Истина В // Проверка, что по виду доступа пользователь ограничивается.
		(
		Выбрать Истина
		ИЗ РегистрСведений.ЗначенияГруппДоступа КАК Виды
		ГДЕ
			  Виды.ГруппаДоступа    = ТаблицыГруппДоступа.ГруппаДоступа
			И Виды.ВидДоступа       = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(6))
			И Виды.ТолькоВидДоступа = Истина
		)
	ИЛИ
		Истина В // Проверка, что пользователю или какой-нибудь группе пользователя право разрешено
			(
			Выбрать Первые 1 Истина
			ИЗ РегистрСведений.ПраваПоЗначениямДоступа КАК ПраваПоЗначениям
				Внутреннее Соединение РегистрСведений.ГруппыЗначенийДоступа КАК ИерархияЗначений
				ПО
					  ИерархияЗначений.ИспользоватьПраваСсылки
					И ИерархияЗначений.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(6))
					И ИерархияЗначений.ЗначениеДоступа = Т.#Параметр(7)
					И ПраваПоЗначениям.Таблица         = "#Параметр(1)"
					И ПраваПоЗначениям.ЗначениеДоступа = ИерархияЗначений.ГруппаДоступа
					И ПраваПоЗначениям.#Параметр(2)
					И ПраваПоЗначениям.РаспространяетсяВИерархии &gt;= ИерархияЗначений.СвязьСРодителем
				Внутреннее Соединение РегистрСведений.ГруппыЗначенийДоступа КАК ПользователиИГруппыПользователей
				ПО
				#Если &amp;ТекущийВнешнийПользователь = Значение(Справочник.ВнешниеПользователи.ПустаяСсылка) #Тогда
					  ПользователиИГруппыПользователей.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.Пользователи)
					И ПользователиИГруппыПользователей.ЗначениеДоступа = &amp;ТекущийПользователь
				#Иначе
					  ПользователиИГруппыПользователей.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.ВнешниеПользователи)
					И ПользователиИГруппыПользователей.ЗначениеДоступа = &amp;ТекущийВнешнийПользователь
				#КонецЕсли
					И ПользователиИГруппыПользователей.ГруппаДоступа   = ПраваПоЗначениям.Пользователь
			)
		 И НЕ Ложь В // Проверка, что пользователю или какой-нибудь группе пользователя право запрещено
			(
			Выбрать Первые 1 Ложь
			ИЗ РегистрСведений.ПраваПоЗначениямДоступа КАК ПраваПоЗначениям
				Внутреннее Соединение РегистрСведений.ГруппыЗначенийДоступа КАК ИерархияЗначений
				ПО
					  ИерархияЗначений.ИспользоватьПраваСсылки
					И ИерархияЗначений.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(6))
					И ИерархияЗначений.ЗначениеДоступа = Т.#Параметр(7)
					И ПраваПоЗначениям.Таблица         = "#Параметр(1)"
					И ПраваПоЗначениям.ЗначениеДоступа = ИерархияЗначений.ГруппаДоступа
					И ПраваПоЗначениям.#Параметр(2)Запрещено
					И ПраваПоЗначениям.РаспространяетсяВИерархии &gt;= ИерархияЗначений.СвязьСРодителем
				Внутреннее Соединение РегистрСведений.ГруппыЗначенийДоступа КАК ПользователиИГруппыПользователей
				ПО
				#Если &amp;ТекущийВнешнийПользователь = Значение(Справочник.ВнешниеПользователи.ПустаяСсылка) #Тогда
					  ПользователиИГруппыПользователей.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.Пользователи)
					И ПользователиИГруппыПользователей.ЗначениеДоступа = &amp;ТекущийПользователь
				#Иначе
					  ПользователиИГруппыПользователей.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.ВнешниеПользователи)
					И ПользователиИГруппыПользователей.ЗначениеДоступа = &amp;ТекущийВнешнийПользователь
				#КонецЕсли
					И ПользователиИГруппыПользователей.ГруппаДоступа   = ПраваПоЗначениям.Пользователь
			)
	 )
	#Иначе
	 (
		#Если "#Параметр(6)" = "Пользователи" #Тогда
		  #Если &amp;ТекущийВнешнийПользователь = Значение(Справочник.ВнешниеПользователи.ПустаяСсылка) #Тогда
			Истина В
				(
				Выбрать Первые 1 Истина
				ИЗ РегистрСведений.ГруппыЗначенийДоступа КАК ПользователиИГруппыПользователей
				ГДЕ
					  ПользователиИГруппыПользователей.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.Пользователи)
					И ПользователиИГруппыПользователей.ЗначениеДоступа = &amp;ТекущийПользователь
					И ПользователиИГруппыПользователей.ГруппаДоступа   = Т.#Параметр(7)
				)
			ИЛИ
		  #КонецЕсли
		#ИначеЕсли "#Параметр(6)" = "ВнешниеПользователи" #Тогда
		  #Если НЕ (&amp;ТекущийВнешнийПользователь = Значение(Справочник.ВнешниеПользователи.ПустаяСсылка)) #Тогда
			Истина В
				(
				Выбрать Первые 1 Истина
				ИЗ РегистрСведений.ГруппыЗначенийДоступа КАК ПользователиИГруппыПользователей
				ГДЕ
					  ПользователиИГруппыПользователей.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.ВнешниеПользователи)
					И ПользователиИГруппыПользователей.ЗначениеДоступа = &amp;ТекущийВнешнийПользователь
					И ПользователиИГруппыПользователей.ГруппаДоступа   = Т.#Параметр(7)
				)
			ИЛИ
		  #КонецЕсли
		// Если ВидПоТипуЗначенияОдинИзМногих, тогда проверка возможности доступа к значению через вид доступа.
		#ИначеЕсли &amp;ОграничиватьДоступПоВиду#Параметр(6) = "ОдинИзМногихВидов,БезГрупп"   ИЛИ
		           &amp;ОграничиватьДоступПоВиду#Параметр(6) = "ОдинИзМногихВидов,ОднаГруппа" ИЛИ
		           &amp;ОграничиватьДоступПоВиду#Параметр(6) = "ОдинИзМногихВидов,МножествоГрупп" #Тогда
			(
			#Если "Т.#Параметр(7)" = "Т.Ссылка" #Тогда
				Т.ВидДоступа#Параметр(6)
			#Иначе
			НЕ Истина В
				(
				Выбрать Истина
				ИЗ РегистрСведений.ГруппыЗначенийДоступа КАК ВидыЗначения
				ГДЕ
					  ВидыЗначения.ВидДоступа       = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(6))
					И ВидыЗначения.ЗначениеДоступа  = Т.#Параметр(7)
					И ВидыЗначения.ТолькоВидДоступа = Истина
				)
			#КонецЕсли
			) И
		#КонецЕсли
			Выбор
			Когда Истина В // Поиск значения в группе доступа (пользователей) непосредственно или через группы доступа значений.
			(
		#Если      &amp;ОграничиватьДоступПоВиду#Параметр(6) = "ЕдинственныйВид,  БезГрупп" ИЛИ
		           &amp;ОграничиватьДоступПоВиду#Параметр(6) = "ОдинИзМногихВидов,БезГрупп" #Тогда
			Выбрать Истина
			ИЗ РегистрСведений.ЗначенияГруппДоступа КАК Значения
			ГДЕ
				  Значения.ГруппаДоступа    = ТаблицыГруппДоступа.ГруппаДоступа
				И Значения.ВидДоступа       = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(6))
				И Значения.ТолькоВидДоступа = Ложь
				И Значения.ЗначениеДоступа  = Т.#Параметр(7)
		#ИначеЕсли "Т.#Параметр(7)" = "Т.Ссылка" #Тогда
			#Если      &amp;ОграничиватьДоступПоВиду#Параметр(6) = "ЕдинственныйВид,  ОднаГруппа" #Тогда
			Выбрать Истина
			ИЗ РегистрСведений.ЗначенияГруппДоступа КАК Значения
			ГДЕ
				  Значения.ГруппаДоступа    = ТаблицыГруппДоступа.ГруппаДоступа
				И Значения.ВидДоступа       = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(6))
				И Значения.ТолькоВидДоступа = Ложь
				И Значения.ЗначениеДоступа  = Т.ГруппаДоступа
			#ИначеЕсли &amp;ОграничиватьДоступПоВиду#Параметр(6) = "ОдинИзМногихВидов,ОднаГруппа" #Тогда
			Выбрать Истина
			ИЗ РегистрСведений.ЗначенияГруппДоступа КАК Значения
			ГДЕ
				  Значения.ГруппаДоступа    = ТаблицыГруппДоступа.ГруппаДоступа
				И Значения.ВидДоступа       = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(6))
				И Значения.ТолькоВидДоступа = Ложь
				И Значения.ЗначениеДоступа  = Т.ГруппаДоступа#Параметр(6)
			#ИначеЕсли &amp;ОграничиватьДоступПоВиду#Параметр(6) = "ЕдинственныйВид  ,МножествоГрупп" #Тогда
			Выбрать Первые 1 Истина
			ИЗ #Параметр(1).ГруппыДоступа КАК ГруппыЗначений
				Внутреннее Соединение РегистрСведений.ЗначенияГруппДоступа КАК Значения
				ПО
					  ГруппыЗначений.Ссылка     = Т.#Параметр(7)
					И Значения.ГруппаДоступа    = ТаблицыГруппДоступа.ГруппаДоступа
					И Значения.ВидДоступа       = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(6))
					И Значения.ТолькоВидДоступа = Ложь
					И Значения.ЗначениеДоступа  = ГруппыЗначений.ГруппаДоступа
			#Иначе //  &amp;ОграничиватьДоступПоВиду##Параметр(6) = "ОдинИзМногихВидов,МножествоГрупп"
			Выбрать Первые 1 Истина
			ИЗ #Параметр(1).ГруппыДоступа#Параметр(6) КАК ГруппыЗначений
				Внутреннее Соединение РегистрСведений.ЗначенияГруппДоступа КАК Значения
				ПО
					  ГруппыЗначений.Ссылка     = Т.#Параметр(7)
					И Значения.ГруппаДоступа    = ТаблицыГруппДоступа.ГруппаДоступа
					И Значения.ВидДоступа       = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(6))
					И Значения.ТолькоВидДоступа = Ложь
					И Значения.ЗначениеДоступа  = ГруппыЗначений.ГруппаДоступа#Параметр(6)
			#КонецЕсли
		#Иначе  // "Т.##Параметр(7)" &lt;&gt; "Т.Ссылка"
			Выбрать Первые 1 Истина
			ИЗ РегистрСведений.ГруппыЗначенийДоступа КАК ГруппыЗначений
				Внутреннее Соединение РегистрСведений.ЗначенияГруппДоступа КАК Значения
				ПО
					  ГруппыЗначений.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(6))
					И ГруппыЗначений.ЗначениеДоступа = Т.#Параметр(7)
					И Значения.ГруппаДоступа         = ТаблицыГруппДоступа.ГруппаДоступа
					И Значения.ВидДоступа            = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(6))
					И Значения.ТолькоВидДоступа      = ГруппыЗначений.ТолькоВидДоступа
					И Значения.ЗначениеДоступа       = ГруппыЗначений.ГруппаДоступа
		#КонецЕсли
			)
			Тогда Истина
			Иначе Ложь
			Конец
			=
			Выбор
			Когда Истина В  // Проверка наличия ограничения по виду доступа для значений.
			(
			Выбрать Истина
			ИЗ РегистрСведений.ЗначенияГруппДоступа КАК Виды
			ГДЕ
				  Виды.ГруппаДоступа    = ТаблицыГруппДоступа.ГруппаДоступа
				И Виды.ВидДоступа       = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(6))
				И Виды.ТолькоВидДоступа = Истина
			)
			Тогда Истина
			Иначе Ложь
			Конец
	 )
	#КонецЕсли
#КонецЕсли

//// Проверка значения поля группы параметров 3.
#Если "#Параметр(8)" = "" И "#Параметр(9)" = "" #Тогда
	// Группа параметров не используется.
#ИначеЕсли "#Параметр(8)" = "Условие" ИЛИ "#Параметр(8)" = "" #Тогда
	// Когда имя вида доступа "Условие" (или ""), тогда вместо имени поля задано условие.
	И ( #Параметр(9) )
#ИначеЕсли "#Параметр(8)" = "ПравоЧтения" ИЛИ "#Параметр(8)" = "ПравоДобавления" ИЛИ "#Параметр(8)" = "ПравоИзменения" #Тогда
	И #Параметр(9) &lt;&gt; Неопределено
	И Истина В
	 (	// Проверка права пользователя на таблицу Значения, установленного в поле.
		Выбрать Первые 1 Истина
		ИЗ РегистрСведений.ТаблицыГруппДоступа КАК ТаблицыГруппДоступаПроверкаПрава
		ГДЕ
			  ТаблицыГруппДоступаПроверкаПрава.ГруппаДоступа = ТаблицыГруппДоступа.ГруппаДоступа
			И ТаблицыГруппДоступаПроверкаПрава.ТипТаблицы    = ТипыСсылокПараметр9.ТипТаблицы
		#Если "#Параметр(8)" = "ПравоДобавления" #Тогда
			И ТаблицыГруппДоступаПроверкаПрава.Добавление
		#ИначеЕсли "#Параметр(8)" = "ПравоИзменения" #Тогда
			И ТаблицыГруппДоступаПроверкаПрава.Изменение
		#КонецЕсли
	 )
#ИначеЕсли НЕ &amp;ОграничиватьДоступПоВиду#Параметр(8) = "" #Тогда
	И
	#Если &amp;ОграничиватьДоступПоВиду#Параметр(8) = "ЧерезПраваПоЗначениямДоступа" #Тогда
	 (
	НЕ Истина В // Проверка, что по виду доступа пользователь ограничивается.
		(
		Выбрать Истина
		ИЗ РегистрСведений.ЗначенияГруппДоступа КАК Виды
		ГДЕ
			  Виды.ГруппаДоступа    = ТаблицыГруппДоступа.ГруппаДоступа
			И Виды.ВидДоступа       = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(8))
			И Виды.ТолькоВидДоступа = Истина
		)
	ИЛИ
		Истина В // Проверка, что пользователю или какой-нибудь группе пользователя право разрешено
			(
			Выбрать Первые 1 Истина
			ИЗ РегистрСведений.ПраваПоЗначениямДоступа КАК ПраваПоЗначениям
				Внутреннее Соединение РегистрСведений.ГруппыЗначенийДоступа КАК ИерархияЗначений
				ПО
					  ИерархияЗначений.ИспользоватьПраваСсылки
					И ИерархияЗначений.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(8))
					И ИерархияЗначений.ЗначениеДоступа = Т.#Параметр(9)
					И ПраваПоЗначениям.Таблица         = "#Параметр(1)"
					И ПраваПоЗначениям.ЗначениеДоступа = ИерархияЗначений.ГруппаДоступа
					И ПраваПоЗначениям.#Параметр(2)
					И ПраваПоЗначениям.РаспространяетсяВИерархии &gt;= ИерархияЗначений.СвязьСРодителем
				Внутреннее Соединение РегистрСведений.ГруппыЗначенийДоступа КАК ПользователиИГруппыПользователей
				ПО
				#Если &amp;ТекущийВнешнийПользователь = Значение(Справочник.ВнешниеПользователи.ПустаяСсылка) #Тогда
					  ПользователиИГруппыПользователей.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.Пользователи)
					И ПользователиИГруппыПользователей.ЗначениеДоступа = &amp;ТекущийПользователь
				#Иначе
					  ПользователиИГруппыПользователей.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.ВнешниеПользователи)
					И ПользователиИГруппыПользователей.ЗначениеДоступа = &amp;ТекущийВнешнийПользователь
				#КонецЕсли
					И ПользователиИГруппыПользователей.ГруппаДоступа   = ПраваПоЗначениям.Пользователь
			)
		 И НЕ Ложь В // Проверка, что пользователю или какой-нибудь группе пользователя право запрещено
			(
			Выбрать Первые 1 Ложь
			ИЗ РегистрСведений.ПраваПоЗначениямДоступа КАК ПраваПоЗначениям
				Внутреннее Соединение РегистрСведений.ГруппыЗначенийДоступа КАК ИерархияЗначений
				ПО
					  ИерархияЗначений.ИспользоватьПраваСсылки
					И ИерархияЗначений.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(8))
					И ИерархияЗначений.ЗначениеДоступа = Т.#Параметр(9)
					И ПраваПоЗначениям.Таблица         = "#Параметр(1)"
					И ПраваПоЗначениям.ЗначениеДоступа = ИерархияЗначений.ГруппаДоступа
					И ПраваПоЗначениям.#Параметр(2)Запрещено
					И ПраваПоЗначениям.РаспространяетсяВИерархии &gt;= ИерархияЗначений.СвязьСРодителем
				Внутреннее Соединение РегистрСведений.ГруппыЗначенийДоступа КАК ПользователиИГруппыПользователей
				ПО
				#Если &amp;ТекущийВнешнийПользователь = Значение(Справочник.ВнешниеПользователи.ПустаяСсылка) #Тогда
					  ПользователиИГруппыПользователей.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.Пользователи)
					И ПользователиИГруппыПользователей.ЗначениеДоступа = &amp;ТекущийПользователь
				#Иначе
					  ПользователиИГруппыПользователей.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.ВнешниеПользователи)
					И ПользователиИГруппыПользователей.ЗначениеДоступа = &amp;ТекущийВнешнийПользователь
				#КонецЕсли
					И ПользователиИГруппыПользователей.ГруппаДоступа   = ПраваПоЗначениям.Пользователь
			)
	 )
	#Иначе
	 (
		#Если "#Параметр(8)" = "Пользователи" #Тогда
		  #Если &amp;ТекущийВнешнийПользователь = Значение(Справочник.ВнешниеПользователи.ПустаяСсылка) #Тогда
			Истина В
				(
				Выбрать Первые 1 Истина
				ИЗ РегистрСведений.ГруппыЗначенийДоступа КАК ПользователиИГруппыПользователей
				ГДЕ
					  ПользователиИГруппыПользователей.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.Пользователи)
					И ПользователиИГруппыПользователей.ЗначениеДоступа = &amp;ТекущийПользователь
					И ПользователиИГруппыПользователей.ГруппаДоступа   = Т.#Параметр(9)
				)
			ИЛИ
		  #КонецЕсли
		#ИначеЕсли "#Параметр(8)" = "ВнешниеПользователи" #Тогда
		  #Если НЕ (&amp;ТекущийВнешнийПользователь = Значение(Справочник.ВнешниеПользователи.ПустаяСсылка)) #Тогда
			Истина В
				(
				Выбрать Первые 1 Истина
				ИЗ РегистрСведений.ГруппыЗначенийДоступа КАК ПользователиИГруппыПользователей
				ГДЕ
					  ПользователиИГруппыПользователей.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.ВнешниеПользователи)
					И ПользователиИГруппыПользователей.ЗначениеДоступа = &amp;ТекущийВнешнийПользователь
					И ПользователиИГруппыПользователей.ГруппаДоступа   = Т.#Параметр(9)
				)
			ИЛИ
		  #КонецЕсли
		// Если ВидПоТипуЗначенияОдинИзМногих, тогда проверка возможности доступа к значению через вид доступа.
		#ИначеЕсли &amp;ОграничиватьДоступПоВиду#Параметр(8) = "ОдинИзМногихВидов,БезГрупп"   ИЛИ
		           &amp;ОграничиватьДоступПоВиду#Параметр(8) = "ОдинИзМногихВидов,ОднаГруппа" ИЛИ
		           &amp;ОграничиватьДоступПоВиду#Параметр(8) = "ОдинИзМногихВидов,МножествоГрупп" #Тогда
			(
			#Если "Т.#Параметр(9)" = "Т.Ссылка" #Тогда
				Т.ВидДоступа#Параметр(8)
			#Иначе
			НЕ Истина В
				(
				Выбрать Истина
				ИЗ РегистрСведений.ГруппыЗначенийДоступа КАК ВидыЗначения
				ГДЕ
					  ВидыЗначения.ВидДоступа       = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(8))
					И ВидыЗначения.ЗначениеДоступа  = Т.#Параметр(9)
					И ВидыЗначения.ТолькоВидДоступа = Истина
				)
			#КонецЕсли
			) И
		#КонецЕсли
			Выбор
			Когда Истина В // Поиск значения в группе доступа (пользователей) непосредственно или через группы доступа значений.
			(
		#Если      &amp;ОграничиватьДоступПоВиду#Параметр(8) = "ЕдинственныйВид,  БезГрупп" ИЛИ
		           &amp;ОграничиватьДоступПоВиду#Параметр(8) = "ОдинИзМногихВидов,БезГрупп" #Тогда
			Выбрать Истина
			ИЗ РегистрСведений.ЗначенияГруппДоступа КАК Значения
			ГДЕ
				  Значения.ГруппаДоступа    = ТаблицыГруппДоступа.ГруппаДоступа
				И Значения.ВидДоступа       = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(8))
				И Значения.ТолькоВидДоступа = Ложь
				И Значения.ЗначениеДоступа  = Т.#Параметр(9)
		#ИначеЕсли "Т.#Параметр(9)" = "Т.Ссылка" #Тогда
			#Если      &amp;ОграничиватьДоступПоВиду#Параметр(8) = "ЕдинственныйВид,  ОднаГруппа" #Тогда
			Выбрать Истина
			ИЗ РегистрСведений.ЗначенияГруппДоступа КАК Значения
			ГДЕ
				  Значения.ГруппаДоступа    = ТаблицыГруппДоступа.ГруппаДоступа
				И Значения.ВидДоступа       = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(8))
				И Значения.ТолькоВидДоступа = Ложь
				И Значения.ЗначениеДоступа  = Т.ГруппаДоступа
			#ИначеЕсли &amp;ОграничиватьДоступПоВиду#Параметр(8) = "ОдинИзМногихВидов,ОднаГруппа" #Тогда
			Выбрать Истина
			ИЗ РегистрСведений.ЗначенияГруппДоступа КАК Значения
			ГДЕ
				  Значения.ГруппаДоступа    = ТаблицыГруппДоступа.ГруппаДоступа
				И Значения.ВидДоступа       = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(8))
				И Значения.ТолькоВидДоступа = Ложь
				И Значения.ЗначениеДоступа  = Т.ГруппаДоступа#Параметр(8)
			#ИначеЕсли &amp;ОграничиватьДоступПоВиду#Параметр(8) = "ЕдинственныйВид  ,МножествоГрупп" #Тогда
			Выбрать Первые 1 Истина
			ИЗ #Параметр(1).ГруппыДоступа КАК ГруппыЗначений
				Внутреннее Соединение РегистрСведений.ЗначенияГруппДоступа КАК Значения
				ПО
					  ГруппыЗначений.Ссылка     = Т.#Параметр(9)
					И Значения.ГруппаДоступа    = ТаблицыГруппДоступа.ГруппаДоступа
					И Значения.ВидДоступа       = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(8))
					И Значения.ТолькоВидДоступа = Ложь
					И Значения.ЗначениеДоступа  = ГруппыЗначений.ГруппаДоступа
			#Иначе //  &amp;ОграничиватьДоступПоВиду##Параметр(8) = "ОдинИзМногихВидов,МножествоГрупп"
			Выбрать Первые 1 Истина
			ИЗ #Параметр(1).ГруппыДоступа#Параметр(8) КАК ГруппыЗначений
				Внутреннее Соединение РегистрСведений.ЗначенияГруппДоступа КАК Значения
				ПО
					  ГруппыЗначений.Ссылка     = Т.#Параметр(9)
					И Значения.ГруппаДоступа    = ТаблицыГруппДоступа.ГруппаДоступа
					И Значения.ВидДоступа       = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(8))
					И Значения.ТолькоВидДоступа = Ложь
					И Значения.ЗначениеДоступа  = ГруппыЗначений.ГруппаДоступа#Параметр(8)
			#КонецЕсли
		#Иначе  // "Т.##Параметр(9)" &lt;&gt; "Т.Ссылка"
			Выбрать Первые 1 Истина
			ИЗ РегистрСведений.ГруппыЗначенийДоступа КАК ГруппыЗначений
				Внутреннее Соединение РегистрСведений.ЗначенияГруппДоступа КАК Значения
				ПО
					  ГруппыЗначений.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(8))
					И ГруппыЗначений.ЗначениеДоступа = Т.#Параметр(9)
					И Значения.ГруппаДоступа         = ТаблицыГруппДоступа.ГруппаДоступа
					И Значения.ВидДоступа            = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(8))
					И Значения.ТолькоВидДоступа      = ГруппыЗначений.ТолькоВидДоступа
					И Значения.ЗначениеДоступа       = ГруппыЗначений.ГруппаДоступа
		#КонецЕсли
			)
			Тогда Истина
			Иначе Ложь
			Конец
			=
			Выбор
			Когда Истина В  // Проверка наличия ограничения по виду доступа для значений.
			(
			Выбрать Истина
			ИЗ РегистрСведений.ЗначенияГруппДоступа КАК Виды
			ГДЕ
				  Виды.ГруппаДоступа    = ТаблицыГруппДоступа.ГруппаДоступа
				И Виды.ВидДоступа       = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(8))
				И Виды.ТолькоВидДоступа = Истина
			)
			Тогда Истина
			Иначе Ложь
			Конец
	 )
	#КонецЕсли
#КонецЕсли

//// Проверка значения поля группы параметров 4.
#Если "#Параметр(10)" = "" И "#Параметр(11)" = "" #Тогда
	// Группа параметров не используется.
#ИначеЕсли "#Параметр(10)" = "Условие" ИЛИ "#Параметр(10)" = "" #Тогда
	// Когда имя вида доступа "Условие" (или ""), тогда вместо имени поля задано условие.
	И ( #Параметр(11) )
#ИначеЕсли "#Параметр(10)" = "ПравоЧтения" ИЛИ "#Параметр(10)" = "ПравоДобавления" ИЛИ "#Параметр(10)" = "ПравоИзменения" #Тогда
	И #Параметр(11) &lt;&gt; Неопределено
	И Истина В
	 (	// Проверка права пользователя на таблицу Значения, установленного в поле.
		Выбрать Первые 1 Истина
		ИЗ РегистрСведений.ТаблицыГруппДоступа КАК ТаблицыГруппДоступаПроверкаПрава
		ГДЕ
			  ТаблицыГруппДоступаПроверкаПрава.ГруппаДоступа = ТаблицыГруппДоступа.ГруппаДоступа
			И ТаблицыГруппДоступаПроверкаПрава.ТипТаблицы    = ТипыСсылокПараметр11.ТипТаблицы
		#Если "#Параметр(10)" = "ПравоДобавления" #Тогда
			И ТаблицыГруппДоступаПроверкаПрава.Добавление
		#ИначеЕсли "#Параметр(10)" = "ПравоИзменения" #Тогда
			И ТаблицыГруппДоступаПроверкаПрава.Изменение
		#КонецЕсли
	 )
#ИначеЕсли НЕ &amp;ОграничиватьДоступПоВиду#Параметр(10) = "" #Тогда
	И
	#Если &amp;ОграничиватьДоступПоВиду#Параметр(10) = "ЧерезПраваПоЗначениямДоступа" #Тогда
	 (
	НЕ Истина В // Проверка, что по виду доступа пользователь ограничивается.
		(
		Выбрать Истина
		ИЗ РегистрСведений.ЗначенияГруппДоступа КАК Виды
		ГДЕ
			  Виды.ГруппаДоступа    = ТаблицыГруппДоступа.ГруппаДоступа
			И Виды.ВидДоступа       = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(10))
			И Виды.ТолькоВидДоступа = Истина
		)
	ИЛИ
		Истина В // Проверка, что пользователю или какой-нибудь группе пользователя право разрешено
			(
			Выбрать Первые 1 Истина
			ИЗ РегистрСведений.ПраваПоЗначениямДоступа КАК ПраваПоЗначениям
				Внутреннее Соединение РегистрСведений.ГруппыЗначенийДоступа КАК ИерархияЗначений
				ПО
					  ИерархияЗначений.ИспользоватьПраваСсылки
					И ИерархияЗначений.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(10))
					И ИерархияЗначений.ЗначениеДоступа = Т.#Параметр(11)
					И ПраваПоЗначениям.Таблица         = "#Параметр(1)"
					И ПраваПоЗначениям.ЗначениеДоступа = ИерархияЗначений.ГруппаДоступа
					И ПраваПоЗначениям.#Параметр(2)
					И ПраваПоЗначениям.РаспространяетсяВИерархии &gt;= ИерархияЗначений.СвязьСРодителем
				Внутреннее Соединение РегистрСведений.ГруппыЗначенийДоступа КАК ПользователиИГруппыПользователей
				ПО
				#Если &amp;ТекущийВнешнийПользователь = Значение(Справочник.ВнешниеПользователи.ПустаяСсылка) #Тогда
					  ПользователиИГруппыПользователей.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.Пользователи)
					И ПользователиИГруппыПользователей.ЗначениеДоступа = &amp;ТекущийПользователь
				#Иначе
					  ПользователиИГруппыПользователей.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.ВнешниеПользователи)
					И ПользователиИГруппыПользователей.ЗначениеДоступа = &amp;ТекущийВнешнийПользователь
				#КонецЕсли
					И ПользователиИГруппыПользователей.ГруппаДоступа   = ПраваПоЗначениям.Пользователь
			)
		 И НЕ Ложь В // Проверка, что пользователю или какой-нибудь группе пользователя право запрещено
			(
			Выбрать Первые 1 Ложь
			ИЗ РегистрСведений.ПраваПоЗначениямДоступа КАК ПраваПоЗначениям
				Внутреннее Соединение РегистрСведений.ГруппыЗначенийДоступа КАК ИерархияЗначений
				ПО
					  ИерархияЗначений.ИспользоватьПраваСсылки
					И ИерархияЗначений.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(10))
					И ИерархияЗначений.ЗначениеДоступа = Т.#Параметр(11)
					И ПраваПоЗначениям.Таблица         = "#Параметр(1)"
					И ПраваПоЗначениям.ЗначениеДоступа = ИерархияЗначений.ГруппаДоступа
					И ПраваПоЗначениям.#Параметр(2)Запрещено
					И ПраваПоЗначениям.РаспространяетсяВИерархии &gt;= ИерархияЗначений.СвязьСРодителем
				Внутреннее Соединение РегистрСведений.ГруппыЗначенийДоступа КАК ПользователиИГруппыПользователей
				ПО
				#Если &amp;ТекущийВнешнийПользователь = Значение(Справочник.ВнешниеПользователи.ПустаяСсылка) #Тогда
					  ПользователиИГруппыПользователей.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.Пользователи)
					И ПользователиИГруппыПользователей.ЗначениеДоступа = &amp;ТекущийПользователь
				#Иначе
					  ПользователиИГруппыПользователей.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.ВнешниеПользователи)
					И ПользователиИГруппыПользователей.ЗначениеДоступа = &amp;ТекущийВнешнийПользователь
				#КонецЕсли
					И ПользователиИГруппыПользователей.ГруппаДоступа   = ПраваПоЗначениям.Пользователь
			)
	 )
	#Иначе
	 (
		#Если "#Параметр(10)" = "Пользователи" #Тогда
		  #Если &amp;ТекущийВнешнийПользователь = Значение(Справочник.ВнешниеПользователи.ПустаяСсылка) #Тогда
			Истина В
				(
				Выбрать Первые 1 Истина
				ИЗ РегистрСведений.ГруппыЗначенийДоступа КАК ПользователиИГруппыПользователей
				ГДЕ
					  ПользователиИГруппыПользователей.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.Пользователи)
					И ПользователиИГруппыПользователей.ЗначениеДоступа = &amp;ТекущийПользователь
					И ПользователиИГруппыПользователей.ГруппаДоступа   = Т.#Параметр(11)
				)
			ИЛИ
		  #КонецЕсли
		#ИначеЕсли "#Параметр(10)" = "ВнешниеПользователи" #Тогда
		  #Если НЕ (&amp;ТекущийВнешнийПользователь = Значение(Справочник.ВнешниеПользователи.ПустаяСсылка)) #Тогда
			Истина В
				(
				Выбрать Первые 1 Истина
				ИЗ РегистрСведений.ГруппыЗначенийДоступа КАК ПользователиИГруппыПользователей
				ГДЕ
					  ПользователиИГруппыПользователей.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.ВнешниеПользователи)
					И ПользователиИГруппыПользователей.ЗначениеДоступа = &amp;ТекущийВнешнийПользователь
					И ПользователиИГруппыПользователей.ГруппаДоступа   = Т.#Параметр(11)
				)
			ИЛИ
		  #КонецЕсли
		// Если ВидПоТипуЗначенияОдинИзМногих, тогда проверка возможности доступа к значению через вид доступа.
		#ИначеЕсли &amp;ОграничиватьДоступПоВиду#Параметр(10) = "ОдинИзМногихВидов,БезГрупп"   ИЛИ
		           &amp;ОграничиватьДоступПоВиду#Параметр(10) = "ОдинИзМногихВидов,ОднаГруппа" ИЛИ
		           &amp;ОграничиватьДоступПоВиду#Параметр(10) = "ОдинИзМногихВидов,МножествоГрупп" #Тогда
			(
			#Если "Т.#Параметр(11)" = "Т.Ссылка" #Тогда
				Т.ВидДоступа#Параметр(10)
			#Иначе
			НЕ Истина В
				(
				Выбрать Истина
				ИЗ РегистрСведений.ГруппыЗначенийДоступа КАК ВидыЗначения
				ГДЕ
					  ВидыЗначения.ВидДоступа       = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(10))
					И ВидыЗначения.ЗначениеДоступа  = Т.#Параметр(11)
					И ВидыЗначения.ТолькоВидДоступа = Истина
				)
			#КонецЕсли
			) И
		#КонецЕсли
			Выбор
			Когда Истина В // Поиск значения в группе доступа (пользователей) непосредственно или через группы доступа значений.
			(
		#Если      &amp;ОграничиватьДоступПоВиду#Параметр(10) = "ЕдинственныйВид,  БезГрупп" ИЛИ
		           &amp;ОграничиватьДоступПоВиду#Параметр(10) = "ОдинИзМногихВидов,БезГрупп" #Тогда
			Выбрать Истина
			ИЗ РегистрСведений.ЗначенияГруппДоступа КАК Значения
			ГДЕ
				  Значения.ГруппаДоступа    = ТаблицыГруппДоступа.ГруппаДоступа
				И Значения.ВидДоступа       = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(10))
				И Значения.ТолькоВидДоступа = Ложь
				И Значения.ЗначениеДоступа  = Т.#Параметр(11)
		#ИначеЕсли "Т.#Параметр(11)" = "Т.Ссылка" #Тогда
			#Если      &amp;ОграничиватьДоступПоВиду#Параметр(10) = "ЕдинственныйВид,  ОднаГруппа" #Тогда
			Выбрать Истина
			ИЗ РегистрСведений.ЗначенияГруппДоступа КАК Значения
			ГДЕ
				  Значения.ГруппаДоступа    = ТаблицыГруппДоступа.ГруппаДоступа
				И Значения.ВидДоступа       = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(10))
				И Значения.ТолькоВидДоступа = Ложь
				И Значения.ЗначениеДоступа  = Т.ГруппаДоступа
			#ИначеЕсли &amp;ОграничиватьДоступПоВиду#Параметр(10) = "ОдинИзМногихВидов,ОднаГруппа" #Тогда
			Выбрать Истина
			ИЗ РегистрСведений.ЗначенияГруппДоступа КАК Значения
			ГДЕ
				  Значения.ГруппаДоступа    = ТаблицыГруппДоступа.ГруппаДоступа
				И Значения.ВидДоступа       = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(10))
				И Значения.ТолькоВидДоступа = Ложь
				И Значения.ЗначениеДоступа  = Т.ГруппаДоступа#Параметр(10)
			#ИначеЕсли &amp;ОграничиватьДоступПоВиду#Параметр(10) = "ЕдинственныйВид  ,МножествоГрупп" #Тогда
			Выбрать Первые 1 Истина
			ИЗ #Параметр(1).ГруппыДоступа КАК ГруппыЗначений
				Внутреннее Соединение РегистрСведений.ЗначенияГруппДоступа КАК Значения
				ПО
					  ГруппыЗначений.Ссылка     = Т.#Параметр(11)
					И Значения.ГруппаДоступа    = ТаблицыГруппДоступа.ГруппаДоступа
					И Значения.ВидДоступа       = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(10))
					И Значения.ТолькоВидДоступа = Ложь
					И Значения.ЗначениеДоступа  = ГруппыЗначений.ГруппаДоступа
			#Иначе //  &amp;ОграничиватьДоступПоВиду##Параметр(10) = "ОдинИзМногихВидов,МножествоГрупп"
			Выбрать Первые 1 Истина
			ИЗ #Параметр(1).ГруппыДоступа#Параметр(10) КАК ГруппыЗначений
				Внутреннее Соединение РегистрСведений.ЗначенияГруппДоступа КАК Значения
				ПО
					  ГруппыЗначений.Ссылка     = Т.#Параметр(11)
					И Значения.ГруппаДоступа    = ТаблицыГруппДоступа.ГруппаДоступа
					И Значения.ВидДоступа       = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(10))
					И Значения.ТолькоВидДоступа = Ложь
					И Значения.ЗначениеДоступа  = ГруппыЗначений.ГруппаДоступа#Параметр(10)
			#КонецЕсли
		#Иначе  // "Т.##Параметр(11)" &lt;&gt; "Т.Ссылка"
			Выбрать Первые 1 Истина
			ИЗ РегистрСведений.ГруппыЗначенийДоступа КАК ГруппыЗначений
				Внутреннее Соединение РегистрСведений.ЗначенияГруппДоступа КАК Значения
				ПО
					  ГруппыЗначений.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(10))
					И ГруппыЗначений.ЗначениеДоступа = Т.#Параметр(11)
					И Значения.ГруппаДоступа         = ТаблицыГруппДоступа.ГруппаДоступа
					И Значения.ВидДоступа            = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(10))
					И Значения.ТолькоВидДоступа      = ГруппыЗначений.ТолькоВидДоступа
					И Значения.ЗначениеДоступа       = ГруппыЗначений.ГруппаДоступа
		#КонецЕсли
			)
			Тогда Истина
			Иначе Ложь
			Конец
			=
			Выбор
			Когда Истина В  // Проверка наличия ограничения по виду доступа для значений.
			(
			Выбрать Истина
			ИЗ РегистрСведений.ЗначенияГруппДоступа КАК Виды
			ГДЕ
				  Виды.ГруппаДоступа    = ТаблицыГруппДоступа.ГруппаДоступа
				И Виды.ВидДоступа       = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(10))
				И Виды.ТолькоВидДоступа = Истина
			)
			Тогда Истина
			Иначе Ложь
			Конец
	 )
	#КонецЕсли
#КонецЕсли

//// Проверка значения поля группы параметров 5.
#Если "#Параметр(12)" = "" И "#Параметр(13)" = "" #Тогда
	// Группа параметров не используется.
#ИначеЕсли "#Параметр(12)" = "Условие" ИЛИ "#Параметр(12)" = "" #Тогда
	// Когда имя вида доступа "Условие" (или ""), тогда вместо имени поля задано условие.
	И ( #Параметр(13) )
#ИначеЕсли "#Параметр(12)" = "ПравоЧтения" ИЛИ "#Параметр(12)" = "ПравоДобавления" ИЛИ "#Параметр(12)" = "ПравоИзменения" #Тогда
	И #Параметр(13) &lt;&gt; Неопределено
	И Истина В
	 (	// Проверка права пользователя на таблицу Значения, установленного в поле.
		Выбрать Первые 1 Истина
		ИЗ РегистрСведений.ТаблицыГруппДоступа КАК ТаблицыГруппДоступаПроверкаПрава
		ГДЕ
			  ТаблицыГруппДоступаПроверкаПрава.ГруппаДоступа = ТаблицыГруппДоступа.ГруппаДоступа
			И ТаблицыГруппДоступаПроверкаПрава.ТипТаблицы    = ТипыСсылокПараметр13.ТипТаблицы
		#Если "#Параметр(12)" = "ПравоДобавления" #Тогда
			И ТаблицыГруппДоступаПроверкаПрава.Добавление
		#ИначеЕсли "#Параметр(12)" = "ПравоИзменения" #Тогда
			И ТаблицыГруппДоступаПроверкаПрава.Изменение
		#КонецЕсли
	 )
#ИначеЕсли НЕ &amp;ОграничиватьДоступПоВиду#Параметр(12) = "" #Тогда
	И
	#Если &amp;ОграничиватьДоступПоВиду#Параметр(12) = "ЧерезПраваПоЗначениямДоступа" #Тогда
	 (
	НЕ Истина В // Проверка, что по виду доступа пользователь ограничивается.
		(
		Выбрать Истина
		ИЗ РегистрСведений.ЗначенияГруппДоступа КАК Виды
		ГДЕ
			  Виды.ГруппаДоступа    = ТаблицыГруппДоступа.ГруппаДоступа
			И Виды.ВидДоступа       = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(12))
			И Виды.ТолькоВидДоступа = Истина
		)
	ИЛИ
		Истина В // Проверка, что пользователю или какой-нибудь группе пользователя право разрешено
			(
			Выбрать Первые 1 Истина
			ИЗ РегистрСведений.ПраваПоЗначениямДоступа КАК ПраваПоЗначениям
				Внутреннее Соединение РегистрСведений.ГруппыЗначенийДоступа КАК ИерархияЗначений
				ПО
					  ИерархияЗначений.ИспользоватьПраваСсылки
					И ИерархияЗначений.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(12))
					И ИерархияЗначений.ЗначениеДоступа = Т.#Параметр(13)
					И ПраваПоЗначениям.Таблица         = "#Параметр(1)"
					И ПраваПоЗначениям.ЗначениеДоступа = ИерархияЗначений.ГруппаДоступа
					И ПраваПоЗначениям.#Параметр(2)
					И ПраваПоЗначениям.РаспространяетсяВИерархии &gt;= ИерархияЗначений.СвязьСРодителем
				Внутреннее Соединение РегистрСведений.ГруппыЗначенийДоступа КАК ПользователиИГруппыПользователей
				ПО
				#Если &amp;ТекущийВнешнийПользователь = Значение(Справочник.ВнешниеПользователи.ПустаяСсылка) #Тогда
					  ПользователиИГруппыПользователей.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.Пользователи)
					И ПользователиИГруппыПользователей.ЗначениеДоступа = &amp;ТекущийПользователь
				#Иначе
					  ПользователиИГруппыПользователей.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.ВнешниеПользователи)
					И ПользователиИГруппыПользователей.ЗначениеДоступа = &amp;ТекущийВнешнийПользователь
				#КонецЕсли
					И ПользователиИГруппыПользователей.ГруппаДоступа   = ПраваПоЗначениям.Пользователь
			)
		 И НЕ Ложь В // Проверка, что пользователю или какой-нибудь группе пользователя право запрещено
			(
			Выбрать Первые 1 Ложь
			ИЗ РегистрСведений.ПраваПоЗначениямДоступа КАК ПраваПоЗначениям
				Внутреннее Соединение РегистрСведений.ГруппыЗначенийДоступа КАК ИерархияЗначений
				ПО
					  ИерархияЗначений.ИспользоватьПраваСсылки
					И ИерархияЗначений.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(12))
					И ИерархияЗначений.ЗначениеДоступа = Т.#Параметр(13)
					И ПраваПоЗначениям.Таблица         = "#Параметр(1)"
					И ПраваПоЗначениям.ЗначениеДоступа = ИерархияЗначений.ГруппаДоступа
					И ПраваПоЗначениям.#Параметр(2)Запрещено
					И ПраваПоЗначениям.РаспространяетсяВИерархии &gt;= ИерархияЗначений.СвязьСРодителем
				Внутреннее Соединение РегистрСведений.ГруппыЗначенийДоступа КАК ПользователиИГруппыПользователей
				ПО
				#Если &amp;ТекущийВнешнийПользователь = Значение(Справочник.ВнешниеПользователи.ПустаяСсылка) #Тогда
					  ПользователиИГруппыПользователей.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.Пользователи)
					И ПользователиИГруппыПользователей.ЗначениеДоступа = &amp;ТекущийПользователь
				#Иначе
					  ПользователиИГруппыПользователей.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.ВнешниеПользователи)
					И ПользователиИГруппыПользователей.ЗначениеДоступа = &amp;ТекущийВнешнийПользователь
				#КонецЕсли
					И ПользователиИГруппыПользователей.ГруппаДоступа   = ПраваПоЗначениям.Пользователь
			)
	 )
	#Иначе
	 (
		#Если "#Параметр(12)" = "Пользователи" #Тогда
		  #Если &amp;ТекущийВнешнийПользователь = Значение(Справочник.ВнешниеПользователи.ПустаяСсылка) #Тогда
			Истина В
				(
				Выбрать Первые 1 Истина
				ИЗ РегистрСведений.ГруппыЗначенийДоступа КАК ПользователиИГруппыПользователей
				ГДЕ
					  ПользователиИГруппыПользователей.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.Пользователи)
					И ПользователиИГруппыПользователей.ЗначениеДоступа = &amp;ТекущийПользователь
					И ПользователиИГруппыПользователей.ГруппаДоступа   = Т.#Параметр(13)
				)
			ИЛИ
		  #КонецЕсли
		#ИначеЕсли "#Параметр(12)" = "ВнешниеПользователи" #Тогда
		  #Если НЕ (&amp;ТекущийВнешнийПользователь = Значение(Справочник.ВнешниеПользователи.ПустаяСсылка)) #Тогда
			Истина В
				(
				Выбрать Первые 1 Истина
				ИЗ РегистрСведений.ГруппыЗначенийДоступа КАК ПользователиИГруппыПользователей
				ГДЕ
					  ПользователиИГруппыПользователей.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.ВнешниеПользователи)
					И ПользователиИГруппыПользователей.ЗначениеДоступа = &amp;ТекущийВнешнийПользователь
					И ПользователиИГруппыПользователей.ГруппаДоступа   = Т.#Параметр(13)
				)
			ИЛИ
		  #КонецЕсли
		// Если ВидПоТипуЗначенияОдинИзМногих, тогда проверка возможности доступа к значению через вид доступа.
		#ИначеЕсли &amp;ОграничиватьДоступПоВиду#Параметр(12) = "ОдинИзМногихВидов,БезГрупп"   ИЛИ
		           &amp;ОграничиватьДоступПоВиду#Параметр(12) = "ОдинИзМногихВидов,ОднаГруппа" ИЛИ
		           &amp;ОграничиватьДоступПоВиду#Параметр(12) = "ОдинИзМногихВидов,МножествоГрупп" #Тогда
			(
			#Если "Т.#Параметр(13)" = "Т.Ссылка" #Тогда
				Т.ВидДоступа#Параметр(12)
			#Иначе
			НЕ Истина В
				(
				Выбрать Истина
				ИЗ РегистрСведений.ГруппыЗначенийДоступа КАК ВидыЗначения
				ГДЕ
					  ВидыЗначения.ВидДоступа       = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(12))
					И ВидыЗначения.ЗначениеДоступа  = Т.#Параметр(13)
					И ВидыЗначения.ТолькоВидДоступа = Истина
				)
			#КонецЕсли
			) И
		#КонецЕсли
			Выбор
			Когда Истина В // Поиск значения в группе доступа (пользователей) непосредственно или через группы доступа значений.
			(
		#Если      &amp;ОграничиватьДоступПоВиду#Параметр(12) = "ЕдинственныйВид,  БезГрупп" ИЛИ
		           &amp;ОграничиватьДоступПоВиду#Параметр(12) = "ОдинИзМногихВидов,БезГрупп" #Тогда
			Выбрать Истина
			ИЗ РегистрСведений.ЗначенияГруппДоступа КАК Значения
			ГДЕ
				  Значения.ГруппаДоступа    = ТаблицыГруппДоступа.ГруппаДоступа
				И Значения.ВидДоступа       = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(12))
				И Значения.ТолькоВидДоступа = Ложь
				И Значения.ЗначениеДоступа  = Т.#Параметр(13)
		#ИначеЕсли "Т.#Параметр(13)" = "Т.Ссылка" #Тогда
			#Если      &amp;ОграничиватьДоступПоВиду#Параметр(12) = "ЕдинственныйВид,  ОднаГруппа" #Тогда
			Выбрать Истина
			ИЗ РегистрСведений.ЗначенияГруппДоступа КАК Значения
			ГДЕ
				  Значения.ГруппаДоступа    = ТаблицыГруппДоступа.ГруппаДоступа
				И Значения.ВидДоступа       = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(12))
				И Значения.ТолькоВидДоступа = Ложь
				И Значения.ЗначениеДоступа  = Т.ГруппаДоступа
			#ИначеЕсли &amp;ОграничиватьДоступПоВиду#Параметр(12) = "ОдинИзМногихВидов,ОднаГруппа" #Тогда
			Выбрать Истина
			ИЗ РегистрСведений.ЗначенияГруппДоступа КАК Значения
			ГДЕ
				  Значения.ГруппаДоступа    = ТаблицыГруппДоступа.ГруппаДоступа
				И Значения.ВидДоступа       = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(12))
				И Значения.ТолькоВидДоступа = Ложь
				И Значения.ЗначениеДоступа  = Т.ГруппаДоступа#Параметр(12)
			#ИначеЕсли &amp;ОграничиватьДоступПоВиду#Параметр(12) = "ЕдинственныйВид  ,МножествоГрупп" #Тогда
			Выбрать Первые 1 Истина
			ИЗ #Параметр(1).ГруппыДоступа КАК ГруппыЗначений
				Внутреннее Соединение РегистрСведений.ЗначенияГруппДоступа КАК Значения
				ПО
					  ГруппыЗначений.Ссылка     = Т.#Параметр(13)
					И Значения.ГруппаДоступа    = ТаблицыГруппДоступа.ГруппаДоступа
					И Значения.ВидДоступа       = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(12))
					И Значения.ТолькоВидДоступа = Ложь
					И Значения.ЗначениеДоступа  = ГруппыЗначений.ГруппаДоступа
			#Иначе //  &amp;ОграничиватьДоступПоВиду##Параметр(12) = "ОдинИзМногихВидов,МножествоГрупп"
			Выбрать Первые 1 Истина
			ИЗ #Параметр(1).ГруппыДоступа#Параметр(12) КАК ГруппыЗначений
				Внутреннее Соединение РегистрСведений.ЗначенияГруппДоступа КАК Значения
				ПО
					  ГруппыЗначений.Ссылка     = Т.#Параметр(13)
					И Значения.ГруппаДоступа    = ТаблицыГруппДоступа.ГруппаДоступа
					И Значения.ВидДоступа       = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(12))
					И Значения.ТолькоВидДоступа = Ложь
					И Значения.ЗначениеДоступа  = ГруппыЗначений.ГруппаДоступа#Параметр(12)
			#КонецЕсли
		#Иначе  // "Т.##Параметр(13)" &lt;&gt; "Т.Ссылка"
			Выбрать Первые 1 Истина
			ИЗ РегистрСведений.ГруппыЗначенийДоступа КАК ГруппыЗначений
				Внутреннее Соединение РегистрСведений.ЗначенияГруппДоступа КАК Значения
				ПО
					  ГруппыЗначений.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(12))
					И ГруппыЗначений.ЗначениеДоступа = Т.#Параметр(13)
					И Значения.ГруппаДоступа         = ТаблицыГруппДоступа.ГруппаДоступа
					И Значения.ВидДоступа            = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(12))
					И Значения.ТолькоВидДоступа      = ГруппыЗначений.ТолькоВидДоступа
					И Значения.ЗначениеДоступа       = ГруппыЗначений.ГруппаДоступа
		#КонецЕсли
			)
			Тогда Истина
			Иначе Ложь
			Конец
			=
			Выбор
			Когда Истина В  // Проверка наличия ограничения по виду доступа для значений.
			(
			Выбрать Истина
			ИЗ РегистрСведений.ЗначенияГруппДоступа КАК Виды
			ГДЕ
				  Виды.ГруппаДоступа    = ТаблицыГруппДоступа.ГруппаДоступа
				И Виды.ВидДоступа       = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(12))
				И Виды.ТолькоВидДоступа = Истина
			)
			Тогда Истина
			Иначе Ложь
			Конец
	 )
	#КонецЕсли
#КонецЕсли

//// Проверка значения поля группы параметров 6.
#Если "#Параметр(14)" = "" И "#Параметр(15)" = "" #Тогда
	// Группа параметров не используется.
#ИначеЕсли "#Параметр(14)" = "Условие" ИЛИ "#Параметр(14)" = "" #Тогда
	// Когда имя вида доступа "Условие" (или ""), тогда вместо имени поля задано условие.
	И ( #Параметр(15) )
#ИначеЕсли "#Параметр(14)" = "ПравоЧтения" ИЛИ "#Параметр(14)" = "ПравоДобавления" ИЛИ "#Параметр(14)" = "ПравоИзменения" #Тогда
	И #Параметр(15) &lt;&gt; Неопределено
	И Истина В
	 (	// Проверка права пользователя на таблицу Значения, установленного в поле.
		Выбрать Первые 1 Истина
		ИЗ РегистрСведений.ТаблицыГруппДоступа КАК ТаблицыГруппДоступаПроверкаПрава
		ГДЕ
			  ТаблицыГруппДоступаПроверкаПрава.ГруппаДоступа = ТаблицыГруппДоступа.ГруппаДоступа
			И ТаблицыГруппДоступаПроверкаПрава.ТипТаблицы    = ТипыСсылокПараметр15.ТипТаблицы
		#Если "#Параметр(14)" = "ПравоДобавления" #Тогда
			И ТаблицыГруппДоступаПроверкаПрава.Добавление
		#ИначеЕсли "#Параметр(14)" = "ПравоИзменения" #Тогда
			И ТаблицыГруппДоступаПроверкаПрава.Изменение
		#КонецЕсли
	 )
#ИначеЕсли НЕ &amp;ОграничиватьДоступПоВиду#Параметр(14) = "" #Тогда
	И
	#Если &amp;ОграничиватьДоступПоВиду#Параметр(14) = "ЧерезПраваПоЗначениямДоступа" #Тогда
	 (
	НЕ Истина В // Проверка, что по виду доступа пользователь ограничивается.
		(
		Выбрать Истина
		ИЗ РегистрСведений.ЗначенияГруппДоступа КАК Виды
		ГДЕ
			  Виды.ГруппаДоступа    = ТаблицыГруппДоступа.ГруппаДоступа
			И Виды.ВидДоступа       = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(14))
			И Виды.ТолькоВидДоступа = Истина
		)
	ИЛИ
		Истина В // Проверка, что пользователю или какой-нибудь группе пользователя право разрешено
			(
			Выбрать Первые 1 Истина
			ИЗ РегистрСведений.ПраваПоЗначениямДоступа КАК ПраваПоЗначениям
				Внутреннее Соединение РегистрСведений.ГруппыЗначенийДоступа КАК ИерархияЗначений
				ПО
					  ИерархияЗначений.ИспользоватьПраваСсылки
					И ИерархияЗначений.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(14))
					И ИерархияЗначений.ЗначениеДоступа = Т.#Параметр(15)
					И ПраваПоЗначениям.Таблица         = "#Параметр(1)"
					И ПраваПоЗначениям.ЗначениеДоступа = ИерархияЗначений.ГруппаДоступа
					И ПраваПоЗначениям.#Параметр(2)
					И ПраваПоЗначениям.РаспространяетсяВИерархии &gt;= ИерархияЗначений.СвязьСРодителем
				Внутреннее Соединение РегистрСведений.ГруппыЗначенийДоступа КАК ПользователиИГруппыПользователей
				ПО
				#Если &amp;ТекущийВнешнийПользователь = Значение(Справочник.ВнешниеПользователи.ПустаяСсылка) #Тогда
					  ПользователиИГруппыПользователей.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.Пользователи)
					И ПользователиИГруппыПользователей.ЗначениеДоступа = &amp;ТекущийПользователь
				#Иначе
					  ПользователиИГруппыПользователей.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.ВнешниеПользователи)
					И ПользователиИГруппыПользователей.ЗначениеДоступа = &amp;ТекущийВнешнийПользователь
				#КонецЕсли
					И ПользователиИГруппыПользователей.ГруппаДоступа   = ПраваПоЗначениям.Пользователь
			)
		 И НЕ Ложь В // Проверка, что пользователю или какой-нибудь группе пользователя право запрещено
			(
			Выбрать Первые 1 Ложь
			ИЗ РегистрСведений.ПраваПоЗначениямДоступа КАК ПраваПоЗначениям
				Внутреннее Соединение РегистрСведений.ГруппыЗначенийДоступа КАК ИерархияЗначений
				ПО
					  ИерархияЗначений.ИспользоватьПраваСсылки
					И ИерархияЗначений.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(14))
					И ИерархияЗначений.ЗначениеДоступа = Т.#Параметр(15)
					И ПраваПоЗначениям.Таблица         = "#Параметр(1)"
					И ПраваПоЗначениям.ЗначениеДоступа = ИерархияЗначений.ГруппаДоступа
					И ПраваПоЗначениям.#Параметр(2)Запрещено
					И ПраваПоЗначениям.РаспространяетсяВИерархии &gt;= ИерархияЗначений.СвязьСРодителем
				Внутреннее Соединение РегистрСведений.ГруппыЗначенийДоступа КАК ПользователиИГруппыПользователей
				ПО
				#Если &amp;ТекущийВнешнийПользователь = Значение(Справочник.ВнешниеПользователи.ПустаяСсылка) #Тогда
					  ПользователиИГруппыПользователей.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.Пользователи)
					И ПользователиИГруппыПользователей.ЗначениеДоступа = &amp;ТекущийПользователь
				#Иначе
					  ПользователиИГруппыПользователей.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.ВнешниеПользователи)
					И ПользователиИГруппыПользователей.ЗначениеДоступа = &amp;ТекущийВнешнийПользователь
				#КонецЕсли
					И ПользователиИГруппыПользователей.ГруппаДоступа   = ПраваПоЗначениям.Пользователь
			)
	 )
	#Иначе
	 (
		#Если "#Параметр(14)" = "Пользователи" #Тогда
		  #Если &amp;ТекущийВнешнийПользователь = Значение(Справочник.ВнешниеПользователи.ПустаяСсылка) #Тогда
			Истина В
				(
				Выбрать Первые 1 Истина
				ИЗ РегистрСведений.ГруппыЗначенийДоступа КАК ПользователиИГруппыПользователей
				ГДЕ
					  ПользователиИГруппыПользователей.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.Пользователи)
					И ПользователиИГруппыПользователей.ЗначениеДоступа = &amp;ТекущийПользователь
					И ПользователиИГруппыПользователей.ГруппаДоступа   = Т.#Параметр(15)
				)
			ИЛИ
		  #КонецЕсли
		#ИначеЕсли "#Параметр(14)" = "ВнешниеПользователи" #Тогда
		  #Если НЕ (&amp;ТекущийВнешнийПользователь = Значение(Справочник.ВнешниеПользователи.ПустаяСсылка)) #Тогда
			Истина В
				(
				Выбрать Первые 1 Истина
				ИЗ РегистрСведений.ГруппыЗначенийДоступа КАК ПользователиИГруппыПользователей
				ГДЕ
					  ПользователиИГруппыПользователей.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.ВнешниеПользователи)
					И ПользователиИГруппыПользователей.ЗначениеДоступа = &amp;ТекущийВнешнийПользователь
					И ПользователиИГруппыПользователей.ГруппаДоступа   = Т.#Параметр(15)
				)
			ИЛИ
		  #КонецЕсли
		// Если ВидПоТипуЗначенияОдинИзМногих, тогда проверка возможности доступа к значению через вид доступа.
		#ИначеЕсли &amp;ОграничиватьДоступПоВиду#Параметр(14) = "ОдинИзМногихВидов,БезГрупп"   ИЛИ
		           &amp;ОграничиватьДоступПоВиду#Параметр(14) = "ОдинИзМногихВидов,ОднаГруппа" ИЛИ
		           &amp;ОграничиватьДоступПоВиду#Параметр(14) = "ОдинИзМногихВидов,МножествоГрупп" #Тогда
			(
			#Если "Т.#Параметр(15)" = "Т.Ссылка" #Тогда
				Т.ВидДоступа#Параметр(14)
			#Иначе
			НЕ Истина В
				(
				Выбрать Истина
				ИЗ РегистрСведений.ГруппыЗначенийДоступа КАК ВидыЗначения
				ГДЕ
					  ВидыЗначения.ВидДоступа       = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(14))
					И ВидыЗначения.ЗначениеДоступа  = Т.#Параметр(15)
					И ВидыЗначения.ТолькоВидДоступа = Истина
				)
			#КонецЕсли
			) И
		#КонецЕсли
			Выбор
			Когда Истина В // Поиск значения в группе доступа (пользователей) непосредственно или через группы доступа значений.
			(
		#Если      &amp;ОграничиватьДоступПоВиду#Параметр(14) = "ЕдинственныйВид,  БезГрупп" ИЛИ
		           &amp;ОграничиватьДоступПоВиду#Параметр(14) = "ОдинИзМногихВидов,БезГрупп" #Тогда
			Выбрать Истина
			ИЗ РегистрСведений.ЗначенияГруппДоступа КАК Значения
			ГДЕ
				  Значения.ГруппаДоступа    = ТаблицыГруппДоступа.ГруппаДоступа
				И Значения.ВидДоступа       = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(14))
				И Значения.ТолькоВидДоступа = Ложь
				И Значения.ЗначениеДоступа  = Т.#Параметр(15)
		#ИначеЕсли "Т.#Параметр(15)" = "Т.Ссылка" #Тогда
			#Если      &amp;ОграничиватьДоступПоВиду#Параметр(14) = "ЕдинственныйВид,  ОднаГруппа" #Тогда
			Выбрать Истина
			ИЗ РегистрСведений.ЗначенияГруппДоступа КАК Значения
			ГДЕ
				  Значения.ГруппаДоступа    = ТаблицыГруппДоступа.ГруппаДоступа
				И Значения.ВидДоступа       = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(14))
				И Значения.ТолькоВидДоступа = Ложь
				И Значения.ЗначениеДоступа  = Т.ГруппаДоступа
			#ИначеЕсли &amp;ОграничиватьДоступПоВиду#Параметр(14) = "ОдинИзМногихВидов,ОднаГруппа" #Тогда
			Выбрать Истина
			ИЗ РегистрСведений.ЗначенияГруппДоступа КАК Значения
			ГДЕ
				  Значения.ГруппаДоступа    = ТаблицыГруппДоступа.ГруппаДоступа
				И Значения.ВидДоступа       = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(14))
				И Значения.ТолькоВидДоступа = Ложь
				И Значения.ЗначениеДоступа  = Т.ГруппаДоступа#Параметр(14)
			#ИначеЕсли &amp;ОграничиватьДоступПоВиду#Параметр(14) = "ЕдинственныйВид  ,МножествоГрупп" #Тогда
			Выбрать Первые 1 Истина
			ИЗ #Параметр(1).ГруппыДоступа КАК ГруппыЗначений
				Внутреннее Соединение РегистрСведений.ЗначенияГруппДоступа КАК Значения
				ПО
					  ГруппыЗначений.Ссылка     = Т.#Параметр(15)
					И Значения.ГруппаДоступа    = ТаблицыГруппДоступа.ГруппаДоступа
					И Значения.ВидДоступа       = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(14))
					И Значения.ТолькоВидДоступа = Ложь
					И Значения.ЗначениеДоступа  = ГруппыЗначений.ГруппаДоступа
			#Иначе //  &amp;ОграничиватьДоступПоВиду##Параметр(14) = "ОдинИзМногихВидов,МножествоГрупп"
			Выбрать Первые 1 Истина
			ИЗ #Параметр(1).ГруппыДоступа#Параметр(14) КАК ГруппыЗначений
				Внутреннее Соединение РегистрСведений.ЗначенияГруппДоступа КАК Значения
				ПО
					  ГруппыЗначений.Ссылка     = Т.#Параметр(15)
					И Значения.ГруппаДоступа    = ТаблицыГруппДоступа.ГруппаДоступа
					И Значения.ВидДоступа       = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(14))
					И Значения.ТолькоВидДоступа = Ложь
					И Значения.ЗначениеДоступа  = ГруппыЗначений.ГруппаДоступа#Параметр(14)
			#КонецЕсли
		#Иначе  // "Т.##Параметр(15)" &lt;&gt; "Т.Ссылка"
			Выбрать Первые 1 Истина
			ИЗ РегистрСведений.ГруппыЗначенийДоступа КАК ГруппыЗначений
				Внутреннее Соединение РегистрСведений.ЗначенияГруппДоступа КАК Значения
				ПО
					  ГруппыЗначений.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(14))
					И ГруппыЗначений.ЗначениеДоступа = Т.#Параметр(15)
					И Значения.ГруппаДоступа         = ТаблицыГруппДоступа.ГруппаДоступа
					И Значения.ВидДоступа            = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(14))
					И Значения.ТолькоВидДоступа      = ГруппыЗначений.ТолькоВидДоступа
					И Значения.ЗначениеДоступа       = ГруппыЗначений.ГруппаДоступа
		#КонецЕсли
			)
			Тогда Истина
			Иначе Ложь
			Конец
			=
			Выбор
			Когда Истина В  // Проверка наличия ограничения по виду доступа для значений.
			(
			Выбрать Истина
			ИЗ РегистрСведений.ЗначенияГруппДоступа КАК Виды
			ГДЕ
				  Виды.ГруппаДоступа    = ТаблицыГруппДоступа.ГруппаДоступа
				И Виды.ВидДоступа       = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(14))
				И Виды.ТолькоВидДоступа = Истина
			)
			Тогда Истина
			Иначе Ложь
			Конец
	 )
	#КонецЕсли
#КонецЕсли

//// Проверка значения поля группы параметров 7.
#Если "#Параметр(16)" = "" И "#Параметр(17)" = "" #Тогда
	// Группа параметров не используется.
#ИначеЕсли "#Параметр(16)" = "Условие" ИЛИ "#Параметр(16)" = "" #Тогда
	// Когда имя вида доступа "Условие" (или ""), тогда вместо имени поля задано условие.
	И ( #Параметр(17) )
#ИначеЕсли "#Параметр(16)" = "ПравоЧтения" ИЛИ "#Параметр(16)" = "ПравоДобавления" ИЛИ "#Параметр(16)" = "ПравоИзменения" #Тогда
	И #Параметр(17) &lt;&gt; Неопределено
	И Истина В
	 (	// Проверка права пользователя на таблицу Значения, установленного в поле.
		Выбрать Первые 1 Истина
		ИЗ РегистрСведений.ТаблицыГруппДоступа КАК ТаблицыГруппДоступаПроверкаПрава
		ГДЕ
			  ТаблицыГруппДоступаПроверкаПрава.ГруппаДоступа = ТаблицыГруппДоступа.ГруппаДоступа
			И ТаблицыГруппДоступаПроверкаПрава.ТипТаблицы    = ТипыСсылокПараметр17.ТипТаблицы
		#Если "#Параметр(16)" = "ПравоДобавления" #Тогда
			И ТаблицыГруппДоступаПроверкаПрава.Добавление
		#ИначеЕсли "#Параметр(16)" = "ПравоИзменения" #Тогда
			И ТаблицыГруппДоступаПроверкаПрава.Изменение
		#КонецЕсли
	 )
#ИначеЕсли НЕ &amp;ОграничиватьДоступПоВиду#Параметр(16) = "" #Тогда
	И
	#Если &amp;ОграничиватьДоступПоВиду#Параметр(16) = "ЧерезПраваПоЗначениямДоступа" #Тогда
	 (
	НЕ Истина В // Проверка, что по виду доступа пользователь ограничивается.
		(
		Выбрать Истина
		ИЗ РегистрСведений.ЗначенияГруппДоступа КАК Виды
		ГДЕ
			  Виды.ГруппаДоступа    = ТаблицыГруппДоступа.ГруппаДоступа
			И Виды.ВидДоступа       = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(16))
			И Виды.ТолькоВидДоступа = Истина
		)
	ИЛИ
		Истина В // Проверка, что пользователю или какой-нибудь группе пользователя право разрешено
			(
			Выбрать Первые 1 Истина
			ИЗ РегистрСведений.ПраваПоЗначениямДоступа КАК ПраваПоЗначениям
				Внутреннее Соединение РегистрСведений.ГруппыЗначенийДоступа КАК ИерархияЗначений
				ПО
					  ИерархияЗначений.ИспользоватьПраваСсылки
					И ИерархияЗначений.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(16))
					И ИерархияЗначений.ЗначениеДоступа = Т.#Параметр(17)
					И ПраваПоЗначениям.Таблица         = "#Параметр(1)"
					И ПраваПоЗначениям.ЗначениеДоступа = ИерархияЗначений.ГруппаДоступа
					И ПраваПоЗначениям.#Параметр(2)
					И ПраваПоЗначениям.РаспространяетсяВИерархии &gt;= ИерархияЗначений.СвязьСРодителем
				Внутреннее Соединение РегистрСведений.ГруппыЗначенийДоступа КАК ПользователиИГруппыПользователей
				ПО
				#Если &amp;ТекущийВнешнийПользователь = Значение(Справочник.ВнешниеПользователи.ПустаяСсылка) #Тогда
					  ПользователиИГруппыПользователей.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.Пользователи)
					И ПользователиИГруппыПользователей.ЗначениеДоступа = &amp;ТекущийПользователь
				#Иначе
					  ПользователиИГруппыПользователей.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.ВнешниеПользователи)
					И ПользователиИГруппыПользователей.ЗначениеДоступа = &amp;ТекущийВнешнийПользователь
				#КонецЕсли
					И ПользователиИГруппыПользователей.ГруппаДоступа   = ПраваПоЗначениям.Пользователь
			)
		 И НЕ Ложь В // Проверка, что пользователю или какой-нибудь группе пользователя право запрещено
			(
			Выбрать Первые 1 Ложь
			ИЗ РегистрСведений.ПраваПоЗначениямДоступа КАК ПраваПоЗначениям
				Внутреннее Соединение РегистрСведений.ГруппыЗначенийДоступа КАК ИерархияЗначений
				ПО
					  ИерархияЗначений.ИспользоватьПраваСсылки
					И ИерархияЗначений.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(16))
					И ИерархияЗначений.ЗначениеДоступа = Т.#Параметр(17)
					И ПраваПоЗначениям.Таблица         = "#Параметр(1)"
					И ПраваПоЗначениям.ЗначениеДоступа = ИерархияЗначений.ГруппаДоступа
					И ПраваПоЗначениям.#Параметр(2)Запрещено
					И ПраваПоЗначениям.РаспространяетсяВИерархии &gt;= ИерархияЗначений.СвязьСРодителем
				Внутреннее Соединение РегистрСведений.ГруппыЗначенийДоступа КАК ПользователиИГруппыПользователей
				ПО
				#Если &amp;ТекущийВнешнийПользователь = Значение(Справочник.ВнешниеПользователи.ПустаяСсылка) #Тогда
					  ПользователиИГруппыПользователей.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.Пользователи)
					И ПользователиИГруппыПользователей.ЗначениеДоступа = &amp;ТекущийПользователь
				#Иначе
					  ПользователиИГруппыПользователей.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.ВнешниеПользователи)
					И ПользователиИГруппыПользователей.ЗначениеДоступа = &amp;ТекущийВнешнийПользователь
				#КонецЕсли
					И ПользователиИГруппыПользователей.ГруппаДоступа   = ПраваПоЗначениям.Пользователь
			)
	 )
	#Иначе
	 (
		#Если "#Параметр(16)" = "Пользователи" #Тогда
		  #Если &amp;ТекущийВнешнийПользователь = Значение(Справочник.ВнешниеПользователи.ПустаяСсылка) #Тогда
			Истина В
				(
				Выбрать Первые 1 Истина
				ИЗ РегистрСведений.ГруппыЗначенийДоступа КАК ПользователиИГруппыПользователей
				ГДЕ
					  ПользователиИГруппыПользователей.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.Пользователи)
					И ПользователиИГруппыПользователей.ЗначениеДоступа = &amp;ТекущийПользователь
					И ПользователиИГруппыПользователей.ГруппаДоступа   = Т.#Параметр(17)
				)
			ИЛИ
		  #КонецЕсли
		#ИначеЕсли "#Параметр(16)" = "ВнешниеПользователи" #Тогда
		  #Если НЕ (&amp;ТекущийВнешнийПользователь = Значение(Справочник.ВнешниеПользователи.ПустаяСсылка)) #Тогда
			Истина В
				(
				Выбрать Первые 1 Истина
				ИЗ РегистрСведений.ГруппыЗначенийДоступа КАК ПользователиИГруппыПользователей
				ГДЕ
					  ПользователиИГруппыПользователей.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.ВнешниеПользователи)
					И ПользователиИГруппыПользователей.ЗначениеДоступа = &amp;ТекущийВнешнийПользователь
					И ПользователиИГруппыПользователей.ГруппаДоступа   = Т.#Параметр(17)
				)
			ИЛИ
		  #КонецЕсли
		// Если ВидПоТипуЗначенияОдинИзМногих, тогда проверка возможности доступа к значению через вид доступа.
		#ИначеЕсли &amp;ОграничиватьДоступПоВиду#Параметр(16) = "ОдинИзМногихВидов,БезГрупп"   ИЛИ
		           &amp;ОграничиватьДоступПоВиду#Параметр(16) = "ОдинИзМногихВидов,ОднаГруппа" ИЛИ
		           &amp;ОграничиватьДоступПоВиду#Параметр(16) = "ОдинИзМногихВидов,МножествоГрупп" #Тогда
			(
			#Если "Т.#Параметр(17)" = "Т.Ссылка" #Тогда
				Т.ВидДоступа#Параметр(16)
			#Иначе
			НЕ Истина В
				(
				Выбрать Истина
				ИЗ РегистрСведений.ГруппыЗначенийДоступа КАК ВидыЗначения
				ГДЕ
					  ВидыЗначения.ВидДоступа       = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(16))
					И ВидыЗначения.ЗначениеДоступа  = Т.#Параметр(17)
					И ВидыЗначения.ТолькоВидДоступа = Истина
				)
			#КонецЕсли
			) И
		#КонецЕсли
			Выбор
			Когда Истина В // Поиск значения в группе доступа (пользователей) непосредственно или через группы доступа значений.
			(
		#Если      &amp;ОграничиватьДоступПоВиду#Параметр(16) = "ЕдинственныйВид,  БезГрупп" ИЛИ
		           &amp;ОграничиватьДоступПоВиду#Параметр(16) = "ОдинИзМногихВидов,БезГрупп" #Тогда
			Выбрать Истина
			ИЗ РегистрСведений.ЗначенияГруппДоступа КАК Значения
			ГДЕ
				  Значения.ГруппаДоступа    = ТаблицыГруппДоступа.ГруппаДоступа
				И Значения.ВидДоступа       = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(16))
				И Значения.ТолькоВидДоступа = Ложь
				И Значения.ЗначениеДоступа  = Т.#Параметр(17)
		#ИначеЕсли "Т.#Параметр(17)" = "Т.Ссылка" #Тогда
			#Если      &amp;ОграничиватьДоступПоВиду#Параметр(16) = "ЕдинственныйВид,  ОднаГруппа" #Тогда
			Выбрать Истина
			ИЗ РегистрСведений.ЗначенияГруппДоступа КАК Значения
			ГДЕ
				  Значения.ГруппаДоступа    = ТаблицыГруппДоступа.ГруппаДоступа
				И Значения.ВидДоступа       = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(16))
				И Значения.ТолькоВидДоступа = Ложь
				И Значения.ЗначениеДоступа  = Т.ГруппаДоступа
			#ИначеЕсли &amp;ОграничиватьДоступПоВиду#Параметр(16) = "ОдинИзМногихВидов,ОднаГруппа" #Тогда
			Выбрать Истина
			ИЗ РегистрСведений.ЗначенияГруппДоступа КАК Значения
			ГДЕ
				  Значения.ГруппаДоступа    = ТаблицыГруппДоступа.ГруппаДоступа
				И Значения.ВидДоступа       = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(16))
				И Значения.ТолькоВидДоступа = Ложь
				И Значения.ЗначениеДоступа  = Т.ГруппаДоступа#Параметр(16)
			#ИначеЕсли &amp;ОграничиватьДоступПоВиду#Параметр(16) = "ЕдинственныйВид  ,МножествоГрупп" #Тогда
			Выбрать Первые 1 Истина
			ИЗ #Параметр(1).ГруппыДоступа КАК ГруппыЗначений
				Внутреннее Соединение РегистрСведений.ЗначенияГруппДоступа КАК Значения
				ПО
					  ГруппыЗначений.Ссылка     = Т.#Параметр(17)
					И Значения.ГруппаДоступа    = ТаблицыГруппДоступа.ГруппаДоступа
					И Значения.ВидДоступа       = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(16))
					И Значения.ТолькоВидДоступа = Ложь
					И Значения.ЗначениеДоступа  = ГруппыЗначений.ГруппаДоступа
			#Иначе //  &amp;ОграничиватьДоступПоВиду##Параметр(16) = "ОдинИзМногихВидов,МножествоГрупп"
			Выбрать Первые 1 Истина
			ИЗ #Параметр(1).ГруппыДоступа#Параметр(16) КАК ГруппыЗначений
				Внутреннее Соединение РегистрСведений.ЗначенияГруппДоступа КАК Значения
				ПО
					  ГруппыЗначений.Ссылка     = Т.#Параметр(17)
					И Значения.ГруппаДоступа    = ТаблицыГруппДоступа.ГруппаДоступа
					И Значения.ВидДоступа       = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(16))
					И Значения.ТолькоВидДоступа = Ложь
					И Значения.ЗначениеДоступа  = ГруппыЗначений.ГруппаДоступа#Параметр(16)
			#КонецЕсли
		#Иначе  // "Т.##Параметр(17)" &lt;&gt; "Т.Ссылка"
			Выбрать Первые 1 Истина
			ИЗ РегистрСведений.ГруппыЗначенийДоступа КАК ГруппыЗначений
				Внутреннее Соединение РегистрСведений.ЗначенияГруппДоступа КАК Значения
				ПО
					  ГруппыЗначений.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(16))
					И ГруппыЗначений.ЗначениеДоступа = Т.#Параметр(17)
					И Значения.ГруппаДоступа         = ТаблицыГруппДоступа.ГруппаДоступа
					И Значения.ВидДоступа            = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(16))
					И Значения.ТолькоВидДоступа      = ГруппыЗначений.ТолькоВидДоступа
					И Значения.ЗначениеДоступа       = ГруппыЗначений.ГруппаДоступа
		#КонецЕсли
			)
			Тогда Истина
			Иначе Ложь
			Конец
			=
			Выбор
			Когда Истина В  // Проверка наличия ограничения по виду доступа для значений.
			(
			Выбрать Истина
			ИЗ РегистрСведений.ЗначенияГруппДоступа КАК Виды
			ГДЕ
				  Виды.ГруппаДоступа    = ТаблицыГруппДоступа.ГруппаДоступа
				И Виды.ВидДоступа       = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(16))
				И Виды.ТолькоВидДоступа = Истина
			)
			Тогда Истина
			Иначе Ложь
			Конец
	 )
	#КонецЕсли
#КонецЕсли

//// Проверка значения поля группы параметров 8.
#Если "#Параметр(18)" = "" И "#Параметр(19)" = "" #Тогда
	// Группа параметров не используется.
#ИначеЕсли "#Параметр(18)" = "Условие" ИЛИ "#Параметр(18)" = "" #Тогда
	// Когда имя вида доступа "Условие" (или ""), тогда вместо имени поля задано условие.
	И ( #Параметр(19) )
#ИначеЕсли "#Параметр(18)" = "ПравоЧтения" ИЛИ "#Параметр(18)" = "ПравоДобавления" ИЛИ "#Параметр(18)" = "ПравоИзменения" #Тогда
	И #Параметр(19) &lt;&gt; Неопределено
	И Истина В
	 (	// Проверка права пользователя на таблицу Значения, установленного в поле.
		Выбрать Первые 1 Истина
		ИЗ РегистрСведений.ТаблицыГруппДоступа КАК ТаблицыГруппДоступаПроверкаПрава
		ГДЕ
			  ТаблицыГруппДоступаПроверкаПрава.ГруппаДоступа = ТаблицыГруппДоступа.ГруппаДоступа
			И ТаблицыГруппДоступаПроверкаПрава.ТипТаблицы    = ТипыСсылокПараметр19.ТипТаблицы
		#Если "#Параметр(18)" = "ПравоДобавления" #Тогда
			И ТаблицыГруппДоступаПроверкаПрава.Добавление
		#ИначеЕсли "#Параметр(18)" = "ПравоИзменения" #Тогда
			И ТаблицыГруппДоступаПроверкаПрава.Изменение
		#КонецЕсли
	 )
#ИначеЕсли НЕ &amp;ОграничиватьДоступПоВиду#Параметр(18) = "" #Тогда
	И
	#Если &amp;ОграничиватьДоступПоВиду#Параметр(18) = "ЧерезПраваПоЗначениямДоступа" #Тогда
	 (
	НЕ Истина В // Проверка, что по виду доступа пользователь ограничивается.
		(
		Выбрать Истина
		ИЗ РегистрСведений.ЗначенияГруппДоступа КАК Виды
		ГДЕ
			  Виды.ГруппаДоступа    = ТаблицыГруппДоступа.ГруппаДоступа
			И Виды.ВидДоступа       = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(18))
			И Виды.ТолькоВидДоступа = Истина
		)
	ИЛИ
		Истина В // Проверка, что пользователю или какой-нибудь группе пользователя право разрешено
			(
			Выбрать Первые 1 Истина
			ИЗ РегистрСведений.ПраваПоЗначениямДоступа КАК ПраваПоЗначениям
				Внутреннее Соединение РегистрСведений.ГруппыЗначенийДоступа КАК ИерархияЗначений
				ПО
					  ИерархияЗначений.ИспользоватьПраваСсылки
					И ИерархияЗначений.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(18))
					И ИерархияЗначений.ЗначениеДоступа = Т.#Параметр(19)
					И ПраваПоЗначениям.Таблица         = "#Параметр(1)"
					И ПраваПоЗначениям.ЗначениеДоступа = ИерархияЗначений.ГруппаДоступа
					И ПраваПоЗначениям.#Параметр(2)
					И ПраваПоЗначениям.РаспространяетсяВИерархии &gt;= ИерархияЗначений.СвязьСРодителем
				Внутреннее Соединение РегистрСведений.ГруппыЗначенийДоступа КАК ПользователиИГруппыПользователей
				ПО
				#Если &amp;ТекущийВнешнийПользователь = Значение(Справочник.ВнешниеПользователи.ПустаяСсылка) #Тогда
					  ПользователиИГруппыПользователей.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.Пользователи)
					И ПользователиИГруппыПользователей.ЗначениеДоступа = &amp;ТекущийПользователь
				#Иначе
					  ПользователиИГруппыПользователей.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.ВнешниеПользователи)
					И ПользователиИГруппыПользователей.ЗначениеДоступа = &amp;ТекущийВнешнийПользователь
				#КонецЕсли
					И ПользователиИГруппыПользователей.ГруппаДоступа   = ПраваПоЗначениям.Пользователь
			)
		 И НЕ Ложь В // Проверка, что пользователю или какой-нибудь группе пользователя право запрещено
			(
			Выбрать Первые 1 Ложь
			ИЗ РегистрСведений.ПраваПоЗначениямДоступа КАК ПраваПоЗначениям
				Внутреннее Соединение РегистрСведений.ГруппыЗначенийДоступа КАК ИерархияЗначений
				ПО
					  ИерархияЗначений.ИспользоватьПраваСсылки
					И ИерархияЗначений.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(18))
					И ИерархияЗначений.ЗначениеДоступа = Т.#Параметр(19)
					И ПраваПоЗначениям.Таблица         = "#Параметр(1)"
					И ПраваПоЗначениям.ЗначениеДоступа = ИерархияЗначений.ГруппаДоступа
					И ПраваПоЗначениям.#Параметр(2)Запрещено
					И ПраваПоЗначениям.РаспространяетсяВИерархии &gt;= ИерархияЗначений.СвязьСРодителем
				Внутреннее Соединение РегистрСведений.ГруппыЗначенийДоступа КАК ПользователиИГруппыПользователей
				ПО
				#Если &amp;ТекущийВнешнийПользователь = Значение(Справочник.ВнешниеПользователи.ПустаяСсылка) #Тогда
					  ПользователиИГруппыПользователей.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.Пользователи)
					И ПользователиИГруппыПользователей.ЗначениеДоступа = &amp;ТекущийПользователь
				#Иначе
					  ПользователиИГруппыПользователей.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.ВнешниеПользователи)
					И ПользователиИГруппыПользователей.ЗначениеДоступа = &amp;ТекущийВнешнийПользователь
				#КонецЕсли
					И ПользователиИГруппыПользователей.ГруппаДоступа   = ПраваПоЗначениям.Пользователь
			)
	 )
	#Иначе
	 (
		#Если "#Параметр(18)" = "Пользователи" #Тогда
		  #Если &amp;ТекущийВнешнийПользователь = Значение(Справочник.ВнешниеПользователи.ПустаяСсылка) #Тогда
			Истина В
				(
				Выбрать Первые 1 Истина
				ИЗ РегистрСведений.ГруппыЗначенийДоступа КАК ПользователиИГруппыПользователей
				ГДЕ
					  ПользователиИГруппыПользователей.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.Пользователи)
					И ПользователиИГруппыПользователей.ЗначениеДоступа = &amp;ТекущийПользователь
					И ПользователиИГруппыПользователей.ГруппаДоступа   = Т.#Параметр(19)
				)
			ИЛИ
		  #КонецЕсли
		#ИначеЕсли "#Параметр(18)" = "ВнешниеПользователи" #Тогда
		  #Если НЕ (&amp;ТекущийВнешнийПользователь = Значение(Справочник.ВнешниеПользователи.ПустаяСсылка)) #Тогда
			Истина В
				(
				Выбрать Первые 1 Истина
				ИЗ РегистрСведений.ГруппыЗначенийДоступа КАК ПользователиИГруппыПользователей
				ГДЕ
					  ПользователиИГруппыПользователей.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.ВнешниеПользователи)
					И ПользователиИГруппыПользователей.ЗначениеДоступа = &amp;ТекущийВнешнийПользователь
					И ПользователиИГруппыПользователей.ГруппаДоступа   = Т.#Параметр(19)
				)
			ИЛИ
		  #КонецЕсли
		// Если ВидПоТипуЗначенияОдинИзМногих, тогда проверка возможности доступа к значению через вид доступа.
		#ИначеЕсли &amp;ОграничиватьДоступПоВиду#Параметр(18) = "ОдинИзМногихВидов,БезГрупп"   ИЛИ
		           &amp;ОграничиватьДоступПоВиду#Параметр(18) = "ОдинИзМногихВидов,ОднаГруппа" ИЛИ
		           &amp;ОграничиватьДоступПоВиду#Параметр(18) = "ОдинИзМногихВидов,МножествоГрупп" #Тогда
			(
			#Если "Т.#Параметр(19)" = "Т.Ссылка" #Тогда
				Т.ВидДоступа#Параметр(18)
			#Иначе
			НЕ Истина В
				(
				Выбрать Истина
				ИЗ РегистрСведений.ГруппыЗначенийДоступа КАК ВидыЗначения
				ГДЕ
					  ВидыЗначения.ВидДоступа       = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(18))
					И ВидыЗначения.ЗначениеДоступа  = Т.#Параметр(19)
					И ВидыЗначения.ТолькоВидДоступа = Истина
				)
			#КонецЕсли
			) И
		#КонецЕсли
			Выбор
			Когда Истина В // Поиск значения в группе доступа (пользователей) непосредственно или через группы доступа значений.
			(
		#Если      &amp;ОграничиватьДоступПоВиду#Параметр(18) = "ЕдинственныйВид,  БезГрупп" ИЛИ
		           &amp;ОграничиватьДоступПоВиду#Параметр(18) = "ОдинИзМногихВидов,БезГрупп" #Тогда
			Выбрать Истина
			ИЗ РегистрСведений.ЗначенияГруппДоступа КАК Значения
			ГДЕ
				  Значения.ГруппаДоступа    = ТаблицыГруппДоступа.ГруппаДоступа
				И Значения.ВидДоступа       = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(18))
				И Значения.ТолькоВидДоступа = Ложь
				И Значения.ЗначениеДоступа  = Т.#Параметр(19)
		#ИначеЕсли "Т.#Параметр(19)" = "Т.Ссылка" #Тогда
			#Если      &amp;ОграничиватьДоступПоВиду#Параметр(18) = "ЕдинственныйВид,  ОднаГруппа" #Тогда
			Выбрать Истина
			ИЗ РегистрСведений.ЗначенияГруппДоступа КАК Значения
			ГДЕ
				  Значения.ГруппаДоступа    = ТаблицыГруппДоступа.ГруппаДоступа
				И Значения.ВидДоступа       = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(18))
				И Значения.ТолькоВидДоступа = Ложь
				И Значения.ЗначениеДоступа  = Т.ГруппаДоступа
			#ИначеЕсли &amp;ОграничиватьДоступПоВиду#Параметр(18) = "ОдинИзМногихВидов,ОднаГруппа" #Тогда
			Выбрать Истина
			ИЗ РегистрСведений.ЗначенияГруппДоступа КАК Значения
			ГДЕ
				  Значения.ГруппаДоступа    = ТаблицыГруппДоступа.ГруппаДоступа
				И Значения.ВидДоступа       = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(18))
				И Значения.ТолькоВидДоступа = Ложь
				И Значения.ЗначениеДоступа  = Т.ГруппаДоступа#Параметр(18)
			#ИначеЕсли &amp;ОграничиватьДоступПоВиду#Параметр(18) = "ЕдинственныйВид  ,МножествоГрупп" #Тогда
			Выбрать Первые 1 Истина
			ИЗ #Параметр(1).ГруппыДоступа КАК ГруппыЗначений
				Внутреннее Соединение РегистрСведений.ЗначенияГруппДоступа КАК Значения
				ПО
					  ГруппыЗначений.Ссылка     = Т.#Параметр(19)
					И Значения.ГруппаДоступа    = ТаблицыГруппДоступа.ГруппаДоступа
					И Значения.ВидДоступа       = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(18))
					И Значения.ТолькоВидДоступа = Ложь
					И Значения.ЗначениеДоступа  = ГруппыЗначений.ГруппаДоступа
			#Иначе //  &amp;ОграничиватьДоступПоВиду##Параметр(18) = "ОдинИзМногихВидов,МножествоГрупп"
			Выбрать Первые 1 Истина
			ИЗ #Параметр(1).ГруппыДоступа#Параметр(18) КАК ГруппыЗначений
				Внутреннее Соединение РегистрСведений.ЗначенияГруппДоступа КАК Значения
				ПО
					  ГруппыЗначений.Ссылка     = Т.#Параметр(19)
					И Значения.ГруппаДоступа    = ТаблицыГруппДоступа.ГруппаДоступа
					И Значения.ВидДоступа       = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(18))
					И Значения.ТолькоВидДоступа = Ложь
					И Значения.ЗначениеДоступа  = ГруппыЗначений.ГруппаДоступа#Параметр(18)
			#КонецЕсли
		#Иначе  // "Т.##Параметр(19)" &lt;&gt; "Т.Ссылка"
			Выбрать Первые 1 Истина
			ИЗ РегистрСведений.ГруппыЗначенийДоступа КАК ГруппыЗначений
				Внутреннее Соединение РегистрСведений.ЗначенияГруппДоступа КАК Значения
				ПО
					  ГруппыЗначений.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(18))
					И ГруппыЗначений.ЗначениеДоступа = Т.#Параметр(19)
					И Значения.ГруппаДоступа         = ТаблицыГруппДоступа.ГруппаДоступа
					И Значения.ВидДоступа            = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(18))
					И Значения.ТолькоВидДоступа      = ГруппыЗначений.ТолькоВидДоступа
					И Значения.ЗначениеДоступа       = ГруппыЗначений.ГруппаДоступа
		#КонецЕсли
			)
			Тогда Истина
			Иначе Ложь
			Конец
			=
			Выбор
			Когда Истина В  // Проверка наличия ограничения по виду доступа для значений.
			(
			Выбрать Истина
			ИЗ РегистрСведений.ЗначенияГруппДоступа КАК Виды
			ГДЕ
				  Виды.ГруппаДоступа    = ТаблицыГруппДоступа.ГруппаДоступа
				И Виды.ВидДоступа       = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(18))
				И Виды.ТолькоВидДоступа = Истина
			)
			Тогда Истина
			Иначе Ложь
			Конец
	 )
	#КонецЕсли
#КонецЕсли

//// Проверка значения поля группы параметров 9.
#Если "#Параметр(20)" = "" И "#Параметр(21)" = "" #Тогда
	// Группа параметров не используется.
#ИначеЕсли "#Параметр(20)" = "Условие" ИЛИ "#Параметр(20)" = "" #Тогда
	// Когда имя вида доступа "Условие" (или ""), тогда вместо имени поля задано условие.
	И ( #Параметр(21) )
#ИначеЕсли "#Параметр(20)" = "ПравоЧтения" ИЛИ "#Параметр(20)" = "ПравоДобавления" ИЛИ "#Параметр(20)" = "ПравоИзменения" #Тогда
	И #Параметр(21) &lt;&gt; Неопределено
	И Истина В
	 (	// Проверка права пользователя на таблицу Значения, установленного в поле.
		Выбрать Первые 1 Истина
		ИЗ РегистрСведений.ТаблицыГруппДоступа КАК ТаблицыГруппДоступаПроверкаПрава
		ГДЕ
			  ТаблицыГруппДоступаПроверкаПрава.ГруппаДоступа = ТаблицыГруппДоступа.ГруппаДоступа
			И ТаблицыГруппДоступаПроверкаПрава.ТипТаблицы    = ТипыСсылокПараметр21.ТипТаблицы
		#Если "#Параметр(20)" = "ПравоДобавления" #Тогда
			И ТаблицыГруппДоступаПроверкаПрава.Добавление
		#ИначеЕсли "#Параметр(20)" = "ПравоИзменения" #Тогда
			И ТаблицыГруппДоступаПроверкаПрава.Изменение
		#КонецЕсли
	 )
#ИначеЕсли НЕ &amp;ОграничиватьДоступПоВиду#Параметр(20) = "" #Тогда
	И
	#Если &amp;ОграничиватьДоступПоВиду#Параметр(20) = "ЧерезПраваПоЗначениямДоступа" #Тогда
	 (
	НЕ Истина В // Проверка, что по виду доступа пользователь ограничивается.
		(
		Выбрать Истина
		ИЗ РегистрСведений.ЗначенияГруппДоступа КАК Виды
		ГДЕ
			  Виды.ГруппаДоступа    = ТаблицыГруппДоступа.ГруппаДоступа
			И Виды.ВидДоступа       = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(20))
			И Виды.ТолькоВидДоступа = Истина
		)
	ИЛИ
		Истина В // Проверка, что пользователю или какой-нибудь группе пользователя право разрешено
			(
			Выбрать Первые 1 Истина
			ИЗ РегистрСведений.ПраваПоЗначениямДоступа КАК ПраваПоЗначениям
				Внутреннее Соединение РегистрСведений.ГруппыЗначенийДоступа КАК ИерархияЗначений
				ПО
					  ИерархияЗначений.ИспользоватьПраваСсылки
					И ИерархияЗначений.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(20))
					И ИерархияЗначений.ЗначениеДоступа = Т.#Параметр(21)
					И ПраваПоЗначениям.Таблица         = "#Параметр(1)"
					И ПраваПоЗначениям.ЗначениеДоступа = ИерархияЗначений.ГруппаДоступа
					И ПраваПоЗначениям.#Параметр(2)
					И ПраваПоЗначениям.РаспространяетсяВИерархии &gt;= ИерархияЗначений.СвязьСРодителем
				Внутреннее Соединение РегистрСведений.ГруппыЗначенийДоступа КАК ПользователиИГруппыПользователей
				ПО
				#Если &amp;ТекущийВнешнийПользователь = Значение(Справочник.ВнешниеПользователи.ПустаяСсылка) #Тогда
					  ПользователиИГруппыПользователей.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.Пользователи)
					И ПользователиИГруппыПользователей.ЗначениеДоступа = &amp;ТекущийПользователь
				#Иначе
					  ПользователиИГруппыПользователей.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.ВнешниеПользователи)
					И ПользователиИГруппыПользователей.ЗначениеДоступа = &amp;ТекущийВнешнийПользователь
				#КонецЕсли
					И ПользователиИГруппыПользователей.ГруппаДоступа   = ПраваПоЗначениям.Пользователь
			)
		 И НЕ Ложь В // Проверка, что пользователю или какой-нибудь группе пользователя право запрещено
			(
			Выбрать Первые 1 Ложь
			ИЗ РегистрСведений.ПраваПоЗначениямДоступа КАК ПраваПоЗначениям
				Внутреннее Соединение РегистрСведений.ГруппыЗначенийДоступа КАК ИерархияЗначений
				ПО
					  ИерархияЗначений.ИспользоватьПраваСсылки
					И ИерархияЗначений.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(20))
					И ИерархияЗначений.ЗначениеДоступа = Т.#Параметр(21)
					И ПраваПоЗначениям.Таблица         = "#Параметр(1)"
					И ПраваПоЗначениям.ЗначениеДоступа = ИерархияЗначений.ГруппаДоступа
					И ПраваПоЗначениям.#Параметр(2)Запрещено
					И ПраваПоЗначениям.РаспространяетсяВИерархии &gt;= ИерархияЗначений.СвязьСРодителем
				Внутреннее Соединение РегистрСведений.ГруппыЗначенийДоступа КАК ПользователиИГруппыПользователей
				ПО
				#Если &amp;ТекущийВнешнийПользователь = Значение(Справочник.ВнешниеПользователи.ПустаяСсылка) #Тогда
					  ПользователиИГруппыПользователей.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.Пользователи)
					И ПользователиИГруппыПользователей.ЗначениеДоступа = &amp;ТекущийПользователь
				#Иначе
					  ПользователиИГруппыПользователей.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.ВнешниеПользователи)
					И ПользователиИГруппыПользователей.ЗначениеДоступа = &amp;ТекущийВнешнийПользователь
				#КонецЕсли
					И ПользователиИГруппыПользователей.ГруппаДоступа   = ПраваПоЗначениям.Пользователь
			)
	 )
	#Иначе
	 (
		#Если "#Параметр(20)" = "Пользователи" #Тогда
		  #Если &amp;ТекущийВнешнийПользователь = Значение(Справочник.ВнешниеПользователи.ПустаяСсылка) #Тогда
			Истина В
				(
				Выбрать Первые 1 Истина
				ИЗ РегистрСведений.ГруппыЗначенийДоступа КАК ПользователиИГруппыПользователей
				ГДЕ
					  ПользователиИГруппыПользователей.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.Пользователи)
					И ПользователиИГруппыПользователей.ЗначениеДоступа = &amp;ТекущийПользователь
					И ПользователиИГруппыПользователей.ГруппаДоступа   = Т.#Параметр(21)
				)
			ИЛИ
		  #КонецЕсли
		#ИначеЕсли "#Параметр(20)" = "ВнешниеПользователи" #Тогда
		  #Если НЕ (&amp;ТекущийВнешнийПользователь = Значение(Справочник.ВнешниеПользователи.ПустаяСсылка)) #Тогда
			Истина В
				(
				Выбрать Первые 1 Истина
				ИЗ РегистрСведений.ГруппыЗначенийДоступа КАК ПользователиИГруппыПользователей
				ГДЕ
					  ПользователиИГруппыПользователей.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.ВнешниеПользователи)
					И ПользователиИГруппыПользователей.ЗначениеДоступа = &amp;ТекущийВнешнийПользователь
					И ПользователиИГруппыПользователей.ГруппаДоступа   = Т.#Параметр(21)
				)
			ИЛИ
		  #КонецЕсли
		// Если ВидПоТипуЗначенияОдинИзМногих, тогда проверка возможности доступа к значению через вид доступа.
		#ИначеЕсли &amp;ОграничиватьДоступПоВиду#Параметр(20) = "ОдинИзМногихВидов,БезГрупп"   ИЛИ
		           &amp;ОграничиватьДоступПоВиду#Параметр(20) = "ОдинИзМногихВидов,ОднаГруппа" ИЛИ
		           &amp;ОграничиватьДоступПоВиду#Параметр(20) = "ОдинИзМногихВидов,МножествоГрупп" #Тогда
			(
			#Если "Т.#Параметр(21)" = "Т.Ссылка" #Тогда
				Т.ВидДоступа#Параметр(20)
			#Иначе
			НЕ Истина В
				(
				Выбрать Истина
				ИЗ РегистрСведений.ГруппыЗначенийДоступа КАК ВидыЗначения
				ГДЕ
					  ВидыЗначения.ВидДоступа       = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(20))
					И ВидыЗначения.ЗначениеДоступа  = Т.#Параметр(21)
					И ВидыЗначения.ТолькоВидДоступа = Истина
				)
			#КонецЕсли
			) И
		#КонецЕсли
			Выбор
			Когда Истина В // Поиск значения в группе доступа (пользователей) непосредственно или через группы доступа значений.
			(
		#Если      &amp;ОграничиватьДоступПоВиду#Параметр(20) = "ЕдинственныйВид,  БезГрупп" ИЛИ
		           &amp;ОграничиватьДоступПоВиду#Параметр(20) = "ОдинИзМногихВидов,БезГрупп" #Тогда
			Выбрать Истина
			ИЗ РегистрСведений.ЗначенияГруппДоступа КАК Значения
			ГДЕ
				  Значения.ГруппаДоступа    = ТаблицыГруппДоступа.ГруппаДоступа
				И Значения.ВидДоступа       = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(20))
				И Значения.ТолькоВидДоступа = Ложь
				И Значения.ЗначениеДоступа  = Т.#Параметр(21)
		#ИначеЕсли "Т.#Параметр(21)" = "Т.Ссылка" #Тогда
			#Если      &amp;ОграничиватьДоступПоВиду#Параметр(20) = "ЕдинственныйВид,  ОднаГруппа" #Тогда
			Выбрать Истина
			ИЗ РегистрСведений.ЗначенияГруппДоступа КАК Значения
			ГДЕ
				  Значения.ГруппаДоступа    = ТаблицыГруппДоступа.ГруппаДоступа
				И Значения.ВидДоступа       = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(20))
				И Значения.ТолькоВидДоступа = Ложь
				И Значения.ЗначениеДоступа  = Т.ГруппаДоступа
			#ИначеЕсли &amp;ОграничиватьДоступПоВиду#Параметр(20) = "ОдинИзМногихВидов,ОднаГруппа" #Тогда
			Выбрать Истина
			ИЗ РегистрСведений.ЗначенияГруппДоступа КАК Значения
			ГДЕ
				  Значения.ГруппаДоступа    = ТаблицыГруппДоступа.ГруппаДоступа
				И Значения.ВидДоступа       = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(20))
				И Значения.ТолькоВидДоступа = Ложь
				И Значения.ЗначениеДоступа  = Т.ГруппаДоступа#Параметр(20)
			#ИначеЕсли &amp;ОграничиватьДоступПоВиду#Параметр(20) = "ЕдинственныйВид  ,МножествоГрупп" #Тогда
			Выбрать Первые 1 Истина
			ИЗ #Параметр(1).ГруппыДоступа КАК ГруппыЗначений
				Внутреннее Соединение РегистрСведений.ЗначенияГруппДоступа КАК Значения
				ПО
					  ГруппыЗначений.Ссылка     = Т.#Параметр(21)
					И Значения.ГруппаДоступа    = ТаблицыГруппДоступа.ГруппаДоступа
					И Значения.ВидДоступа       = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(20))
					И Значения.ТолькоВидДоступа = Ложь
					И Значения.ЗначениеДоступа  = ГруппыЗначений.ГруппаДоступа
			#Иначе //  &amp;ОграничиватьДоступПоВиду##Параметр(20) = "ОдинИзМногихВидов,МножествоГрупп"
			Выбрать Первые 1 Истина
			ИЗ #Параметр(1).ГруппыДоступа#Параметр(20) КАК ГруппыЗначений
				Внутреннее Соединение РегистрСведений.ЗначенияГруппДоступа КАК Значения
				ПО
					  ГруппыЗначений.Ссылка     = Т.#Параметр(21)
					И Значения.ГруппаДоступа    = ТаблицыГруппДоступа.ГруппаДоступа
					И Значения.ВидДоступа       = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(20))
					И Значения.ТолькоВидДоступа = Ложь
					И Значения.ЗначениеДоступа  = ГруппыЗначений.ГруппаДоступа#Параметр(20)
			#КонецЕсли
		#Иначе  // "Т.##Параметр(21)" &lt;&gt; "Т.Ссылка"
			Выбрать Первые 1 Истина
			ИЗ РегистрСведений.ГруппыЗначенийДоступа КАК ГруппыЗначений
				Внутреннее Соединение РегистрСведений.ЗначенияГруппДоступа КАК Значения
				ПО
					  ГруппыЗначений.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(20))
					И ГруппыЗначений.ЗначениеДоступа = Т.#Параметр(21)
					И Значения.ГруппаДоступа         = ТаблицыГруппДоступа.ГруппаДоступа
					И Значения.ВидДоступа            = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(20))
					И Значения.ТолькоВидДоступа      = ГруппыЗначений.ТолькоВидДоступа
					И Значения.ЗначениеДоступа       = ГруппыЗначений.ГруппаДоступа
		#КонецЕсли
			)
			Тогда Истина
			Иначе Ложь
			Конец
			=
			Выбор
			Когда Истина В  // Проверка наличия ограничения по виду доступа для значений.
			(
			Выбрать Истина
			ИЗ РегистрСведений.ЗначенияГруппДоступа КАК Виды
			ГДЕ
				  Виды.ГруппаДоступа    = ТаблицыГруппДоступа.ГруппаДоступа
				И Виды.ВидДоступа       = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(20))
				И Виды.ТолькоВидДоступа = Истина
			)
			Тогда Истина
			Иначе Ложь
			Конец
	 )
	#КонецЕсли
#КонецЕсли

//// Проверка значения поля группы параметров 10.
#Если "#Параметр(22)" = "" И "#Параметр(23)" = "" #Тогда
	// Группа параметров не используется.
#ИначеЕсли "#Параметр(22)" = "Условие" ИЛИ "#Параметр(22)" = "" #Тогда
	// Когда имя вида доступа "Условие" (или ""), тогда вместо имени поля задано условие.
	И ( #Параметр(23) )
#ИначеЕсли "#Параметр(22)" = "ПравоЧтения" ИЛИ "#Параметр(22)" = "ПравоДобавления" ИЛИ "#Параметр(22)" = "ПравоИзменения" #Тогда
	И #Параметр(23) &lt;&gt; Неопределено
	И Истина В
	 (	// Проверка права пользователя на таблицу Значения, установленного в поле.
		Выбрать Первые 1 Истина
		ИЗ РегистрСведений.ТаблицыГруппДоступа КАК ТаблицыГруппДоступаПроверкаПрава
		ГДЕ
			  ТаблицыГруппДоступаПроверкаПрава.ГруппаДоступа = ТаблицыГруппДоступа.ГруппаДоступа
			И ТаблицыГруппДоступаПроверкаПрава.ТипТаблицы    = ТипыСсылокПараметр23.ТипТаблицы
		#Если "#Параметр(22)" = "ПравоДобавления" #Тогда
			И ТаблицыГруппДоступаПроверкаПрава.Добавление
		#ИначеЕсли "#Параметр(22)" = "ПравоИзменения" #Тогда
			И ТаблицыГруппДоступаПроверкаПрава.Изменение
		#КонецЕсли
	 )
#ИначеЕсли НЕ &amp;ОграничиватьДоступПоВиду#Параметр(22) = "" #Тогда
	И
	#Если &amp;ОграничиватьДоступПоВиду#Параметр(22) = "ЧерезПраваПоЗначениямДоступа" #Тогда
	 (
	НЕ Истина В // Проверка, что по виду доступа пользователь ограничивается.
		(
		Выбрать Истина
		ИЗ РегистрСведений.ЗначенияГруппДоступа КАК Виды
		ГДЕ
			  Виды.ГруппаДоступа    = ТаблицыГруппДоступа.ГруппаДоступа
			И Виды.ВидДоступа       = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(22))
			И Виды.ТолькоВидДоступа = Истина
		)
	ИЛИ
		Истина В // Проверка, что пользователю или какой-нибудь группе пользователя право разрешено
			(
			Выбрать Первые 1 Истина
			ИЗ РегистрСведений.ПраваПоЗначениямДоступа КАК ПраваПоЗначениям
				Внутреннее Соединение РегистрСведений.ГруппыЗначенийДоступа КАК ИерархияЗначений
				ПО
					  ИерархияЗначений.ИспользоватьПраваСсылки
					И ИерархияЗначений.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(22))
					И ИерархияЗначений.ЗначениеДоступа = Т.#Параметр(23)
					И ПраваПоЗначениям.Таблица         = "#Параметр(1)"
					И ПраваПоЗначениям.ЗначениеДоступа = ИерархияЗначений.ГруппаДоступа
					И ПраваПоЗначениям.#Параметр(2)
					И ПраваПоЗначениям.РаспространяетсяВИерархии &gt;= ИерархияЗначений.СвязьСРодителем
				Внутреннее Соединение РегистрСведений.ГруппыЗначенийДоступа КАК ПользователиИГруппыПользователей
				ПО
				#Если &amp;ТекущийВнешнийПользователь = Значение(Справочник.ВнешниеПользователи.ПустаяСсылка) #Тогда
					  ПользователиИГруппыПользователей.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.Пользователи)
					И ПользователиИГруппыПользователей.ЗначениеДоступа = &amp;ТекущийПользователь
				#Иначе
					  ПользователиИГруппыПользователей.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.ВнешниеПользователи)
					И ПользователиИГруппыПользователей.ЗначениеДоступа = &amp;ТекущийВнешнийПользователь
				#КонецЕсли
					И ПользователиИГруппыПользователей.ГруппаДоступа   = ПраваПоЗначениям.Пользователь
			)
		 И НЕ Ложь В // Проверка, что пользователю или какой-нибудь группе пользователя право запрещено
			(
			Выбрать Первые 1 Ложь
			ИЗ РегистрСведений.ПраваПоЗначениямДоступа КАК ПраваПоЗначениям
				Внутреннее Соединение РегистрСведений.ГруппыЗначенийДоступа КАК ИерархияЗначений
				ПО
					  ИерархияЗначений.ИспользоватьПраваСсылки
					И ИерархияЗначений.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(22))
					И ИерархияЗначений.ЗначениеДоступа = Т.#Параметр(23)
					И ПраваПоЗначениям.Таблица         = "#Параметр(1)"
					И ПраваПоЗначениям.ЗначениеДоступа = ИерархияЗначений.ГруппаДоступа
					И ПраваПоЗначениям.#Параметр(2)Запрещено
					И ПраваПоЗначениям.РаспространяетсяВИерархии &gt;= ИерархияЗначений.СвязьСРодителем
				Внутреннее Соединение РегистрСведений.ГруппыЗначенийДоступа КАК ПользователиИГруппыПользователей
				ПО
				#Если &amp;ТекущийВнешнийПользователь = Значение(Справочник.ВнешниеПользователи.ПустаяСсылка) #Тогда
					  ПользователиИГруппыПользователей.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.Пользователи)
					И ПользователиИГруппыПользователей.ЗначениеДоступа = &amp;ТекущийПользователь
				#Иначе
					  ПользователиИГруппыПользователей.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.ВнешниеПользователи)
					И ПользователиИГруппыПользователей.ЗначениеДоступа = &amp;ТекущийВнешнийПользователь
				#КонецЕсли
					И ПользователиИГруппыПользователей.ГруппаДоступа   = ПраваПоЗначениям.Пользователь
			)
	 )
	#Иначе
	 (
		#Если "#Параметр(22)" = "Пользователи" #Тогда
		  #Если &amp;ТекущийВнешнийПользователь = Значение(Справочник.ВнешниеПользователи.ПустаяСсылка) #Тогда
			Истина В
				(
				Выбрать Первые 1 Истина
				ИЗ РегистрСведений.ГруппыЗначенийДоступа КАК ПользователиИГруппыПользователей
				ГДЕ
					  ПользователиИГруппыПользователей.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.Пользователи)
					И ПользователиИГруппыПользователей.ЗначениеДоступа = &amp;ТекущийПользователь
					И ПользователиИГруппыПользователей.ГруппаДоступа   = Т.#Параметр(23)
				)
			ИЛИ
		  #КонецЕсли
		#ИначеЕсли "#Параметр(22)" = "ВнешниеПользователи" #Тогда
		  #Если НЕ (&amp;ТекущийВнешнийПользователь = Значение(Справочник.ВнешниеПользователи.ПустаяСсылка)) #Тогда
			Истина В
				(
				Выбрать Первые 1 Истина
				ИЗ РегистрСведений.ГруппыЗначенийДоступа КАК ПользователиИГруппыПользователей
				ГДЕ
					  ПользователиИГруппыПользователей.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.ВнешниеПользователи)
					И ПользователиИГруппыПользователей.ЗначениеДоступа = &amp;ТекущийВнешнийПользователь
					И ПользователиИГруппыПользователей.ГруппаДоступа   = Т.#Параметр(23)
				)
			ИЛИ
		  #КонецЕсли
		// Если ВидПоТипуЗначенияОдинИзМногих, тогда проверка возможности доступа к значению через вид доступа.
		#ИначеЕсли &amp;ОграничиватьДоступПоВиду#Параметр(22) = "ОдинИзМногихВидов,БезГрупп"   ИЛИ
		           &amp;ОграничиватьДоступПоВиду#Параметр(22) = "ОдинИзМногихВидов,ОднаГруппа" ИЛИ
		           &amp;ОграничиватьДоступПоВиду#Параметр(22) = "ОдинИзМногихВидов,МножествоГрупп" #Тогда
			(
			#Если "Т.#Параметр(23)" = "Т.Ссылка" #Тогда
				Т.ВидДоступа#Параметр(22)
			#Иначе
			НЕ Истина В
				(
				Выбрать Истина
				ИЗ РегистрСведений.ГруппыЗначенийДоступа КАК ВидыЗначения
				ГДЕ
					  ВидыЗначения.ВидДоступа       = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(22))
					И ВидыЗначения.ЗначениеДоступа  = Т.#Параметр(23)
					И ВидыЗначения.ТолькоВидДоступа = Истина
				)
			#КонецЕсли
			) И
		#КонецЕсли
			Выбор
			Когда Истина В // Поиск значения в группе доступа (пользователей) непосредственно или через группы доступа значений.
			(
		#Если      &amp;ОграничиватьДоступПоВиду#Параметр(22) = "ЕдинственныйВид,  БезГрупп" ИЛИ
		           &amp;ОграничиватьДоступПоВиду#Параметр(22) = "ОдинИзМногихВидов,БезГрупп" #Тогда
			Выбрать Истина
			ИЗ РегистрСведений.ЗначенияГруппДоступа КАК Значения
			ГДЕ
				  Значения.ГруппаДоступа    = ТаблицыГруппДоступа.ГруппаДоступа
				И Значения.ВидДоступа       = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(22))
				И Значения.ТолькоВидДоступа = Ложь
				И Значения.ЗначениеДоступа  = Т.#Параметр(23)
		#ИначеЕсли "Т.#Параметр(23)" = "Т.Ссылка" #Тогда
			#Если      &amp;ОграничиватьДоступПоВиду#Параметр(22) = "ЕдинственныйВид,  ОднаГруппа" #Тогда
			Выбрать Истина
			ИЗ РегистрСведений.ЗначенияГруппДоступа КАК Значения
			ГДЕ
				  Значения.ГруппаДоступа    = ТаблицыГруппДоступа.ГруппаДоступа
				И Значения.ВидДоступа       = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(22))
				И Значения.ТолькоВидДоступа = Ложь
				И Значения.ЗначениеДоступа  = Т.ГруппаДоступа
			#ИначеЕсли &amp;ОграничиватьДоступПоВиду#Параметр(22) = "ОдинИзМногихВидов,ОднаГруппа" #Тогда
			Выбрать Истина
			ИЗ РегистрСведений.ЗначенияГруппДоступа КАК Значения
			ГДЕ
				  Значения.ГруппаДоступа    = ТаблицыГруппДоступа.ГруппаДоступа
				И Значения.ВидДоступа       = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(22))
				И Значения.ТолькоВидДоступа = Ложь
				И Значения.ЗначениеДоступа  = Т.ГруппаДоступа#Параметр(22)
			#ИначеЕсли &amp;ОграничиватьДоступПоВиду#Параметр(22) = "ЕдинственныйВид  ,МножествоГрупп" #Тогда
			Выбрать Первые 1 Истина
			ИЗ #Параметр(1).ГруппыДоступа КАК ГруппыЗначений
				Внутреннее Соединение РегистрСведений.ЗначенияГруппДоступа КАК Значения
				ПО
					  ГруппыЗначений.Ссылка     = Т.#Параметр(23)
					И Значения.ГруппаДоступа    = ТаблицыГруппДоступа.ГруппаДоступа
					И Значения.ВидДоступа       = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(22))
					И Значения.ТолькоВидДоступа = Ложь
					И Значения.ЗначениеДоступа  = ГруппыЗначений.ГруппаДоступа
			#Иначе //  &amp;ОграничиватьДоступПоВиду##Параметр(22) = "ОдинИзМногихВидов,МножествоГрупп"
			Выбрать Первые 1 Истина
			ИЗ #Параметр(1).ГруппыДоступа#Параметр(22) КАК ГруппыЗначений
				Внутреннее Соединение РегистрСведений.ЗначенияГруппДоступа КАК Значения
				ПО
					  ГруппыЗначений.Ссылка     = Т.#Параметр(23)
					И Значения.ГруппаДоступа    = ТаблицыГруппДоступа.ГруппаДоступа
					И Значения.ВидДоступа       = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(22))
					И Значения.ТолькоВидДоступа = Ложь
					И Значения.ЗначениеДоступа  = ГруппыЗначений.ГруппаДоступа#Параметр(22)
			#КонецЕсли
		#Иначе  // "Т.##Параметр(23)" &lt;&gt; "Т.Ссылка"
			Выбрать Первые 1 Истина
			ИЗ РегистрСведений.ГруппыЗначенийДоступа КАК ГруппыЗначений
				Внутреннее Соединение РегистрСведений.ЗначенияГруппДоступа КАК Значения
				ПО
					  ГруппыЗначений.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(22))
					И ГруппыЗначений.ЗначениеДоступа = Т.#Параметр(23)
					И Значения.ГруппаДоступа         = ТаблицыГруппДоступа.ГруппаДоступа
					И Значения.ВидДоступа            = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(22))
					И Значения.ТолькоВидДоступа      = ГруппыЗначений.ТолькоВидДоступа
					И Значения.ЗначениеДоступа       = ГруппыЗначений.ГруппаДоступа
		#КонецЕсли
			)
			Тогда Истина
			Иначе Ложь
			Конец
			=
			Выбор
			Когда Истина В  // Проверка наличия ограничения по виду доступа для значений.
			(
			Выбрать Истина
			ИЗ РегистрСведений.ЗначенияГруппДоступа КАК Виды
			ГДЕ
				  Виды.ГруппаДоступа    = ТаблицыГруппДоступа.ГруппаДоступа
				И Виды.ВидДоступа       = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(22))
				И Виды.ТолькоВидДоступа = Истина
			)
			Тогда Истина
			Иначе Ложь
			Конец
	 )
	#КонецЕсли
#КонецЕсли

//// Проверка значения поля группы параметров 11.
#Если "#Параметр(24)" = "" И "#Параметр(25)" = "" #Тогда
	// Группа параметров не используется.
#ИначеЕсли "#Параметр(24)" = "Условие" ИЛИ "#Параметр(24)" = "" #Тогда
	// Когда имя вида доступа "Условие" (или ""), тогда вместо имени поля задано условие.
	И ( #Параметр(25) )
#ИначеЕсли "#Параметр(24)" = "ПравоЧтения" ИЛИ "#Параметр(24)" = "ПравоДобавления" ИЛИ "#Параметр(24)" = "ПравоИзменения" #Тогда
	И #Параметр(25) &lt;&gt; Неопределено
	И Истина В
	 (	// Проверка права пользователя на таблицу Значения, установленного в поле.
		Выбрать Первые 1 Истина
		ИЗ РегистрСведений.ТаблицыГруппДоступа КАК ТаблицыГруппДоступаПроверкаПрава
		ГДЕ
			  ТаблицыГруппДоступаПроверкаПрава.ГруппаДоступа = ТаблицыГруппДоступа.ГруппаДоступа
			И ТаблицыГруппДоступаПроверкаПрава.ТипТаблицы    = ТипыСсылокПараметр25.ТипТаблицы
		#Если "#Параметр(24)" = "ПравоДобавления" #Тогда
			И ТаблицыГруппДоступаПроверкаПрава.Добавление
		#ИначеЕсли "#Параметр(24)" = "ПравоИзменения" #Тогда
			И ТаблицыГруппДоступаПроверкаПрава.Изменение
		#КонецЕсли
	 )
#ИначеЕсли НЕ &amp;ОграничиватьДоступПоВиду#Параметр(24) = "" #Тогда
	И
	#Если &amp;ОграничиватьДоступПоВиду#Параметр(24) = "ЧерезПраваПоЗначениямДоступа" #Тогда
	 (
	НЕ Истина В // Проверка, что по виду доступа пользователь ограничивается.
		(
		Выбрать Истина
		ИЗ РегистрСведений.ЗначенияГруппДоступа КАК Виды
		ГДЕ
			  Виды.ГруппаДоступа    = ТаблицыГруппДоступа.ГруппаДоступа
			И Виды.ВидДоступа       = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(24))
			И Виды.ТолькоВидДоступа = Истина
		)
	ИЛИ
		Истина В // Проверка, что пользователю или какой-нибудь группе пользователя право разрешено
			(
			Выбрать Первые 1 Истина
			ИЗ РегистрСведений.ПраваПоЗначениямДоступа КАК ПраваПоЗначениям
				Внутреннее Соединение РегистрСведений.ГруппыЗначенийДоступа КАК ИерархияЗначений
				ПО
					  ИерархияЗначений.ИспользоватьПраваСсылки
					И ИерархияЗначений.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(24))
					И ИерархияЗначений.ЗначениеДоступа = Т.#Параметр(25)
					И ПраваПоЗначениям.Таблица         = "#Параметр(1)"
					И ПраваПоЗначениям.ЗначениеДоступа = ИерархияЗначений.ГруппаДоступа
					И ПраваПоЗначениям.#Параметр(2)
					И ПраваПоЗначениям.РаспространяетсяВИерархии &gt;= ИерархияЗначений.СвязьСРодителем
				Внутреннее Соединение РегистрСведений.ГруппыЗначенийДоступа КАК ПользователиИГруппыПользователей
				ПО
				#Если &amp;ТекущийВнешнийПользователь = Значение(Справочник.ВнешниеПользователи.ПустаяСсылка) #Тогда
					  ПользователиИГруппыПользователей.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.Пользователи)
					И ПользователиИГруппыПользователей.ЗначениеДоступа = &amp;ТекущийПользователь
				#Иначе
					  ПользователиИГруппыПользователей.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.ВнешниеПользователи)
					И ПользователиИГруппыПользователей.ЗначениеДоступа = &amp;ТекущийВнешнийПользователь
				#КонецЕсли
					И ПользователиИГруппыПользователей.ГруппаДоступа   = ПраваПоЗначениям.Пользователь
			)
		 И НЕ Ложь В // Проверка, что пользователю или какой-нибудь группе пользователя право запрещено
			(
			Выбрать Первые 1 Ложь
			ИЗ РегистрСведений.ПраваПоЗначениямДоступа КАК ПраваПоЗначениям
				Внутреннее Соединение РегистрСведений.ГруппыЗначенийДоступа КАК ИерархияЗначений
				ПО
					  ИерархияЗначений.ИспользоватьПраваСсылки
					И ИерархияЗначений.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(24))
					И ИерархияЗначений.ЗначениеДоступа = Т.#Параметр(25)
					И ПраваПоЗначениям.Таблица         = "#Параметр(1)"
					И ПраваПоЗначениям.ЗначениеДоступа = ИерархияЗначений.ГруппаДоступа
					И ПраваПоЗначениям.#Параметр(2)Запрещено
					И ПраваПоЗначениям.РаспространяетсяВИерархии &gt;= ИерархияЗначений.СвязьСРодителем
				Внутреннее Соединение РегистрСведений.ГруппыЗначенийДоступа КАК ПользователиИГруппыПользователей
				ПО
				#Если &amp;ТекущийВнешнийПользователь = Значение(Справочник.ВнешниеПользователи.ПустаяСсылка) #Тогда
					  ПользователиИГруппыПользователей.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.Пользователи)
					И ПользователиИГруппыПользователей.ЗначениеДоступа = &amp;ТекущийПользователь
				#Иначе
					  ПользователиИГруппыПользователей.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.ВнешниеПользователи)
					И ПользователиИГруппыПользователей.ЗначениеДоступа = &amp;ТекущийВнешнийПользователь
				#КонецЕсли
					И ПользователиИГруппыПользователей.ГруппаДоступа   = ПраваПоЗначениям.Пользователь
			)
	 )
	#Иначе
	 (
		#Если "#Параметр(24)" = "Пользователи" #Тогда
		  #Если &amp;ТекущийВнешнийПользователь = Значение(Справочник.ВнешниеПользователи.ПустаяСсылка) #Тогда
			Истина В
				(
				Выбрать Первые 1 Истина
				ИЗ РегистрСведений.ГруппыЗначенийДоступа КАК ПользователиИГруппыПользователей
				ГДЕ
					  ПользователиИГруппыПользователей.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.Пользователи)
					И ПользователиИГруппыПользователей.ЗначениеДоступа = &amp;ТекущийПользователь
					И ПользователиИГруппыПользователей.ГруппаДоступа   = Т.#Параметр(25)
				)
			ИЛИ
		  #КонецЕсли
		#ИначеЕсли "#Параметр(24)" = "ВнешниеПользователи" #Тогда
		  #Если НЕ (&amp;ТекущийВнешнийПользователь = Значение(Справочник.ВнешниеПользователи.ПустаяСсылка)) #Тогда
			Истина В
				(
				Выбрать Первые 1 Истина
				ИЗ РегистрСведений.ГруппыЗначенийДоступа КАК ПользователиИГруппыПользователей
				ГДЕ
					  ПользователиИГруппыПользователей.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.ВнешниеПользователи)
					И ПользователиИГруппыПользователей.ЗначениеДоступа = &amp;ТекущийВнешнийПользователь
					И ПользователиИГруппыПользователей.ГруппаДоступа   = Т.#Параметр(25)
				)
			ИЛИ
		  #КонецЕсли
		// Если ВидПоТипуЗначенияОдинИзМногих, тогда проверка возможности доступа к значению через вид доступа.
		#ИначеЕсли &amp;ОграничиватьДоступПоВиду#Параметр(24) = "ОдинИзМногихВидов,БезГрупп"   ИЛИ
		           &amp;ОграничиватьДоступПоВиду#Параметр(24) = "ОдинИзМногихВидов,ОднаГруппа" ИЛИ
		           &amp;ОграничиватьДоступПоВиду#Параметр(24) = "ОдинИзМногихВидов,МножествоГрупп" #Тогда
			(
			#Если "Т.#Параметр(25)" = "Т.Ссылка" #Тогда
				Т.ВидДоступа#Параметр(24)
			#Иначе
			НЕ Истина В
				(
				Выбрать Истина
				ИЗ РегистрСведений.ГруппыЗначенийДоступа КАК ВидыЗначения
				ГДЕ
					  ВидыЗначения.ВидДоступа       = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(24))
					И ВидыЗначения.ЗначениеДоступа  = Т.#Параметр(25)
					И ВидыЗначения.ТолькоВидДоступа = Истина
				)
			#КонецЕсли
			) И
		#КонецЕсли
			Выбор
			Когда Истина В // Поиск значения в группе доступа (пользователей) непосредственно или через группы доступа значений.
			(
		#Если      &amp;ОграничиватьДоступПоВиду#Параметр(24) = "ЕдинственныйВид,  БезГрупп" ИЛИ
		           &amp;ОграничиватьДоступПоВиду#Параметр(24) = "ОдинИзМногихВидов,БезГрупп" #Тогда
			Выбрать Истина
			ИЗ РегистрСведений.ЗначенияГруппДоступа КАК Значения
			ГДЕ
				  Значения.ГруппаДоступа    = ТаблицыГруппДоступа.ГруппаДоступа
				И Значения.ВидДоступа       = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(24))
				И Значения.ТолькоВидДоступа = Ложь
				И Значения.ЗначениеДоступа  = Т.#Параметр(25)
		#ИначеЕсли "Т.#Параметр(25)" = "Т.Ссылка" #Тогда
			#Если      &amp;ОграничиватьДоступПоВиду#Параметр(24) = "ЕдинственныйВид,  ОднаГруппа" #Тогда
			Выбрать Истина
			ИЗ РегистрСведений.ЗначенияГруппДоступа КАК Значения
			ГДЕ
				  Значения.ГруппаДоступа    = ТаблицыГруппДоступа.ГруппаДоступа
				И Значения.ВидДоступа       = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(24))
				И Значения.ТолькоВидДоступа = Ложь
				И Значения.ЗначениеДоступа  = Т.ГруппаДоступа
			#ИначеЕсли &amp;ОграничиватьДоступПоВиду#Параметр(24) = "ОдинИзМногихВидов,ОднаГруппа" #Тогда
			Выбрать Истина
			ИЗ РегистрСведений.ЗначенияГруппДоступа КАК Значения
			ГДЕ
				  Значения.ГруппаДоступа    = ТаблицыГруппДоступа.ГруппаДоступа
				И Значения.ВидДоступа       = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(24))
				И Значения.ТолькоВидДоступа = Ложь
				И Значения.ЗначениеДоступа  = Т.ГруппаДоступа#Параметр(24)
			#ИначеЕсли &amp;ОграничиватьДоступПоВиду#Параметр(24) = "ЕдинственныйВид  ,МножествоГрупп" #Тогда
			Выбрать Первые 1 Истина
			ИЗ #Параметр(1).ГруппыДоступа КАК ГруппыЗначений
				Внутреннее Соединение РегистрСведений.ЗначенияГруппДоступа КАК Значения
				ПО
					  ГруппыЗначений.Ссылка     = Т.#Параметр(25)
					И Значения.ГруппаДоступа    = ТаблицыГруппДоступа.ГруппаДоступа
					И Значения.ВидДоступа       = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(24))
					И Значения.ТолькоВидДоступа = Ложь
					И Значения.ЗначениеДоступа  = ГруппыЗначений.ГруппаДоступа
			#Иначе //  &amp;ОграничиватьДоступПоВиду##Параметр(24) = "ОдинИзМногихВидов,МножествоГрупп"
			Выбрать Первые 1 Истина
			ИЗ #Параметр(1).ГруппыДоступа#Параметр(24) КАК ГруппыЗначений
				Внутреннее Соединение РегистрСведений.ЗначенияГруппДоступа КАК Значения
				ПО
					  ГруппыЗначений.Ссылка     = Т.#Параметр(25)
					И Значения.ГруппаДоступа    = ТаблицыГруппДоступа.ГруппаДоступа
					И Значения.ВидДоступа       = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(24))
					И Значения.ТолькоВидДоступа = Ложь
					И Значения.ЗначениеДоступа  = ГруппыЗначений.ГруппаДоступа#Параметр(24)
			#КонецЕсли
		#Иначе  // "Т.##Параметр(25)" &lt;&gt; "Т.Ссылка"
			Выбрать Первые 1 Истина
			ИЗ РегистрСведений.ГруппыЗначенийДоступа КАК ГруппыЗначений
				Внутреннее Соединение РегистрСведений.ЗначенияГруппДоступа КАК Значения
				ПО
					  ГруппыЗначений.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(24))
					И ГруппыЗначений.ЗначениеДоступа = Т.#Параметр(25)
					И Значения.ГруппаДоступа         = ТаблицыГруппДоступа.ГруппаДоступа
					И Значения.ВидДоступа            = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(24))
					И Значения.ТолькоВидДоступа      = ГруппыЗначений.ТолькоВидДоступа
					И Значения.ЗначениеДоступа       = ГруппыЗначений.ГруппаДоступа
		#КонецЕсли
			)
			Тогда Истина
			Иначе Ложь
			Конец
			=
			Выбор
			Когда Истина В  // Проверка наличия ограничения по виду доступа для значений.
			(
			Выбрать Истина
			ИЗ РегистрСведений.ЗначенияГруппДоступа КАК Виды
			ГДЕ
				  Виды.ГруппаДоступа    = ТаблицыГруппДоступа.ГруппаДоступа
				И Виды.ВидДоступа       = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(24))
				И Виды.ТолькоВидДоступа = Истина
			)
			Тогда Истина
			Иначе Ложь
			Конец
	 )
	#КонецЕсли
#КонецЕсли

//// Проверка значения поля группы параметров 12.
#Если "#Параметр(26)" = "" И "#Параметр(27)" = "" #Тогда
	// Группа параметров не используется.
#ИначеЕсли "#Параметр(26)" = "Условие" ИЛИ "#Параметр(26)" = "" #Тогда
	// Когда имя вида доступа "Условие" (или ""), тогда вместо имени поля задано условие.
	И ( #Параметр(27) )
#ИначеЕсли "#Параметр(26)" = "ПравоЧтения" ИЛИ "#Параметр(26)" = "ПравоДобавления" ИЛИ "#Параметр(26)" = "ПравоИзменения" #Тогда
	И #Параметр(27) &lt;&gt; Неопределено
	И Истина В
	 (	// Проверка права пользователя на таблицу Значения, установленного в поле.
		Выбрать Первые 1 Истина
		ИЗ РегистрСведений.ТаблицыГруппДоступа КАК ТаблицыГруппДоступаПроверкаПрава
		ГДЕ
			  ТаблицыГруппДоступаПроверкаПрава.ГруппаДоступа = ТаблицыГруппДоступа.ГруппаДоступа
			И ТаблицыГруппДоступаПроверкаПрава.ТипТаблицы    = ТипыСсылокПараметр27.ТипТаблицы
		#Если "#Параметр(26)" = "ПравоДобавления" #Тогда
			И ТаблицыГруппДоступаПроверкаПрава.Добавление
		#ИначеЕсли "#Параметр(26)" = "ПравоИзменения" #Тогда
			И ТаблицыГруппДоступаПроверкаПрава.Изменение
		#КонецЕсли
	 )
#ИначеЕсли НЕ &amp;ОграничиватьДоступПоВиду#Параметр(26) = "" #Тогда
	И
	#Если &amp;ОграничиватьДоступПоВиду#Параметр(26) = "ЧерезПраваПоЗначениямДоступа" #Тогда
	 (
	НЕ Истина В // Проверка, что по виду доступа пользователь ограничивается.
		(
		Выбрать Истина
		ИЗ РегистрСведений.ЗначенияГруппДоступа КАК Виды
		ГДЕ
			  Виды.ГруппаДоступа    = ТаблицыГруппДоступа.ГруппаДоступа
			И Виды.ВидДоступа       = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(26))
			И Виды.ТолькоВидДоступа = Истина
		)
	ИЛИ
		Истина В // Проверка, что пользователю или какой-нибудь группе пользователя право разрешено
			(
			Выбрать Первые 1 Истина
			ИЗ РегистрСведений.ПраваПоЗначениямДоступа КАК ПраваПоЗначениям
				Внутреннее Соединение РегистрСведений.ГруппыЗначенийДоступа КАК ИерархияЗначений
				ПО
					  ИерархияЗначений.ИспользоватьПраваСсылки
					И ИерархияЗначений.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(26))
					И ИерархияЗначений.ЗначениеДоступа = Т.#Параметр(27)
					И ПраваПоЗначениям.Таблица         = "#Параметр(1)"
					И ПраваПоЗначениям.ЗначениеДоступа = ИерархияЗначений.ГруппаДоступа
					И ПраваПоЗначениям.#Параметр(2)
					И ПраваПоЗначениям.РаспространяетсяВИерархии &gt;= ИерархияЗначений.СвязьСРодителем
				Внутреннее Соединение РегистрСведений.ГруппыЗначенийДоступа КАК ПользователиИГруппыПользователей
				ПО
				#Если &amp;ТекущийВнешнийПользователь = Значение(Справочник.ВнешниеПользователи.ПустаяСсылка) #Тогда
					  ПользователиИГруппыПользователей.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.Пользователи)
					И ПользователиИГруппыПользователей.ЗначениеДоступа = &amp;ТекущийПользователь
				#Иначе
					  ПользователиИГруппыПользователей.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.ВнешниеПользователи)
					И ПользователиИГруппыПользователей.ЗначениеДоступа = &amp;ТекущийВнешнийПользователь
				#КонецЕсли
					И ПользователиИГруппыПользователей.ГруппаДоступа   = ПраваПоЗначениям.Пользователь
			)
		 И НЕ Ложь В // Проверка, что пользователю или какой-нибудь группе пользователя право запрещено
			(
			Выбрать Первые 1 Ложь
			ИЗ РегистрСведений.ПраваПоЗначениямДоступа КАК ПраваПоЗначениям
				Внутреннее Соединение РегистрСведений.ГруппыЗначенийДоступа КАК ИерархияЗначений
				ПО
					  ИерархияЗначений.ИспользоватьПраваСсылки
					И ИерархияЗначений.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(26))
					И ИерархияЗначений.ЗначениеДоступа = Т.#Параметр(27)
					И ПраваПоЗначениям.Таблица         = "#Параметр(1)"
					И ПраваПоЗначениям.ЗначениеДоступа = ИерархияЗначений.ГруппаДоступа
					И ПраваПоЗначениям.#Параметр(2)Запрещено
					И ПраваПоЗначениям.РаспространяетсяВИерархии &gt;= ИерархияЗначений.СвязьСРодителем
				Внутреннее Соединение РегистрСведений.ГруппыЗначенийДоступа КАК ПользователиИГруппыПользователей
				ПО
				#Если &amp;ТекущийВнешнийПользователь = Значение(Справочник.ВнешниеПользователи.ПустаяСсылка) #Тогда
					  ПользователиИГруппыПользователей.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.Пользователи)
					И ПользователиИГруппыПользователей.ЗначениеДоступа = &amp;ТекущийПользователь
				#Иначе
					  ПользователиИГруппыПользователей.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.ВнешниеПользователи)
					И ПользователиИГруппыПользователей.ЗначениеДоступа = &amp;ТекущийВнешнийПользователь
				#КонецЕсли
					И ПользователиИГруппыПользователей.ГруппаДоступа   = ПраваПоЗначениям.Пользователь
			)
	 )
	#Иначе
	 (
		#Если "#Параметр(26)" = "Пользователи" #Тогда
		  #Если &amp;ТекущийВнешнийПользователь = Значение(Справочник.ВнешниеПользователи.ПустаяСсылка) #Тогда
			Истина В
				(
				Выбрать Первые 1 Истина
				ИЗ РегистрСведений.ГруппыЗначенийДоступа КАК ПользователиИГруппыПользователей
				ГДЕ
					  ПользователиИГруппыПользователей.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.Пользователи)
					И ПользователиИГруппыПользователей.ЗначениеДоступа = &amp;ТекущийПользователь
					И ПользователиИГруппыПользователей.ГруппаДоступа   = Т.#Параметр(27)
				)
			ИЛИ
		  #КонецЕсли
		#ИначеЕсли "#Параметр(26)" = "ВнешниеПользователи" #Тогда
		  #Если НЕ (&amp;ТекущийВнешнийПользователь = Значение(Справочник.ВнешниеПользователи.ПустаяСсылка)) #Тогда
			Истина В
				(
				Выбрать Первые 1 Истина
				ИЗ РегистрСведений.ГруппыЗначенийДоступа КАК ПользователиИГруппыПользователей
				ГДЕ
					  ПользователиИГруппыПользователей.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.ВнешниеПользователи)
					И ПользователиИГруппыПользователей.ЗначениеДоступа = &amp;ТекущийВнешнийПользователь
					И ПользователиИГруппыПользователей.ГруппаДоступа   = Т.#Параметр(27)
				)
			ИЛИ
		  #КонецЕсли
		// Если ВидПоТипуЗначенияОдинИзМногих, тогда проверка возможности доступа к значению через вид доступа.
		#ИначеЕсли &amp;ОграничиватьДоступПоВиду#Параметр(26) = "ОдинИзМногихВидов,БезГрупп"   ИЛИ
		           &amp;ОграничиватьДоступПоВиду#Параметр(26) = "ОдинИзМногихВидов,ОднаГруппа" ИЛИ
		           &amp;ОграничиватьДоступПоВиду#Параметр(26) = "ОдинИзМногихВидов,МножествоГрупп" #Тогда
			(
			#Если "Т.#Параметр(27)" = "Т.Ссылка" #Тогда
				Т.ВидДоступа#Параметр(26)
			#Иначе
			НЕ Истина В
				(
				Выбрать Истина
				ИЗ РегистрСведений.ГруппыЗначенийДоступа КАК ВидыЗначения
				ГДЕ
					  ВидыЗначения.ВидДоступа       = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(26))
					И ВидыЗначения.ЗначениеДоступа  = Т.#Параметр(27)
					И ВидыЗначения.ТолькоВидДоступа = Истина
				)
			#КонецЕсли
			) И
		#КонецЕсли
			Выбор
			Когда Истина В // Поиск значения в группе доступа (пользователей) непосредственно или через группы доступа значений.
			(
		#Если      &amp;ОграничиватьДоступПоВиду#Параметр(26) = "ЕдинственныйВид,  БезГрупп" ИЛИ
		           &amp;ОграничиватьДоступПоВиду#Параметр(26) = "ОдинИзМногихВидов,БезГрупп" #Тогда
			Выбрать Истина
			ИЗ РегистрСведений.ЗначенияГруппДоступа КАК Значения
			ГДЕ
				  Значения.ГруппаДоступа    = ТаблицыГруппДоступа.ГруппаДоступа
				И Значения.ВидДоступа       = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(26))
				И Значения.ТолькоВидДоступа = Ложь
				И Значения.ЗначениеДоступа  = Т.#Параметр(27)
		#ИначеЕсли "Т.#Параметр(27)" = "Т.Ссылка" #Тогда
			#Если      &amp;ОграничиватьДоступПоВиду#Параметр(26) = "ЕдинственныйВид,  ОднаГруппа" #Тогда
			Выбрать Истина
			ИЗ РегистрСведений.ЗначенияГруппДоступа КАК Значения
			ГДЕ
				  Значения.ГруппаДоступа    = ТаблицыГруппДоступа.ГруппаДоступа
				И Значения.ВидДоступа       = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(26))
				И Значения.ТолькоВидДоступа = Ложь
				И Значения.ЗначениеДоступа  = Т.ГруппаДоступа
			#ИначеЕсли &amp;ОграничиватьДоступПоВиду#Параметр(26) = "ОдинИзМногихВидов,ОднаГруппа" #Тогда
			Выбрать Истина
			ИЗ РегистрСведений.ЗначенияГруппДоступа КАК Значения
			ГДЕ
				  Значения.ГруппаДоступа    = ТаблицыГруппДоступа.ГруппаДоступа
				И Значения.ВидДоступа       = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(26))
				И Значения.ТолькоВидДоступа = Ложь
				И Значения.ЗначениеДоступа  = Т.ГруппаДоступа#Параметр(26)
			#ИначеЕсли &amp;ОграничиватьДоступПоВиду#Параметр(26) = "ЕдинственныйВид  ,МножествоГрупп" #Тогда
			Выбрать Первые 1 Истина
			ИЗ #Параметр(1).ГруппыДоступа КАК ГруппыЗначений
				Внутреннее Соединение РегистрСведений.ЗначенияГруппДоступа КАК Значения
				ПО
					  ГруппыЗначений.Ссылка     = Т.#Параметр(27)
					И Значения.ГруппаДоступа    = ТаблицыГруппДоступа.ГруппаДоступа
					И Значения.ВидДоступа       = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(26))
					И Значения.ТолькоВидДоступа = Ложь
					И Значения.ЗначениеДоступа  = ГруппыЗначений.ГруппаДоступа
			#Иначе //  &amp;ОграничиватьДоступПоВиду##Параметр(26) = "ОдинИзМногихВидов,МножествоГрупп"
			Выбрать Первые 1 Истина
			ИЗ #Параметр(1).ГруппыДоступа#Параметр(26) КАК ГруппыЗначений
				Внутреннее Соединение РегистрСведений.ЗначенияГруппДоступа КАК Значения
				ПО
					  ГруппыЗначений.Ссылка     = Т.#Параметр(27)
					И Значения.ГруппаДоступа    = ТаблицыГруппДоступа.ГруппаДоступа
					И Значения.ВидДоступа       = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(26))
					И Значения.ТолькоВидДоступа = Ложь
					И Значения.ЗначениеДоступа  = ГруппыЗначений.ГруппаДоступа#Параметр(26)
			#КонецЕсли
		#Иначе  // "Т.##Параметр(27)" &lt;&gt; "Т.Ссылка"
			Выбрать Первые 1 Истина
			ИЗ РегистрСведений.ГруппыЗначенийДоступа КАК ГруппыЗначений
				Внутреннее Соединение РегистрСведений.ЗначенияГруппДоступа КАК Значения
				ПО
					  ГруппыЗначений.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(26))
					И ГруппыЗначений.ЗначениеДоступа = Т.#Параметр(27)
					И Значения.ГруппаДоступа         = ТаблицыГруппДоступа.ГруппаДоступа
					И Значения.ВидДоступа            = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(26))
					И Значения.ТолькоВидДоступа      = ГруппыЗначений.ТолькоВидДоступа
					И Значения.ЗначениеДоступа       = ГруппыЗначений.ГруппаДоступа
		#КонецЕсли
			)
			Тогда Истина
			Иначе Ложь
			Конец
			=
			Выбор
			Когда Истина В  // Проверка наличия ограничения по виду доступа для значений.
			(
			Выбрать Истина
			ИЗ РегистрСведений.ЗначенияГруппДоступа КАК Виды
			ГДЕ
				  Виды.ГруппаДоступа    = ТаблицыГруппДоступа.ГруппаДоступа
				И Виды.ВидДоступа       = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(26))
				И Виды.ТолькоВидДоступа = Истина
			)
			Тогда Истина
			Иначе Ложь
			Конец
	 )
	#КонецЕсли
#КонецЕсли

//// Проверка значения поля группы параметров 13.
#Если "#Параметр(28)" = "" И "#Параметр(29)" = "" #Тогда
	// Группа параметров не используется.
#ИначеЕсли "#Параметр(28)" = "Условие" ИЛИ "#Параметр(28)" = "" #Тогда
	// Когда имя вида доступа "Условие" (или ""), тогда вместо имени поля задано условие.
	И ( #Параметр(29) )
#ИначеЕсли "#Параметр(28)" = "ПравоЧтения" ИЛИ "#Параметр(28)" = "ПравоДобавления" ИЛИ "#Параметр(28)" = "ПравоИзменения" #Тогда
	И #Параметр(29) &lt;&gt; Неопределено
	И Истина В
	 (	// Проверка права пользователя на таблицу Значения, установленного в поле.
		Выбрать Первые 1 Истина
		ИЗ РегистрСведений.ТаблицыГруппДоступа КАК ТаблицыГруппДоступаПроверкаПрава
		ГДЕ
			  ТаблицыГруппДоступаПроверкаПрава.ГруппаДоступа = ТаблицыГруппДоступа.ГруппаДоступа
			И ТаблицыГруппДоступаПроверкаПрава.ТипТаблицы    = ТипыСсылокПараметр29.ТипТаблицы
		#Если "#Параметр(28)" = "ПравоДобавления" #Тогда
			И ТаблицыГруппДоступаПроверкаПрава.Добавление
		#ИначеЕсли "#Параметр(28)" = "ПравоИзменения" #Тогда
			И ТаблицыГруппДоступаПроверкаПрава.Изменение
		#КонецЕсли
	 )
#ИначеЕсли НЕ &amp;ОграничиватьДоступПоВиду#Параметр(28) = "" #Тогда
	И
	#Если &amp;ОграничиватьДоступПоВиду#Параметр(28) = "ЧерезПраваПоЗначениямДоступа" #Тогда
	 (
	НЕ Истина В // Проверка, что по виду доступа пользователь ограничивается.
		(
		Выбрать Истина
		ИЗ РегистрСведений.ЗначенияГруппДоступа КАК Виды
		ГДЕ
			  Виды.ГруппаДоступа    = ТаблицыГруппДоступа.ГруппаДоступа
			И Виды.ВидДоступа       = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(28))
			И Виды.ТолькоВидДоступа = Истина
		)
	ИЛИ
		Истина В // Проверка, что пользователю или какой-нибудь группе пользователя право разрешено
			(
			Выбрать Первые 1 Истина
			ИЗ РегистрСведений.ПраваПоЗначениямДоступа КАК ПраваПоЗначениям
				Внутреннее Соединение РегистрСведений.ГруппыЗначенийДоступа КАК ИерархияЗначений
				ПО
					  ИерархияЗначений.ИспользоватьПраваСсылки
					И ИерархияЗначений.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(28))
					И ИерархияЗначений.ЗначениеДоступа = Т.#Параметр(29)
					И ПраваПоЗначениям.Таблица         = "#Параметр(1)"
					И ПраваПоЗначениям.ЗначениеДоступа = ИерархияЗначений.ГруппаДоступа
					И ПраваПоЗначениям.#Параметр(2)
					И ПраваПоЗначениям.РаспространяетсяВИерархии &gt;= ИерархияЗначений.СвязьСРодителем
				Внутреннее Соединение РегистрСведений.ГруппыЗначенийДоступа КАК ПользователиИГруппыПользователей
				ПО
				#Если &amp;ТекущийВнешнийПользователь = Значение(Справочник.ВнешниеПользователи.ПустаяСсылка) #Тогда
					  ПользователиИГруппыПользователей.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.Пользователи)
					И ПользователиИГруппыПользователей.ЗначениеДоступа = &amp;ТекущийПользователь
				#Иначе
					  ПользователиИГруппыПользователей.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.ВнешниеПользователи)
					И ПользователиИГруппыПользователей.ЗначениеДоступа = &amp;ТекущийВнешнийПользователь
				#КонецЕсли
					И ПользователиИГруппыПользователей.ГруппаДоступа   = ПраваПоЗначениям.Пользователь
			)
		 И НЕ Ложь В // Проверка, что пользователю или какой-нибудь группе пользователя право запрещено
			(
			Выбрать Первые 1 Ложь
			ИЗ РегистрСведений.ПраваПоЗначениямДоступа КАК ПраваПоЗначениям
				Внутреннее Соединение РегистрСведений.ГруппыЗначенийДоступа КАК ИерархияЗначений
				ПО
					  ИерархияЗначений.ИспользоватьПраваСсылки
					И ИерархияЗначений.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(28))
					И ИерархияЗначений.ЗначениеДоступа = Т.#Параметр(29)
					И ПраваПоЗначениям.Таблица         = "#Параметр(1)"
					И ПраваПоЗначениям.ЗначениеДоступа = ИерархияЗначений.ГруппаДоступа
					И ПраваПоЗначениям.#Параметр(2)Запрещено
					И ПраваПоЗначениям.РаспространяетсяВИерархии &gt;= ИерархияЗначений.СвязьСРодителем
				Внутреннее Соединение РегистрСведений.ГруппыЗначенийДоступа КАК ПользователиИГруппыПользователей
				ПО
				#Если &amp;ТекущийВнешнийПользователь = Значение(Справочник.ВнешниеПользователи.ПустаяСсылка) #Тогда
					  ПользователиИГруппыПользователей.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.Пользователи)
					И ПользователиИГруппыПользователей.ЗначениеДоступа = &amp;ТекущийПользователь
				#Иначе
					  ПользователиИГруппыПользователей.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.ВнешниеПользователи)
					И ПользователиИГруппыПользователей.ЗначениеДоступа = &amp;ТекущийВнешнийПользователь
				#КонецЕсли
					И ПользователиИГруппыПользователей.ГруппаДоступа   = ПраваПоЗначениям.Пользователь
			)
	 )
	#Иначе
	 (
		#Если "#Параметр(28)" = "Пользователи" #Тогда
		  #Если &amp;ТекущийВнешнийПользователь = Значение(Справочник.ВнешниеПользователи.ПустаяСсылка) #Тогда
			Истина В
				(
				Выбрать Первые 1 Истина
				ИЗ РегистрСведений.ГруппыЗначенийДоступа КАК ПользователиИГруппыПользователей
				ГДЕ
					  ПользователиИГруппыПользователей.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.Пользователи)
					И ПользователиИГруппыПользователей.ЗначениеДоступа = &amp;ТекущийПользователь
					И ПользователиИГруппыПользователей.ГруппаДоступа   = Т.#Параметр(29)
				)
			ИЛИ
		  #КонецЕсли
		#ИначеЕсли "#Параметр(28)" = "ВнешниеПользователи" #Тогда
		  #Если НЕ (&amp;ТекущийВнешнийПользователь = Значение(Справочник.ВнешниеПользователи.ПустаяСсылка)) #Тогда
			Истина В
				(
				Выбрать Первые 1 Истина
				ИЗ РегистрСведений.ГруппыЗначенийДоступа КАК ПользователиИГруппыПользователей
				ГДЕ
					  ПользователиИГруппыПользователей.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.ВнешниеПользователи)
					И ПользователиИГруппыПользователей.ЗначениеДоступа = &amp;ТекущийВнешнийПользователь
					И ПользователиИГруппыПользователей.ГруппаДоступа   = Т.#Параметр(29)
				)
			ИЛИ
		  #КонецЕсли
		// Если ВидПоТипуЗначенияОдинИзМногих, тогда проверка возможности доступа к значению через вид доступа.
		#ИначеЕсли &amp;ОграничиватьДоступПоВиду#Параметр(28) = "ОдинИзМногихВидов,БезГрупп"   ИЛИ
		           &amp;ОграничиватьДоступПоВиду#Параметр(28) = "ОдинИзМногихВидов,ОднаГруппа" ИЛИ
		           &amp;ОграничиватьДоступПоВиду#Параметр(28) = "ОдинИзМногихВидов,МножествоГрупп" #Тогда
			(
			#Если "Т.#Параметр(29)" = "Т.Ссылка" #Тогда
				Т.ВидДоступа#Параметр(28)
			#Иначе
			НЕ Истина В
				(
				Выбрать Истина
				ИЗ РегистрСведений.ГруппыЗначенийДоступа КАК ВидыЗначения
				ГДЕ
					  ВидыЗначения.ВидДоступа       = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(28))
					И ВидыЗначения.ЗначениеДоступа  = Т.#Параметр(29)
					И ВидыЗначения.ТолькоВидДоступа = Истина
				)
			#КонецЕсли
			) И
		#КонецЕсли
			Выбор
			Когда Истина В // Поиск значения в группе доступа (пользователей) непосредственно или через группы доступа значений.
			(
		#Если      &amp;ОграничиватьДоступПоВиду#Параметр(28) = "ЕдинственныйВид,  БезГрупп" ИЛИ
		           &amp;ОграничиватьДоступПоВиду#Параметр(28) = "ОдинИзМногихВидов,БезГрупп" #Тогда
			Выбрать Истина
			ИЗ РегистрСведений.ЗначенияГруппДоступа КАК Значения
			ГДЕ
				  Значения.ГруппаДоступа    = ТаблицыГруппДоступа.ГруппаДоступа
				И Значения.ВидДоступа       = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(28))
				И Значения.ТолькоВидДоступа = Ложь
				И Значения.ЗначениеДоступа  = Т.#Параметр(29)
		#ИначеЕсли "Т.#Параметр(29)" = "Т.Ссылка" #Тогда
			#Если      &amp;ОграничиватьДоступПоВиду#Параметр(28) = "ЕдинственныйВид,  ОднаГруппа" #Тогда
			Выбрать Истина
			ИЗ РегистрСведений.ЗначенияГруппДоступа КАК Значения
			ГДЕ
				  Значения.ГруппаДоступа    = ТаблицыГруппДоступа.ГруппаДоступа
				И Значения.ВидДоступа       = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(28))
				И Значения.ТолькоВидДоступа = Ложь
				И Значения.ЗначениеДоступа  = Т.ГруппаДоступа
			#ИначеЕсли &amp;ОграничиватьДоступПоВиду#Параметр(28) = "ОдинИзМногихВидов,ОднаГруппа" #Тогда
			Выбрать Истина
			ИЗ РегистрСведений.ЗначенияГруппДоступа КАК Значения
			ГДЕ
				  Значения.ГруппаДоступа    = ТаблицыГруппДоступа.ГруппаДоступа
				И Значения.ВидДоступа       = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(28))
				И Значения.ТолькоВидДоступа = Ложь
				И Значения.ЗначениеДоступа  = Т.ГруппаДоступа#Параметр(28)
			#ИначеЕсли &amp;ОграничиватьДоступПоВиду#Параметр(28) = "ЕдинственныйВид  ,МножествоГрупп" #Тогда
			Выбрать Первые 1 Истина
			ИЗ #Параметр(1).ГруппыДоступа КАК ГруппыЗначений
				Внутреннее Соединение РегистрСведений.ЗначенияГруппДоступа КАК Значения
				ПО
					  ГруппыЗначений.Ссылка     = Т.#Параметр(29)
					И Значения.ГруппаДоступа    = ТаблицыГруппДоступа.ГруппаДоступа
					И Значения.ВидДоступа       = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(28))
					И Значения.ТолькоВидДоступа = Ложь
					И Значения.ЗначениеДоступа  = ГруппыЗначений.ГруппаДоступа
			#Иначе //  &amp;ОграничиватьДоступПоВиду##Параметр(28) = "ОдинИзМногихВидов,МножествоГрупп"
			Выбрать Первые 1 Истина
			ИЗ #Параметр(1).ГруппыДоступа#Параметр(28) КАК ГруппыЗначений
				Внутреннее Соединение РегистрСведений.ЗначенияГруппДоступа КАК Значения
				ПО
					  ГруппыЗначений.Ссылка     = Т.#Параметр(29)
					И Значения.ГруппаДоступа    = ТаблицыГруппДоступа.ГруппаДоступа
					И Значения.ВидДоступа       = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(28))
					И Значения.ТолькоВидДоступа = Ложь
					И Значения.ЗначениеДоступа  = ГруппыЗначений.ГруппаДоступа#Параметр(28)
			#КонецЕсли
		#Иначе  // "Т.##Параметр(29)" &lt;&gt; "Т.Ссылка"
			Выбрать Первые 1 Истина
			ИЗ РегистрСведений.ГруппыЗначенийДоступа КАК ГруппыЗначений
				Внутреннее Соединение РегистрСведений.ЗначенияГруппДоступа КАК Значения
				ПО
					  ГруппыЗначений.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(28))
					И ГруппыЗначений.ЗначениеДоступа = Т.#Параметр(29)
					И Значения.ГруппаДоступа         = ТаблицыГруппДоступа.ГруппаДоступа
					И Значения.ВидДоступа            = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(28))
					И Значения.ТолькоВидДоступа      = ГруппыЗначений.ТолькоВидДоступа
					И Значения.ЗначениеДоступа       = ГруппыЗначений.ГруппаДоступа
		#КонецЕсли
			)
			Тогда Истина
			Иначе Ложь
			Конец
			=
			Выбор
			Когда Истина В  // Проверка наличия ограничения по виду доступа для значений.
			(
			Выбрать Истина
			ИЗ РегистрСведений.ЗначенияГруппДоступа КАК Виды
			ГДЕ
				  Виды.ГруппаДоступа    = ТаблицыГруппДоступа.ГруппаДоступа
				И Виды.ВидДоступа       = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(28))
				И Виды.ТолькоВидДоступа = Истина
			)
			Тогда Истина
			Иначе Ложь
			Конец
	 )
	#КонецЕсли
#КонецЕсли

//// Проверка значения поля группы параметров 14.
#Если "#Параметр(30)" = "" И "#Параметр(31)" = "" #Тогда
	// Группа параметров не используется.
#ИначеЕсли "#Параметр(30)" = "Условие" ИЛИ "#Параметр(30)" = "" #Тогда
	// Когда имя вида доступа "Условие" (или ""), тогда вместо имени поля задано условие.
	И ( #Параметр(31) )
#ИначеЕсли "#Параметр(30)" = "ПравоЧтения" ИЛИ "#Параметр(30)" = "ПравоДобавления" ИЛИ "#Параметр(30)" = "ПравоИзменения" #Тогда
	И #Параметр(31) &lt;&gt; Неопределено
	И Истина В
	 (	// Проверка права пользователя на таблицу Значения, установленного в поле.
		Выбрать Первые 1 Истина
		ИЗ РегистрСведений.ТаблицыГруппДоступа КАК ТаблицыГруппДоступаПроверкаПрава
		ГДЕ
			  ТаблицыГруппДоступаПроверкаПрава.ГруппаДоступа = ТаблицыГруппДоступа.ГруппаДоступа
			И ТаблицыГруппДоступаПроверкаПрава.ТипТаблицы    = ТипыСсылокПараметр31.ТипТаблицы
		#Если "#Параметр(30)" = "ПравоДобавления" #Тогда
			И ТаблицыГруппДоступаПроверкаПрава.Добавление
		#ИначеЕсли "#Параметр(30)" = "ПравоИзменения" #Тогда
			И ТаблицыГруппДоступаПроверкаПрава.Изменение
		#КонецЕсли
	 )
#ИначеЕсли НЕ &amp;ОграничиватьДоступПоВиду#Параметр(30) = "" #Тогда
	И
	#Если &amp;ОграничиватьДоступПоВиду#Параметр(30) = "ЧерезПраваПоЗначениямДоступа" #Тогда
	 (
	НЕ Истина В // Проверка, что по виду доступа пользователь ограничивается.
		(
		Выбрать Истина
		ИЗ РегистрСведений.ЗначенияГруппДоступа КАК Виды
		ГДЕ
			  Виды.ГруппаДоступа    = ТаблицыГруппДоступа.ГруппаДоступа
			И Виды.ВидДоступа       = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(30))
			И Виды.ТолькоВидДоступа = Истина
		)
	ИЛИ
		Истина В // Проверка, что пользователю или какой-нибудь группе пользователя право разрешено
			(
			Выбрать Первые 1 Истина
			ИЗ РегистрСведений.ПраваПоЗначениямДоступа КАК ПраваПоЗначениям
				Внутреннее Соединение РегистрСведений.ГруппыЗначенийДоступа КАК ИерархияЗначений
				ПО
					  ИерархияЗначений.ИспользоватьПраваСсылки
					И ИерархияЗначений.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(30))
					И ИерархияЗначений.ЗначениеДоступа = Т.#Параметр(31)
					И ПраваПоЗначениям.Таблица         = "#Параметр(1)"
					И ПраваПоЗначениям.ЗначениеДоступа = ИерархияЗначений.ГруппаДоступа
					И ПраваПоЗначениям.#Параметр(2)
					И ПраваПоЗначениям.РаспространяетсяВИерархии &gt;= ИерархияЗначений.СвязьСРодителем
				Внутреннее Соединение РегистрСведений.ГруппыЗначенийДоступа КАК ПользователиИГруппыПользователей
				ПО
				#Если &amp;ТекущийВнешнийПользователь = Значение(Справочник.ВнешниеПользователи.ПустаяСсылка) #Тогда
					  ПользователиИГруппыПользователей.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.Пользователи)
					И ПользователиИГруппыПользователей.ЗначениеДоступа = &amp;ТекущийПользователь
				#Иначе
					  ПользователиИГруппыПользователей.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.ВнешниеПользователи)
					И ПользователиИГруппыПользователей.ЗначениеДоступа = &amp;ТекущийВнешнийПользователь
				#КонецЕсли
					И ПользователиИГруппыПользователей.ГруппаДоступа   = ПраваПоЗначениям.Пользователь
			)
		 И НЕ Ложь В // Проверка, что пользователю или какой-нибудь группе пользователя право запрещено
			(
			Выбрать Первые 1 Ложь
			ИЗ РегистрСведений.ПраваПоЗначениямДоступа КАК ПраваПоЗначениям
				Внутреннее Соединение РегистрСведений.ГруппыЗначенийДоступа КАК ИерархияЗначений
				ПО
					  ИерархияЗначений.ИспользоватьПраваСсылки
					И ИерархияЗначений.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(30))
					И ИерархияЗначений.ЗначениеДоступа = Т.#Параметр(31)
					И ПраваПоЗначениям.Таблица         = "#Параметр(1)"
					И ПраваПоЗначениям.ЗначениеДоступа = ИерархияЗначений.ГруппаДоступа
					И ПраваПоЗначениям.#Параметр(2)Запрещено
					И ПраваПоЗначениям.РаспространяетсяВИерархии &gt;= ИерархияЗначений.СвязьСРодителем
				Внутреннее Соединение РегистрСведений.ГруппыЗначенийДоступа КАК ПользователиИГруппыПользователей
				ПО
				#Если &amp;ТекущийВнешнийПользователь = Значение(Справочник.ВнешниеПользователи.ПустаяСсылка) #Тогда
					  ПользователиИГруппыПользователей.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.Пользователи)
					И ПользователиИГруппыПользователей.ЗначениеДоступа = &amp;ТекущийПользователь
				#Иначе
					  ПользователиИГруппыПользователей.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.ВнешниеПользователи)
					И ПользователиИГруппыПользователей.ЗначениеДоступа = &amp;ТекущийВнешнийПользователь
				#КонецЕсли
					И ПользователиИГруппыПользователей.ГруппаДоступа   = ПраваПоЗначениям.Пользователь
			)
	 )
	#Иначе
	 (
		#Если "#Параметр(30)" = "Пользователи" #Тогда
		  #Если &amp;ТекущийВнешнийПользователь = Значение(Справочник.ВнешниеПользователи.ПустаяСсылка) #Тогда
			Истина В
				(
				Выбрать Первые 1 Истина
				ИЗ РегистрСведений.ГруппыЗначенийДоступа КАК ПользователиИГруппыПользователей
				ГДЕ
					  ПользователиИГруппыПользователей.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.Пользователи)
					И ПользователиИГруппыПользователей.ЗначениеДоступа = &amp;ТекущийПользователь
					И ПользователиИГруппыПользователей.ГруппаДоступа   = Т.#Параметр(31)
				)
			ИЛИ
		  #КонецЕсли
		#ИначеЕсли "#Параметр(30)" = "ВнешниеПользователи" #Тогда
		  #Если НЕ (&amp;ТекущийВнешнийПользователь = Значение(Справочник.ВнешниеПользователи.ПустаяСсылка)) #Тогда
			Истина В
				(
				Выбрать Первые 1 Истина
				ИЗ РегистрСведений.ГруппыЗначенийДоступа КАК ПользователиИГруппыПользователей
				ГДЕ
					  ПользователиИГруппыПользователей.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.ВнешниеПользователи)
					И ПользователиИГруппыПользователей.ЗначениеДоступа = &amp;ТекущийВнешнийПользователь
					И ПользователиИГруппыПользователей.ГруппаДоступа   = Т.#Параметр(31)
				)
			ИЛИ
		  #КонецЕсли
		// Если ВидПоТипуЗначенияОдинИзМногих, тогда проверка возможности доступа к значению через вид доступа.
		#ИначеЕсли &amp;ОграничиватьДоступПоВиду#Параметр(30) = "ОдинИзМногихВидов,БезГрупп"   ИЛИ
		           &amp;ОграничиватьДоступПоВиду#Параметр(30) = "ОдинИзМногихВидов,ОднаГруппа" ИЛИ
		           &amp;ОграничиватьДоступПоВиду#Параметр(30) = "ОдинИзМногихВидов,МножествоГрупп" #Тогда
			(
			#Если "Т.#Параметр(31)" = "Т.Ссылка" #Тогда
				Т.ВидДоступа#Параметр(30)
			#Иначе
			НЕ Истина В
				(
				Выбрать Истина
				ИЗ РегистрСведений.ГруппыЗначенийДоступа КАК ВидыЗначения
				ГДЕ
					  ВидыЗначения.ВидДоступа       = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(30))
					И ВидыЗначения.ЗначениеДоступа  = Т.#Параметр(31)
					И ВидыЗначения.ТолькоВидДоступа = Истина
				)
			#КонецЕсли
			) И
		#КонецЕсли
			Выбор
			Когда Истина В // Поиск значения в группе доступа (пользователей) непосредственно или через группы доступа значений.
			(
		#Если      &amp;ОграничиватьДоступПоВиду#Параметр(30) = "ЕдинственныйВид,  БезГрупп" ИЛИ
		           &amp;ОграничиватьДоступПоВиду#Параметр(30) = "ОдинИзМногихВидов,БезГрупп" #Тогда
			Выбрать Истина
			ИЗ РегистрСведений.ЗначенияГруппДоступа КАК Значения
			ГДЕ
				  Значения.ГруппаДоступа    = ТаблицыГруппДоступа.ГруппаДоступа
				И Значения.ВидДоступа       = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(30))
				И Значения.ТолькоВидДоступа = Ложь
				И Значения.ЗначениеДоступа  = Т.#Параметр(31)
		#ИначеЕсли "Т.#Параметр(31)" = "Т.Ссылка" #Тогда
			#Если      &amp;ОграничиватьДоступПоВиду#Параметр(30) = "ЕдинственныйВид,  ОднаГруппа" #Тогда
			Выбрать Истина
			ИЗ РегистрСведений.ЗначенияГруппДоступа КАК Значения
			ГДЕ
				  Значения.ГруппаДоступа    = ТаблицыГруппДоступа.ГруппаДоступа
				И Значения.ВидДоступа       = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(30))
				И Значения.ТолькоВидДоступа = Ложь
				И Значения.ЗначениеДоступа  = Т.ГруппаДоступа
			#ИначеЕсли &amp;ОграничиватьДоступПоВиду#Параметр(30) = "ОдинИзМногихВидов,ОднаГруппа" #Тогда
			Выбрать Истина
			ИЗ РегистрСведений.ЗначенияГруппДоступа КАК Значения
			ГДЕ
				  Значения.ГруппаДоступа    = ТаблицыГруппДоступа.ГруппаДоступа
				И Значения.ВидДоступа       = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(30))
				И Значения.ТолькоВидДоступа = Ложь
				И Значения.ЗначениеДоступа  = Т.ГруппаДоступа#Параметр(30)
			#ИначеЕсли &amp;ОграничиватьДоступПоВиду#Параметр(30) = "ЕдинственныйВид  ,МножествоГрупп" #Тогда
			Выбрать Первые 1 Истина
			ИЗ #Параметр(1).ГруппыДоступа КАК ГруппыЗначений
				Внутреннее Соединение РегистрСведений.ЗначенияГруппДоступа КАК Значения
				ПО
					  ГруппыЗначений.Ссылка     = Т.#Параметр(31)
					И Значения.ГруппаДоступа    = ТаблицыГруппДоступа.ГруппаДоступа
					И Значения.ВидДоступа       = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(30))
					И Значения.ТолькоВидДоступа = Ложь
					И Значения.ЗначениеДоступа  = ГруппыЗначений.ГруппаДоступа
			#Иначе //  &amp;ОграничиватьДоступПоВиду##Параметр(30) = "ОдинИзМногихВидов,МножествоГрупп"
			Выбрать Первые 1 Истина
			ИЗ #Параметр(1).ГруппыДоступа#Параметр(30) КАК ГруппыЗначений
				Внутреннее Соединение РегистрСведений.ЗначенияГруппДоступа КАК Значения
				ПО
					  ГруппыЗначений.Ссылка     = Т.#Параметр(31)
					И Значения.ГруппаДоступа    = ТаблицыГруппДоступа.ГруппаДоступа
					И Значения.ВидДоступа       = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(30))
					И Значения.ТолькоВидДоступа = Ложь
					И Значения.ЗначениеДоступа  = ГруппыЗначений.ГруппаДоступа#Параметр(30)
			#КонецЕсли
		#Иначе  // "Т.##Параметр(31)" &lt;&gt; "Т.Ссылка"
			Выбрать Первые 1 Истина
			ИЗ РегистрСведений.ГруппыЗначенийДоступа КАК ГруппыЗначений
				Внутреннее Соединение РегистрСведений.ЗначенияГруппДоступа КАК Значения
				ПО
					  ГруппыЗначений.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(30))
					И ГруппыЗначений.ЗначениеДоступа = Т.#Параметр(31)
					И Значения.ГруппаДоступа         = ТаблицыГруппДоступа.ГруппаДоступа
					И Значения.ВидДоступа            = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(30))
					И Значения.ТолькоВидДоступа      = ГруппыЗначений.ТолькоВидДоступа
					И Значения.ЗначениеДоступа       = ГруппыЗначений.ГруппаДоступа
		#КонецЕсли
			)
			Тогда Истина
			Иначе Ложь
			Конец
			=
			Выбор
			Когда Истина В  // Проверка наличия ограничения по виду доступа для значений.
			(
			Выбрать Истина
			ИЗ РегистрСведений.ЗначенияГруппДоступа КАК Виды
			ГДЕ
				  Виды.ГруппаДоступа    = ТаблицыГруппДоступа.ГруппаДоступа
				И Виды.ВидДоступа       = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(30))
				И Виды.ТолькоВидДоступа = Истина
			)
			Тогда Истина
			Иначе Ложь
			Конец
	 )
	#КонецЕсли
#КонецЕсли

//// Проверка значения поля группы параметров 15.
#Если "#Параметр(32)" = "" И "#Параметр(33)" = "" #Тогда
	// Группа параметров не используется.
#ИначеЕсли "#Параметр(32)" = "Условие" ИЛИ "#Параметр(32)" = "" #Тогда
	// Когда имя вида доступа "Условие" (или ""), тогда вместо имени поля задано условие.
	И ( #Параметр(33) )
#ИначеЕсли "#Параметр(32)" = "ПравоЧтения" ИЛИ "#Параметр(32)" = "ПравоДобавления" ИЛИ "#Параметр(32)" = "ПравоИзменения" #Тогда
	И #Параметр(33) &lt;&gt; Неопределено
	И Истина В
	 (	// Проверка права пользователя на таблицу Значения, установленного в поле.
		Выбрать Первые 1 Истина
		ИЗ РегистрСведений.ТаблицыГруппДоступа КАК ТаблицыГруппДоступаПроверкаПрава
		ГДЕ
			  ТаблицыГруппДоступаПроверкаПрава.ГруппаДоступа = ТаблицыГруппДоступа.ГруппаДоступа
			И ТаблицыГруппДоступаПроверкаПрава.ТипТаблицы    = ТипыСсылокПараметр33.ТипТаблицы
		#Если "#Параметр(32)" = "ПравоДобавления" #Тогда
			И ТаблицыГруппДоступаПроверкаПрава.Добавление
		#ИначеЕсли "#Параметр(32)" = "ПравоИзменения" #Тогда
			И ТаблицыГруппДоступаПроверкаПрава.Изменение
		#КонецЕсли
	 )
#ИначеЕсли НЕ &amp;ОграничиватьДоступПоВиду#Параметр(32) = "" #Тогда
	И
	#Если &amp;ОграничиватьДоступПоВиду#Параметр(32) = "ЧерезПраваПоЗначениямДоступа" #Тогда
	 (
	НЕ Истина В // Проверка, что по виду доступа пользователь ограничивается.
		(
		Выбрать Истина
		ИЗ РегистрСведений.ЗначенияГруппДоступа КАК Виды
		ГДЕ
			  Виды.ГруппаДоступа    = ТаблицыГруппДоступа.ГруппаДоступа
			И Виды.ВидДоступа       = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(32))
			И Виды.ТолькоВидДоступа = Истина
		)
	ИЛИ
		Истина В // Проверка, что пользователю или какой-нибудь группе пользователя право разрешено
			(
			Выбрать Первые 1 Истина
			ИЗ РегистрСведений.ПраваПоЗначениямДоступа КАК ПраваПоЗначениям
				Внутреннее Соединение РегистрСведений.ГруппыЗначенийДоступа КАК ИерархияЗначений
				ПО
					  ИерархияЗначений.ИспользоватьПраваСсылки
					И ИерархияЗначений.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(32))
					И ИерархияЗначений.ЗначениеДоступа = Т.#Параметр(33)
					И ПраваПоЗначениям.Таблица         = "#Параметр(1)"
					И ПраваПоЗначениям.ЗначениеДоступа = ИерархияЗначений.ГруппаДоступа
					И ПраваПоЗначениям.#Параметр(2)
					И ПраваПоЗначениям.РаспространяетсяВИерархии &gt;= ИерархияЗначений.СвязьСРодителем
				Внутреннее Соединение РегистрСведений.ГруппыЗначенийДоступа КАК ПользователиИГруппыПользователей
				ПО
				#Если &amp;ТекущийВнешнийПользователь = Значение(Справочник.ВнешниеПользователи.ПустаяСсылка) #Тогда
					  ПользователиИГруппыПользователей.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.Пользователи)
					И ПользователиИГруппыПользователей.ЗначениеДоступа = &amp;ТекущийПользователь
				#Иначе
					  ПользователиИГруппыПользователей.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.ВнешниеПользователи)
					И ПользователиИГруппыПользователей.ЗначениеДоступа = &amp;ТекущийВнешнийПользователь
				#КонецЕсли
					И ПользователиИГруппыПользователей.ГруппаДоступа   = ПраваПоЗначениям.Пользователь
			)
		 И НЕ Ложь В // Проверка, что пользователю или какой-нибудь группе пользователя право запрещено
			(
			Выбрать Первые 1 Ложь
			ИЗ РегистрСведений.ПраваПоЗначениямДоступа КАК ПраваПоЗначениям
				Внутреннее Соединение РегистрСведений.ГруппыЗначенийДоступа КАК ИерархияЗначений
				ПО
					  ИерархияЗначений.ИспользоватьПраваСсылки
					И ИерархияЗначений.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(32))
					И ИерархияЗначений.ЗначениеДоступа = Т.#Параметр(33)
					И ПраваПоЗначениям.Таблица         = "#Параметр(1)"
					И ПраваПоЗначениям.ЗначениеДоступа = ИерархияЗначений.ГруппаДоступа
					И ПраваПоЗначениям.#Параметр(2)Запрещено
					И ПраваПоЗначениям.РаспространяетсяВИерархии &gt;= ИерархияЗначений.СвязьСРодителем
				Внутреннее Соединение РегистрСведений.ГруппыЗначенийДоступа КАК ПользователиИГруппыПользователей
				ПО
				#Если &amp;ТекущийВнешнийПользователь = Значение(Справочник.ВнешниеПользователи.ПустаяСсылка) #Тогда
					  ПользователиИГруппыПользователей.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.Пользователи)
					И ПользователиИГруппыПользователей.ЗначениеДоступа = &amp;ТекущийПользователь
				#Иначе
					  ПользователиИГруппыПользователей.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.ВнешниеПользователи)
					И ПользователиИГруппыПользователей.ЗначениеДоступа = &amp;ТекущийВнешнийПользователь
				#КонецЕсли
					И ПользователиИГруппыПользователей.ГруппаДоступа   = ПраваПоЗначениям.Пользователь
			)
	 )
	#Иначе
	 (
		#Если "#Параметр(32)" = "Пользователи" #Тогда
		  #Если &amp;ТекущийВнешнийПользователь = Значение(Справочник.ВнешниеПользователи.ПустаяСсылка) #Тогда
			Истина В
				(
				Выбрать Первые 1 Истина
				ИЗ РегистрСведений.ГруппыЗначенийДоступа КАК ПользователиИГруппыПользователей
				ГДЕ
					  ПользователиИГруппыПользователей.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.Пользователи)
					И ПользователиИГруппыПользователей.ЗначениеДоступа = &amp;ТекущийПользователь
					И ПользователиИГруппыПользователей.ГруппаДоступа   = Т.#Параметр(33)
				)
			ИЛИ
		  #КонецЕсли
		#ИначеЕсли "#Параметр(32)" = "ВнешниеПользователи" #Тогда
		  #Если НЕ (&amp;ТекущийВнешнийПользователь = Значение(Справочник.ВнешниеПользователи.ПустаяСсылка)) #Тогда
			Истина В
				(
				Выбрать Первые 1 Истина
				ИЗ РегистрСведений.ГруппыЗначенийДоступа КАК ПользователиИГруппыПользователей
				ГДЕ
					  ПользователиИГруппыПользователей.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.ВнешниеПользователи)
					И ПользователиИГруппыПользователей.ЗначениеДоступа = &amp;ТекущийВнешнийПользователь
					И ПользователиИГруппыПользователей.ГруппаДоступа   = Т.#Параметр(33)
				)
			ИЛИ
		  #КонецЕсли
		// Если ВидПоТипуЗначенияОдинИзМногих, тогда проверка возможности доступа к значению через вид доступа.
		#ИначеЕсли &amp;ОграничиватьДоступПоВиду#Параметр(32) = "ОдинИзМногихВидов,БезГрупп"   ИЛИ
		           &amp;ОграничиватьДоступПоВиду#Параметр(32) = "ОдинИзМногихВидов,ОднаГруппа" ИЛИ
		           &amp;ОграничиватьДоступПоВиду#Параметр(32) = "ОдинИзМногихВидов,МножествоГрупп" #Тогда
			(
			#Если "Т.#Параметр(33)" = "Т.Ссылка" #Тогда
				Т.ВидДоступа#Параметр(32)
			#Иначе
			НЕ Истина В
				(
				Выбрать Истина
				ИЗ РегистрСведений.ГруппыЗначенийДоступа КАК ВидыЗначения
				ГДЕ
					  ВидыЗначения.ВидДоступа       = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(32))
					И ВидыЗначения.ЗначениеДоступа  = Т.#Параметр(33)
					И ВидыЗначения.ТолькоВидДоступа = Истина
				)
			#КонецЕсли
			) И
		#КонецЕсли
			Выбор
			Когда Истина В // Поиск значения в группе доступа (пользователей) непосредственно или через группы доступа значений.
			(
		#Если      &amp;ОграничиватьДоступПоВиду#Параметр(32) = "ЕдинственныйВид,  БезГрупп" ИЛИ
		           &amp;ОграничиватьДоступПоВиду#Параметр(32) = "ОдинИзМногихВидов,БезГрупп" #Тогда
			Выбрать Истина
			ИЗ РегистрСведений.ЗначенияГруппДоступа КАК Значения
			ГДЕ
				  Значения.ГруппаДоступа    = ТаблицыГруппДоступа.ГруппаДоступа
				И Значения.ВидДоступа       = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(32))
				И Значения.ТолькоВидДоступа = Ложь
				И Значения.ЗначениеДоступа  = Т.#Параметр(33)
		#ИначеЕсли "Т.#Параметр(33)" = "Т.Ссылка" #Тогда
			#Если      &amp;ОграничиватьДоступПоВиду#Параметр(32) = "ЕдинственныйВид,  ОднаГруппа" #Тогда
			Выбрать Истина
			ИЗ РегистрСведений.ЗначенияГруппДоступа КАК Значения
			ГДЕ
				  Значения.ГруппаДоступа    = ТаблицыГруппДоступа.ГруппаДоступа
				И Значения.ВидДоступа       = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(32))
				И Значения.ТолькоВидДоступа = Ложь
				И Значения.ЗначениеДоступа  = Т.ГруппаДоступа
			#ИначеЕсли &amp;ОграничиватьДоступПоВиду#Параметр(32) = "ОдинИзМногихВидов,ОднаГруппа" #Тогда
			Выбрать Истина
			ИЗ РегистрСведений.ЗначенияГруппДоступа КАК Значения
			ГДЕ
				  Значения.ГруппаДоступа    = ТаблицыГруппДоступа.ГруппаДоступа
				И Значения.ВидДоступа       = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(32))
				И Значения.ТолькоВидДоступа = Ложь
				И Значения.ЗначениеДоступа  = Т.ГруппаДоступа#Параметр(32)
			#ИначеЕсли &amp;ОграничиватьДоступПоВиду#Параметр(32) = "ЕдинственныйВид  ,МножествоГрупп" #Тогда
			Выбрать Первые 1 Истина
			ИЗ #Параметр(1).ГруппыДоступа КАК ГруппыЗначений
				Внутреннее Соединение РегистрСведений.ЗначенияГруппДоступа КАК Значения
				ПО
					  ГруппыЗначений.Ссылка     = Т.#Параметр(33)
					И Значения.ГруппаДоступа    = ТаблицыГруппДоступа.ГруппаДоступа
					И Значения.ВидДоступа       = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(32))
					И Значения.ТолькоВидДоступа = Ложь
					И Значения.ЗначениеДоступа  = ГруппыЗначений.ГруппаДоступа
			#Иначе //  &amp;ОграничиватьДоступПоВиду##Параметр(32) = "ОдинИзМногихВидов,МножествоГрупп"
			Выбрать Первые 1 Истина
			ИЗ #Параметр(1).ГруппыДоступа#Параметр(32) КАК ГруппыЗначений
				Внутреннее Соединение РегистрСведений.ЗначенияГруппДоступа КАК Значения
				ПО
					  ГруппыЗначений.Ссылка     = Т.#Параметр(33)
					И Значения.ГруппаДоступа    = ТаблицыГруппДоступа.ГруппаДоступа
					И Значения.ВидДоступа       = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(32))
					И Значения.ТолькоВидДоступа = Ложь
					И Значения.ЗначениеДоступа  = ГруппыЗначений.ГруппаДоступа#Параметр(32)
			#КонецЕсли
		#Иначе  // "Т.##Параметр(33)" &lt;&gt; "Т.Ссылка"
			Выбрать Первые 1 Истина
			ИЗ РегистрСведений.ГруппыЗначенийДоступа КАК ГруппыЗначений
				Внутреннее Соединение РегистрСведений.ЗначенияГруппДоступа КАК Значения
				ПО
					  ГруппыЗначений.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(32))
					И ГруппыЗначений.ЗначениеДоступа = Т.#Параметр(33)
					И Значения.ГруппаДоступа         = ТаблицыГруппДоступа.ГруппаДоступа
					И Значения.ВидДоступа            = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(32))
					И Значения.ТолькоВидДоступа      = ГруппыЗначений.ТолькоВидДоступа
					И Значения.ЗначениеДоступа       = ГруппыЗначений.ГруппаДоступа
		#КонецЕсли
			)
			Тогда Истина
			Иначе Ложь
			Конец
			=
			Выбор
			Когда Истина В  // Проверка наличия ограничения по виду доступа для значений.
			(
			Выбрать Истина
			ИЗ РегистрСведений.ЗначенияГруппДоступа КАК Виды
			ГДЕ
				  Виды.ГруппаДоступа    = ТаблицыГруппДоступа.ГруппаДоступа
				И Виды.ВидДоступа       = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(32))
				И Виды.ТолькоВидДоступа = Истина
			)
			Тогда Истина
			Иначе Ложь
			Конец
	 )
	#КонецЕсли
#КонецЕсли

//// Проверка значения поля группы параметров 16.
#Если "#Параметр(34)" = "" И "#Параметр(35)" = "" #Тогда
	// Группа параметров не используется.
#ИначеЕсли "#Параметр(34)" = "Условие" ИЛИ "#Параметр(34)" = "" #Тогда
	// Когда имя вида доступа "Условие" (или ""), тогда вместо имени поля задано условие.
	И ( #Параметр(35) )
#ИначеЕсли "#Параметр(34)" = "ПравоЧтения" ИЛИ "#Параметр(34)" = "ПравоДобавления" ИЛИ "#Параметр(34)" = "ПравоИзменения" #Тогда
	И #Параметр(35) &lt;&gt; Неопределено
	И Истина В
	 (	// Проверка права пользователя на таблицу Значения, установленного в поле.
		Выбрать Первые 1 Истина
		ИЗ РегистрСведений.ТаблицыГруппДоступа КАК ТаблицыГруппДоступаПроверкаПрава
		ГДЕ
			  ТаблицыГруппДоступаПроверкаПрава.ГруппаДоступа = ТаблицыГруппДоступа.ГруппаДоступа
			И ТаблицыГруппДоступаПроверкаПрава.ТипТаблицы    = ТипыСсылокПараметр35.ТипТаблицы
		#Если "#Параметр(34)" = "ПравоДобавления" #Тогда
			И ТаблицыГруппДоступаПроверкаПрава.Добавление
		#ИначеЕсли "#Параметр(34)" = "ПравоИзменения" #Тогда
			И ТаблицыГруппДоступаПроверкаПрава.Изменение
		#КонецЕсли
	 )
#ИначеЕсли НЕ &amp;ОграничиватьДоступПоВиду#Параметр(34) = "" #Тогда
	И
	#Если &amp;ОграничиватьДоступПоВиду#Параметр(34) = "ЧерезПраваПоЗначениямДоступа" #Тогда
	 (
	НЕ Истина В // Проверка, что по виду доступа пользователь ограничивается.
		(
		Выбрать Истина
		ИЗ РегистрСведений.ЗначенияГруппДоступа КАК Виды
		ГДЕ
			  Виды.ГруппаДоступа    = ТаблицыГруппДоступа.ГруппаДоступа
			И Виды.ВидДоступа       = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(34))
			И Виды.ТолькоВидДоступа = Истина
		)
	ИЛИ
		Истина В // Проверка, что пользователю или какой-нибудь группе пользователя право разрешено
			(
			Выбрать Первые 1 Истина
			ИЗ РегистрСведений.ПраваПоЗначениямДоступа КАК ПраваПоЗначениям
				Внутреннее Соединение РегистрСведений.ГруппыЗначенийДоступа КАК ИерархияЗначений
				ПО
					  ИерархияЗначений.ИспользоватьПраваСсылки
					И ИерархияЗначений.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(34))
					И ИерархияЗначений.ЗначениеДоступа = Т.#Параметр(35)
					И ПраваПоЗначениям.Таблица         = "#Параметр(1)"
					И ПраваПоЗначениям.ЗначениеДоступа = ИерархияЗначений.ГруппаДоступа
					И ПраваПоЗначениям.#Параметр(2)
					И ПраваПоЗначениям.РаспространяетсяВИерархии &gt;= ИерархияЗначений.СвязьСРодителем
				Внутреннее Соединение РегистрСведений.ГруппыЗначенийДоступа КАК ПользователиИГруппыПользователей
				ПО
				#Если &amp;ТекущийВнешнийПользователь = Значение(Справочник.ВнешниеПользователи.ПустаяСсылка) #Тогда
					  ПользователиИГруппыПользователей.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.Пользователи)
					И ПользователиИГруппыПользователей.ЗначениеДоступа = &amp;ТекущийПользователь
				#Иначе
					  ПользователиИГруппыПользователей.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.ВнешниеПользователи)
					И ПользователиИГруппыПользователей.ЗначениеДоступа = &amp;ТекущийВнешнийПользователь
				#КонецЕсли
					И ПользователиИГруппыПользователей.ГруппаДоступа   = ПраваПоЗначениям.Пользователь
			)
		 И НЕ Ложь В // Проверка, что пользователю или какой-нибудь группе пользователя право запрещено
			(
			Выбрать Первые 1 Ложь
			ИЗ РегистрСведений.ПраваПоЗначениямДоступа КАК ПраваПоЗначениям
				Внутреннее Соединение РегистрСведений.ГруппыЗначенийДоступа КАК ИерархияЗначений
				ПО
					  ИерархияЗначений.ИспользоватьПраваСсылки
					И ИерархияЗначений.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(34))
					И ИерархияЗначений.ЗначениеДоступа = Т.#Параметр(35)
					И ПраваПоЗначениям.Таблица         = "#Параметр(1)"
					И ПраваПоЗначениям.ЗначениеДоступа = ИерархияЗначений.ГруппаДоступа
					И ПраваПоЗначениям.#Параметр(2)Запрещено
					И ПраваПоЗначениям.РаспространяетсяВИерархии &gt;= ИерархияЗначений.СвязьСРодителем
				Внутреннее Соединение РегистрСведений.ГруппыЗначенийДоступа КАК ПользователиИГруппыПользователей
				ПО
				#Если &amp;ТекущийВнешнийПользователь = Значение(Справочник.ВнешниеПользователи.ПустаяСсылка) #Тогда
					  ПользователиИГруппыПользователей.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.Пользователи)
					И ПользователиИГруппыПользователей.ЗначениеДоступа = &amp;ТекущийПользователь
				#Иначе
					  ПользователиИГруппыПользователей.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.ВнешниеПользователи)
					И ПользователиИГруппыПользователей.ЗначениеДоступа = &amp;ТекущийВнешнийПользователь
				#КонецЕсли
					И ПользователиИГруппыПользователей.ГруппаДоступа   = ПраваПоЗначениям.Пользователь
			)
	 )
	#Иначе
	 (
		#Если "#Параметр(34)" = "Пользователи" #Тогда
		  #Если &amp;ТекущийВнешнийПользователь = Значение(Справочник.ВнешниеПользователи.ПустаяСсылка) #Тогда
			Истина В
				(
				Выбрать Первые 1 Истина
				ИЗ РегистрСведений.ГруппыЗначенийДоступа КАК ПользователиИГруппыПользователей
				ГДЕ
					  ПользователиИГруппыПользователей.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.Пользователи)
					И ПользователиИГруппыПользователей.ЗначениеДоступа = &amp;ТекущийПользователь
					И ПользователиИГруппыПользователей.ГруппаДоступа   = Т.#Параметр(35)
				)
			ИЛИ
		  #КонецЕсли
		#ИначеЕсли "#Параметр(34)" = "ВнешниеПользователи" #Тогда
		  #Если НЕ (&amp;ТекущийВнешнийПользователь = Значение(Справочник.ВнешниеПользователи.ПустаяСсылка)) #Тогда
			Истина В
				(
				Выбрать Первые 1 Истина
				ИЗ РегистрСведений.ГруппыЗначенийДоступа КАК ПользователиИГруппыПользователей
				ГДЕ
					  ПользователиИГруппыПользователей.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.ВнешниеПользователи)
					И ПользователиИГруппыПользователей.ЗначениеДоступа = &amp;ТекущийВнешнийПользователь
					И ПользователиИГруппыПользователей.ГруппаДоступа   = Т.#Параметр(35)
				)
			ИЛИ
		  #КонецЕсли
		// Если ВидПоТипуЗначенияОдинИзМногих, тогда проверка возможности доступа к значению через вид доступа.
		#ИначеЕсли &amp;ОграничиватьДоступПоВиду#Параметр(34) = "ОдинИзМногихВидов,БезГрупп"   ИЛИ
		           &amp;ОграничиватьДоступПоВиду#Параметр(34) = "ОдинИзМногихВидов,ОднаГруппа" ИЛИ
		           &amp;ОграничиватьДоступПоВиду#Параметр(34) = "ОдинИзМногихВидов,МножествоГрупп" #Тогда
			(
			#Если "Т.#Параметр(35)" = "Т.Ссылка" #Тогда
				Т.ВидДоступа#Параметр(34)
			#Иначе
			НЕ Истина В
				(
				Выбрать Истина
				ИЗ РегистрСведений.ГруппыЗначенийДоступа КАК ВидыЗначения
				ГДЕ
					  ВидыЗначения.ВидДоступа       = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(34))
					И ВидыЗначения.ЗначениеДоступа  = Т.#Параметр(35)
					И ВидыЗначения.ТолькоВидДоступа = Истина
				)
			#КонецЕсли
			) И
		#КонецЕсли
			Выбор
			Когда Истина В // Поиск значения в группе доступа (пользователей) непосредственно или через группы доступа значений.
			(
		#Если      &amp;ОграничиватьДоступПоВиду#Параметр(34) = "ЕдинственныйВид,  БезГрупп" ИЛИ
		           &amp;ОграничиватьДоступПоВиду#Параметр(34) = "ОдинИзМногихВидов,БезГрупп" #Тогда
			Выбрать Истина
			ИЗ РегистрСведений.ЗначенияГруппДоступа КАК Значения
			ГДЕ
				  Значения.ГруппаДоступа    = ТаблицыГруппДоступа.ГруппаДоступа
				И Значения.ВидДоступа       = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(34))
				И Значения.ТолькоВидДоступа = Ложь
				И Значения.ЗначениеДоступа  = Т.#Параметр(35)
		#ИначеЕсли "Т.#Параметр(35)" = "Т.Ссылка" #Тогда
			#Если      &amp;ОграничиватьДоступПоВиду#Параметр(34) = "ЕдинственныйВид,  ОднаГруппа" #Тогда
			Выбрать Истина
			ИЗ РегистрСведений.ЗначенияГруппДоступа КАК Значения
			ГДЕ
				  Значения.ГруппаДоступа    = ТаблицыГруппДоступа.ГруппаДоступа
				И Значения.ВидДоступа       = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(34))
				И Значения.ТолькоВидДоступа = Ложь
				И Значения.ЗначениеДоступа  = Т.ГруппаДоступа
			#ИначеЕсли &amp;ОграничиватьДоступПоВиду#Параметр(34) = "ОдинИзМногихВидов,ОднаГруппа" #Тогда
			Выбрать Истина
			ИЗ РегистрСведений.ЗначенияГруппДоступа КАК Значения
			ГДЕ
				  Значения.ГруппаДоступа    = ТаблицыГруппДоступа.ГруппаДоступа
				И Значения.ВидДоступа       = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(34))
				И Значения.ТолькоВидДоступа = Ложь
				И Значения.ЗначениеДоступа  = Т.ГруппаДоступа#Параметр(34)
			#ИначеЕсли &amp;ОграничиватьДоступПоВиду#Параметр(34) = "ЕдинственныйВид  ,МножествоГрупп" #Тогда
			Выбрать Первые 1 Истина
			ИЗ #Параметр(1).ГруппыДоступа КАК ГруппыЗначений
				Внутреннее Соединение РегистрСведений.ЗначенияГруппДоступа КАК Значения
				ПО
					  ГруппыЗначений.Ссылка     = Т.#Параметр(35)
					И Значения.ГруппаДоступа    = ТаблицыГруппДоступа.ГруппаДоступа
					И Значения.ВидДоступа       = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(34))
					И Значения.ТолькоВидДоступа = Ложь
					И Значения.ЗначениеДоступа  = ГруппыЗначений.ГруппаДоступа
			#Иначе //  &amp;ОграничиватьДоступПоВиду##Параметр(34) = "ОдинИзМногихВидов,МножествоГрупп"
			Выбрать Первые 1 Истина
			ИЗ #Параметр(1).ГруппыДоступа#Параметр(34) КАК ГруппыЗначений
				Внутреннее Соединение РегистрСведений.ЗначенияГруппДоступа КАК Значения
				ПО
					  ГруппыЗначений.Ссылка     = Т.#Параметр(35)
					И Значения.ГруппаДоступа    = ТаблицыГруппДоступа.ГруппаДоступа
					И Значения.ВидДоступа       = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(34))
					И Значения.ТолькоВидДоступа = Ложь
					И Значения.ЗначениеДоступа  = ГруппыЗначений.ГруппаДоступа#Параметр(34)
			#КонецЕсли
		#Иначе  // "Т.##Параметр(35)" &lt;&gt; "Т.Ссылка"
			Выбрать Первые 1 Истина
			ИЗ РегистрСведений.ГруппыЗначенийДоступа КАК ГруппыЗначений
				Внутреннее Соединение РегистрСведений.ЗначенияГруппДоступа КАК Значения
				ПО
					  ГруппыЗначений.ВидДоступа      = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(34))
					И ГруппыЗначений.ЗначениеДоступа = Т.#Параметр(35)
					И Значения.ГруппаДоступа         = ТаблицыГруппДоступа.ГруппаДоступа
					И Значения.ВидДоступа            = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(34))
					И Значения.ТолькоВидДоступа      = ГруппыЗначений.ТолькоВидДоступа
					И Значения.ЗначениеДоступа       = ГруппыЗначений.ГруппаДоступа
		#КонецЕсли
			)
			Тогда Истина
			Иначе Ложь
			Конец
			=
			Выбор
			Когда Истина В  // Проверка наличия ограничения по виду доступа для значений.
			(
			Выбрать Истина
			ИЗ РегистрСведений.ЗначенияГруппДоступа КАК Виды
			ГДЕ
				  Виды.ГруппаДоступа    = ТаблицыГруппДоступа.ГруппаДоступа
				И Виды.ВидДоступа       = Значение(ПланВидовХарактеристик.ВидыДоступа.#Параметр(34))
				И Виды.ТолькоВидДоступа = Истина
			)
			Тогда Истина
			Иначе Ложь
			Конец
	 )
	#КонецЕсли
#КонецЕсли

  )
)
#КонецЕсли

</condition>
	</restrictionTemplate>
</Rights>